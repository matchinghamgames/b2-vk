var AssetLoadManager=pc.createScript("assetLoadManager");AssetLoadManager.attributes.add("loadCount",{title:"Load Count",type:"number"}),AssetLoadManager.attributes.add("currentLevelLoaded",{title:"On Current Level Loaded",type:"string"}),AssetLoadManager.attributes.add("customAssetsLoaded",{title:"On Custom Assets Loaded",type:"string"}),AssetLoadManager.State={SetDetails:0,StartLoading:1,LoadNext:2,Idol:3},AssetLoadManager.prototype.initialize=function(){AssetLoadManager.Instance=this,this.levelsState=[],this.assetsToLoad=null,this.assetsToUnload=null,this.app.on(this.loadAssetEvent,this.loadAssets,this),this.app.on(this.unloadAssetEvent,this.unloadAsset,this),this.currentState=AssetLoadManager.State.Idol,this.currentLevel=0,this.loadingIndex=0,this.customAssetTags=[],this.customAssets=void 0,this.notifiedLoadedAssets=0},AssetLoadManager.prototype.update=function(){switch(this.currentState){case AssetLoadManager.State.SetDetails:this.setLevelsDetails();break;case AssetLoadManager.State.StartLoading:this.startLoading();break;case AssetLoadManager.State.LoadNext:this.loadNext();case AssetLoadManager.State.Idol:}this.loadCustomAssets()},AssetLoadManager.prototype.startLoadingAssets=function(){this.currentState=AssetLoadManager.State.SetDetails},AssetLoadManager.prototype.setLevelsDetails=function(){let t=LevelsManager.Instance.currentLevel+1,s=[];for(let e=0;e<this.loadCount;e++)s.push({level:t+e,loaded:this.isLoaded(t+e,!0)});for(let t=0;t<this.levelsState.length;t++)this.unloadAssets(this.levelsState[t].level);this.levelsState=s,this.loadingIndex=0,this.currentState=AssetLoadManager.State.StartLoading},AssetLoadManager.prototype.startLoading=function(){if(this.levelsState[this.loadingIndex].loaded)return void(this.currentState=AssetLoadManager.State.LoadNext);null===this.assetsToLoad&&(this.assetsToLoad=this.app.assets.findByTag("Level "+this.levelsState[this.loadingIndex].level),this.loadAssets(this.assetsToLoad));let t=0;for(let s=0;s<this.assetsToLoad.length;s++)t+=this.assetsToLoad[s].loaded?1:0;t===this.assetsToLoad.length&&(this.levelsState[this.loadingIndex].level===LevelsManager.Instance.currentLevel+1&&this.app.fire(this.currentLevelLoaded),this.levelsState[this.loadingIndex].loaded=!0,this.currentState=AssetLoadManager.State.LoadNext)},AssetLoadManager.prototype.loadNext=function(){this.loadingIndex++,this.assetsToLoad=null,this.loadingIndex>=this.levelsState.length?(this.currentState=AssetLoadManager.State.Idol,this.loadingIndex=0):this.currentState=AssetLoadManager.State.StartLoading},AssetLoadManager.prototype.loadAssets=function(t){for(let s=0;s<t.length;s++)this.app.assets.load(t[s])},AssetLoadManager.prototype.unloadAssets=function(t){for(let t=0;t<assets.length;t++)this.app.assets.unload(assets[t])},AssetLoadManager.prototype.isLoaded=function(t,s){if(this.levelsState.length<1)return!1;let e=this.levelsState.findIndex((s=>s.level===t));return s&&this.levelsState.splice(e,1),-1!==e},AssetLoadManager.prototype.loadCustomAssets=function(){if(this.customAssetTags.length<1||void 0===this.customAssets)return;if(null===this.customAssets){this.app.fire(this.app.events.assetsManager.loadedPercentage,0),this.customAssets=[];for(let t=0;t<this.customAssetTags.length;t++){let s=this.app.assets.findByTag(this.customAssetTags[t]);for(let t=0;t<s.length;t++)this.app.assets.load(s[t]),this.customAssets.push(s[t])}}let t=0;for(let s=0;s<this.customAssets.length;s++)t+=this.customAssets[s].loaded?1:0;this.notifiedLoadedAssets!==t&&(this.app.fire(this.app.events.assetsManager.loadedPercentage,t/this.customAssets.length),this.notifiedLoadedAssets=t),t===this.customAssets.length&&(this.customAssetTags=[],this.customAssets=void 0,this.app.fire(this.customAssetsLoaded))};var Controller1=pc.createScript("controller1");Controller1.attributes.add("correctOption",{type:"string"}),Controller1.attributes.add("objsMoved",{type:"number",array:!0}),Controller1.attributes.add("optionalsCount",{type:"number"}),Controller1.attributes.add("objsToMove",{type:"json",schema:[{name:"obj",type:"entity"},{name:"isOptional",type:"boolean"},{name:"isSeen",type:"boolean"}],array:!0}),Controller1.prototype.initialize=function(){this.app.on(""),this.onEnable(),this.on("enable",this.onEnable,this)},Controller1.prototype.onEnable=function(){this.clickedObjsCount=0},Controller1.prototype.update=function(o){},Controller1.prototype.IsProofShown=function(){let o=!1,t=0,e=0,n=0,r=0;for(let o=0;o<this.objsToMove.length;o++)this.objsToMove[o].isOptional?(t++,this.objsToMove[o].isSeen&&e++):(n++,this.objsToMove[o].isSeen&&r++);return t>0&&(o=e>=1),n>0&&(o=n===r),o},Controller1.prototype.onClickAction=function(o){this.objsToMove[o].obj.enabled=!this.objsToMove[o].obj.enabled,-1===this.objsMoved.indexOf(o)&&(this.objsToMove[o].isSeen=!0)},Controller1.prototype.onOptionSelected=function(o){this.IsProofShown()&&this.correctOption};var ButtonController=pc.createScript("buttonController");ButtonController.attributes.add("eventName",{title:"Click Event",type:"string",default:"LevelsController:Btn:Object"}),ButtonController.attributes.add("onPointerDownEventName",{title:"Point Down Event",type:"string"}),ButtonController.attributes.add("onPointerUpEventName",{title:"Pointer Up Event",type:"string"}),ButtonController.attributes.add("doubleTapSpeed",{title:"Double tap speed",type:"number",description:"If value is 0 simple click will be used"}),ButtonController.attributes.add("labelTxt",{title:"Button Label",type:"entity",description:"Call setText Function to set value of this text"}),ButtonController.attributes.add("includeSenderNameInArgs",{title:"Include Sender Name",type:"boolean"}),ButtonController.attributes.add("sendAsSeperateArgs",{title:"Send As Params",type:"boolean"}),ButtonController.attributes.add("args",{type:"json",title:"Arguments",schema:[{name:"value",type:"string"}],array:!0}),ButtonController.attributes.add("animationSettings",{type:"json",title:"Animation Settings",schema:[{name:"type",type:"number",enum:[{Bounce:0},{ScaleOutIn:1},{None:2},{LeftRight:3}],default:0},{name:"duration",type:"number"},{name:"animValue",type:"vec3",default:[.9,1,1.2],description:"x: min animValue | y: base animValue | z: max animValue"},{name:"delegate",type:"entity",description:"If no delegate is given, entity having this script will be animated. Otherwise delegate will be animated."}]}),ButtonController.attributes.add("enabledSettings",{type:"json",title:"Enabled Settings",schema:[{name:"animType",type:"number",enum:[{Bounce:0},{ScaleOutIn:1},{None:2},{LeftRight:3}],default:3},{name:"isEnabled",type:"boolean",default:!0},{name:"animDuration",type:"number",default:.15},{name:"animValue",type:"vec3",default:[-15,7.5,7.5],description:"x: min animValue | y: base animValue | z: max animValue"},{name:"delegate",type:"entity",description:"Assign delegate to change this.entity Image to deligate Image."}]}),ButtonController.AnimType={Bounce:0,ScaleOutIn:1,None:2,LeftRight:3},ButtonController.prototype.initialize=function(){this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",this.onDisable,this),this.on("destroy",this.onDisable,this)},ButtonController.prototype.onEnable=function(){if(this.initialized)return;if(this.initialized=!0,this.timeSinceLastTap=0,this.entity.button.on("click",this.onClick,this),this.app.touch?(this.entity.element.on(this.app.events.element.touchStart,this.onPointerDown,this),this.entity.element.on(this.app.events.element.touchEnd,this.onPointerUp,this)):(this.entity.element.on(this.app.events.element.mouseDown,this.onPointerDown,this),this.entity.element.on(this.app.events.element.mouseUp,this.onPointerUp,this)),this.animationSettings.type===ButtonController.AnimType.None)return;let t=null===this.animationSettings.delegate?this.entity:this.animationSettings.delegate,e=this.animationSettings.animValue.y;t.setLocalScale(e,e,e)},ButtonController.prototype.onDisable=function(){this.initialized&&(this.initialized=!1,this.entity.button.off("click",this.onClick,this),this.app.touch?(this.entity.element.off(this.app.events.element.touchStart,this.onPointerDown,this),this.entity.element.off(this.app.events.element.touchEnd,this.onPointerUp,this)):(this.entity.element.off(this.app.events.element.mouseDown,this.onPointerDown,this),this.entity.element.off(this.app.events.element.mouseUp,this.onPointerUp,this)))},ButtonController.prototype.update=function(t){this.timeSinceLastTap>0?this.timeSinceLastTap-=t:this.timeSinceLastTap<0&&(this.timeSinceLastTap=0)},ButtonController.prototype.manageDoubleTap=function(){if(this.doubleTapSpeed>0){if(this.timeSinceLastTap<=0)return this.timeSinceLastTap=this.doubleTapSpeed,!1;this.timeSinceLastTap=0}return!0},ButtonController.prototype.onPointerDown=function(){this.raiseEvent(this.onPointerDownEventName)},ButtonController.prototype.onPointerUp=function(){this.raiseEvent(this.onPointerUpEventName)},ButtonController.prototype.onClick=function(){this.manageDoubleTap()&&(this.enabledSettings.isEnabled?(this.animateButton(this.animationSettings.type),this.raiseEvent(this.eventName)):this.animateButton(this.enabledSettings.animType))},ButtonController.prototype.raiseEvent=function(t){if(t.lenght<=0)return;let e=[];for(let t=0;t<this.args.length;t++)e.push(this.args[t].value);this.includeSenderNameInArgs&&e.push(this.entity.name),this.sendAsSeperateArgs?this.app.fire(t,...e):this.app.fire(t,e)},ButtonController.prototype.addArgs=function(t){for(let e=0;e<t.length;e++)this.args.push({value:t[e]})},ButtonController.prototype.clearArgs=function(){this.args=[]},ButtonController.prototype.setText=function(t){this.labelTxt.element.text=t},ButtonController.prototype.animateButton=function(t){let e=this.animationSettings.delegate||this.entity;switch(t){case ButtonController.AnimType.Bounce:TweenWrapper.TweenNumber(this.animationSettings.animValue.x,this.animationSettings.animValue.y,this.animationSettings.duration,function(t){e.setLocalScale(t.number,t.number,t.number)}.bind(this),null,pc.BounceOut);break;case ButtonController.AnimType.ScaleOutIn:let t=function(t){e.setLocalScale(t.number,t.number,t.number)}.bind(this);TweenWrapper.TweenNumber(this.animationSettings.animValue.y,this.animationSettings.animValue.z,this.animationSettings.duration,t,function(){TweenWrapper.TweenNumber(this.animationSettings.animValue.z,this.animationSettings.animValue.y,this.animationSettings.duration,t)}.bind(this));break;case ButtonController.AnimType.LeftRight:let n=[this.enabledSettings.animValue.z,this.enabledSettings.animValue.x,this.enabledSettings.animValue.y],i=function(t){if(t>2)return;e.getLocalPosition();let o=e.getLocalPosition().clone();o.x+=n[t],TweenWrapper.Tween(e,e.getLocalPosition(),o,this.enabledSettings.animDuration,(function(){i(t+1)}))}.bind(this);i(0)}},ButtonController.prototype.setEnabled=function(t,e){let n=this.enabledSettings.delegate||this.entity;this.enabledSettings.isEnabled=t,void 0!==e&&("Texture"===e.type?n.element.texture=e.resource:n.element.sprite=e.resource,e.resize&&(n.element.width=e.width,n.element.height=e.height))};var FitParent=pc.createScript("fitParent");FitParent.attributes.add("fitWidth",{type:"boolean",description:"Disable mean fit height"}),FitParent.attributes.add("preserveRatio",{type:"boolean"}),FitParent.attributes.add("parentElement",{type:"entity"}),FitParent.attributes.add("orignalWith",{type:"number"}),FitParent.attributes.add("orignalHeight",{type:"number"}),FitParent.prototype.initialize=function(){this.ratioW=this.orignalWith/this.orignalHeight,this.ratioH=this.orignalHeight/this.orignalWith,this.parentRatio=0},FitParent.prototype.update=function(t){this.parentRatio!==this.parentElement.element.width/this.parentElement.element.height&&(this.fitWidth?this.adjustSize(this.parentElement.element.width,this.preserveRatio?this.parentElement.element.width*this.ratioH:null):this.adjustSize(this.preserveRatio?this.parentElement.element.height*this.ratioW:null,this.parentElement.element.height),this.parentRatio=this.parentElement.element.width/this.parentElement.element.height)},FitParent.prototype.adjustSize=function(t,e){null!==t&&(this.entity.element.width=t),null!==e&&(this.entity.element.height=e)};var SpritesManager=pc.createScript("spritesManager");SpritesManager.attributes.add("characterSprites",{type:"json",title:"Character Sprites",schema:[{name:"activeState",type:"asset",assetType:"texture"},{name:"inactiveState",type:"asset",assetType:"texture"}],array:!0}),SpritesManager.attributes.add("buttonSprites",{type:"json",title:"Button Sprites",schema:[{name:"activeState",type:"asset",assetType:"sprite"},{name:"inactiveState",type:"asset",assetType:"sprite"}],array:!0}),SpritesManager.ButtonState={active:"activeState",inactive:"inactiveState"},SpritesManager.ButtonType={special:0,normal:1,music:2,sfx:3,vibration:4},SpritesManager.prototype.initialize=function(){SpritesManager.Instance=this},SpritesManager.prototype.update=function(t){},SpritesManager.prototype.getCharacterSprite=function(t,e){return this.characterSprites[t][e].resource},SpritesManager.prototype.getButtonSprite=function(t,e){return this.buttonSprites[t][e].resource};var ScrollViewReverser=pc.createScript("scrollViewReverser");ScrollViewReverser.attributes.add("scrollValue",{type:"number"}),ScrollViewReverser.attributes.add("scrollbar",{type:"entity"}),ScrollViewReverser.prototype.postInitialize=function(){this.isEnabledChanged=!1,this.onEnable(),this.on("enable",this.onEnable,this)},ScrollViewReverser.prototype.onEnable=function(){this.isEnabledChanged=!0},ScrollViewReverser.prototype.update=function(e){this.isEnabledChanged&&(this.scrollbar.scrollbar.value=this.scrollValue,this.isEnabledChanged=!1)};var LevelBtnNumberController=pc.createScript("levelBtnNumberController");LevelBtnNumberController.attributes.add("numberTxt",{type:"entity"}),LevelBtnNumberController.prototype.initialize=function(){},LevelBtnNumberController.prototype.update=function(e){},LevelBtnNumberController.prototype.setNumber=function(e){this.numberTxt.element.text=e};var PageController=pc.createScript("pageController");PageController.attributes.add("startingLevel",{type:"number"}),PageController.attributes.add("startingCharacter",{type:"number"}),PageController.attributes.add("btnsParent",{type:"entity"}),PageController.attributes.add("charactersParent",{type:"entity"}),PageController.prototype.postInitialize=function(){this.initLevelBtns(),this.initCharacterBtns()},PageController.prototype.update=function(t){},PageController.prototype.initLevelBtns=function(){let t,e,r=LevelsManager.Instance.getUnlockedLevels()+1;for(let n=0;n<this.btnsParent.children.length;n++)e=this.startingLevel+n,t=e<r?SpritesManager.ButtonState.active:SpritesManager.ButtonState.inactive,this.btnsParent.children[n].script.buttonController.addArgs([e]),this.btnsParent.children[n].script.buttonController.setText(e),this.btnsParent.children[n].script.buttonController.setEnabled(e<r,{type:"Sprite",resource:SpritesManager.Instance.getButtonSprite(SpritesManager.ButtonType.normal,t),resize:!1})},PageController.prototype.initCharacterBtns=function(){let t,e,r=LevelsManager.Instance.getUnlockedCharacters();for(let n=0;n<this.charactersParent.children.length;n++)e=this.startingCharacter+n,t=e<r?SpritesManager.ButtonState.active:SpritesManager.ButtonState.inactive,this.charactersParent.children[n].script.buttonController.addArgs([e]),this.charactersParent.children[n].script.buttonController.setEnabled(e<r,{type:"Texture",resource:SpritesManager.Instance.getCharacterSprite(e,t),resize:!1})},PageController.prototype.getLastLevel=function(){return this.startingLevel+this.btnsParent.findByTag("Level Button").length},PageController.prototype.getLastCharacter=function(){return this.startingCharacter+this.charactersParent.children.length},PageController.prototype.getLevelBtn=function(t){return this.btnsParent.children[t]},PageController.prototype.getCharacterBtn=function(t){return this.charactersParent.children[t]},PageController.prototype.getPos=function(t){return t===this.app.space.local?this.entity.getLocalPosition():this.entity.getPosition()};var MainMenuEventListener=pc.createScript("mainMenuEventListener");MainMenuEventListener.attributes.add("shopGamePlayTxt",{type:"entity"}),MainMenuEventListener.attributes.add("shopBrainTxt",{type:"entity"}),MainMenuEventListener.attributes.add("scrollHandler",{type:"entity"}),MainMenuEventListener.attributes.add("popups",{type:"json",schema:[{name:"playGame",type:"entity"},{name:"characterDetails",type:"entity"},{name:"adsNotAvailable",type:"entity"}]}),MainMenuEventListener.prototype.initialize=function(){this.app.i18n.locale="ru-RU",console.log("setting language to "+this.app.i18n.locale),this.getBrainPoints(),this.app.on(this.app.events.mainMenu.levelBtn,this.onLevelSelected,this),this.app.on(this.app.events.mainMenu.button,this.onClickButton,this),this.app.on(this.app.events.mainMenu.characterBtn,this.onCharacterSelected,this),this.scrollSetCount=0,this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",this.onDisable,this),this.on("destroy",this.onDisable,this)},MainMenuEventListener.prototype.getBrainPoints=function(){this.brainPoints=100,storageAvailable("localStorage")&&(this.brainPoints=localStorage.getItem("brainPoints")),null==this.brainPoints&&(this.brainPoints=100),console.log("this.brainPoints = "+this.brainPoints),this.app.fire(this.app.events.economyManager.setBrainPoints,this.brainPoints,!0)},MainMenuEventListener.prototype.manageBrainPoints=function(a,e){let t=EconomyManager.Instance.brainPoints;return!(!e&&t<a)&&(t-=a,this.app.fire(this.app.events.economyManager.setBrainPoints,t,!0),this.setBrainPoints(),!0)},MainMenuEventListener.prototype.setBrainPoints=function(a){this.shopGamePlayTxt.element.text=a,this.shopBrainTxt.element.text=a},MainMenuEventListener.prototype.postInitialize=function(){},MainMenuEventListener.prototype.onEnable=function(){this.initialized||(this.initialized=!0,setTimeout(this.manageScrollValue.bind(this),1),AssetLoadManager.Instance.startLoadingAssets())},MainMenuEventListener.prototype.onDisable=function(){this.initialized&&(this.initialized=!1)},MainMenuEventListener.prototype.onLevelSelected=function(a){console.log(`Selected Level: ${a}`);let e=parseInt(a)-1;LevelsManager.Instance.setSelectedLevel(e),this.popups.playGame.enabled=!0;let t={};var n="";try{n=SettingsMenuEventListener.Instance.language}catch{n="russian"}switch(n){case"english":case"dutch":case"filipino":case"german":case"indonesian":t.title="Level "+(e+1);break;case"turkish":t.title="Bölüm "+(e+1);break;case"french":t.title="Niveau "+(e+1);break;case"greek":t.title="Επίπεδο "+(e+1);break;case"hungarian":t.title="Szint "+(e+1);break;case"italian":t.title="Livello "+(e+1);break;case"malay":t.title="Tahap "+(e+1);break;case"polish":t.title="Poziom "+(e+1);break;case"portugueseBrazil":t.title="Nível "+(e+1);break;case"romanian":t.title="Nivelul "+(e+1);break;case"serbian":t.title="Nivo "+(e+1);break;case"spanish":t.title="Nivel "+(e+1);break;case"vietnamese":t.title="CHƠI NÀO "+(e+1);break;case"russian":t.title="Уровень "+(e+1);break;case"arabic":case"hebrew":t.title="المرحلة "+(e+1);break;case"hindi":t.title="राउंड "+(e+1);break;case"japanese":t.title="レベル "+(e+1);break;case"korean":case"korean":t.title="수준 "+(e+1);break;case"taiwanese":t.title="關卡 "+(e+1);break;case"thai":t.title="ระดับ "+(e+1);break;case"urdu":t.title="لیول "+(e+1)}t.characterIndex=DataManager.Instance.getData(DataManager.DatabaseTypes.Levels,e,DataManager.LevelsDB_Model.CharacterIndex),this.app.fire(this.app.events.Popup.setDisplay,t)},MainMenuEventListener.prototype.onCharacterSelected=function(a){this.popups.characterDetails.enabled=!0;let e={};var t="";try{t=SettingsMenuEventListener.Instance.language}catch{t="russian"}switch(t){case"english":e.title="Influential Figures";break;case"turkish":e.title="Etkili Rakamlar";break;case"dutch":e.title="Invloedrijke personen";break;case"filipino":e.title="Mga Naimpluwensyang Tao";break;case"french":e.title="Personnages influents";break;case"german":e.title="Einflussreiche Figuren";break;case"greek":e.title="Σημαντικές προσωπικότητες";break;case"hungarian":e.title="Befolyásos alakok";break;case"indonesian":e.title="Tokoh Berpengaruh";break;case"italian":e.title="Figure influenti";break;case"malay":e.title="Rajah Berpengaruh";break;case"polish":e.title="Wpływowa osoba";break;case"portugueseBrazil":e.title="Figuras influentes";break;case"romanian":e.title="Personalități influente";break;case"serbian":e.title="Uticajne osobe";break;case"spanish":e.title="Figuras influyentes";break;case"vietnamese":e.title="Người nổi tiếng";break;case"russian":e.title="Влиятельные деятели";break;case"arabic":e.title="شخصيات مؤثرة";break;case"hebrew":e.title="דמויות משפיעות";break;case"hindi":e.title="प्रभावशाली आंकड़े";break;case"japanese":e.title="影響力のある人物";break;case"korean":e.title="영향력 있는 인물";break;case"taiwanese":e.title="有影響力的人";break;case"thai":e.title="บุคคลที่มีอิทธิพล";break;case"urdu":e.title="بااثر شخصیات"}switch(e.characterIndex=a,e.description=DataManager.Instance.getData(DataManager.DatabaseTypes.Characters,a,DataManager.CharactersDB_Model.Name)+"\n",e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.Characters,a,DataManager.CharactersDB_Model.LifeSpan)+"\n",t){case"english":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.Characters,a,DataManager.CharactersDB_Model.Description);break;case"turkish":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsTurk,a,DataManager.CharactersDB_Model.Description);break;case"dutch":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsDutch,a,DataManager.CharactersDB_Model.Description);break;case"filipino":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsFilipino,a,DataManager.CharactersDB_Model.Description);break;case"french":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsFrench,a,DataManager.CharactersDB_Model.Description);break;case"german":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsGerman,a,DataManager.CharactersDB_Model.Description);break;case"greek":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsGreek,a,DataManager.CharactersDB_Model.Description);break;case"hungarian":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsHungarian,a,DataManager.CharactersDB_Model.Description);break;case"indonesian":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsIndonesian,a,DataManager.CharactersDB_Model.Description);break;case"italian":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsItalian,a,DataManager.CharactersDB_Model.Description);break;case"malay":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsMalay,a,DataManager.CharactersDB_Model.Description);break;case"polish":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsPolish,a,DataManager.CharactersDB_Model.Description);break;case"portugueseBrazil":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsPortugueseBrazil,a,DataManager.CharactersDB_Model.Description);break;case"romanian":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsRomanian,a,DataManager.CharactersDB_Model.Description);break;case"serbian":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsSerbian,a,DataManager.CharactersDB_Model.Description);break;case"spanish":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsSpanish,a,DataManager.CharactersDB_Model.Description);break;case"vietnamese":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsVietnamese,a,DataManager.CharactersDB_Model.Description);break;case"russian":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsRussian,a,DataManager.CharactersDB_Model.Description);break;case"arabic":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsArabic,a,DataManager.CharactersDB_Model.Description);break;case"hebrew":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsHebrew,a,DataManager.CharactersDB_Model.Description);break;case"hindi":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsHindi,a,DataManager.CharactersDB_Model.Description);break;case"japanese":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsJapanese,a,DataManager.CharactersDB_Model.Description);break;case"korean":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsKorean,a,DataManager.CharactersDB_Model.Description);break;case"taiwanese":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsTaiwanese,a,DataManager.CharactersDB_Model.Description);break;case"thai":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsThai,a,DataManager.CharactersDB_Model.Description);break;case"urdu":e.description+=DataManager.Instance.getData(DataManager.DatabaseTypes.CharacterDetailsUrdu,a,DataManager.CharactersDB_Model.Description)}this.app.fire(this.app.events.Popup.setDisplay,e)},MainMenuEventListener.prototype.onClickButton=function(a){switch(SoundManager.Instance.shotSFX("ClickSound"),a[0]){case"Settings":MenuManager.Instance.changeState(MenuManager.States.Settings);break;case"Shop":MenuManager.Instance.changeState(MenuManager.States.Shop);break;case"ScrollDown":case"ScrollUp":this.app.fire(this.app.events.scrollHandler.scrollToLevel,LevelsManager.Instance.selectedLevel+1);break;case"HighlightLevel":this.popups.playGame.enabled=!0;break;case"CloseNotAvailable":this.popups.adsNotAvailable.enabled=!1}},MainMenuEventListener.prototype.manageScrollValue=function(){let a=0;LevelsManager.Instance.isLevelCompleted&&(LevelsManager.Instance.isLevelCompleted=!1,a++),LevelsManager.Instance.currentLevel+1+a<=150&&this.scrollHandler.script.scrollHandler.scrollToLevel(LevelsManager.Instance.currentLevel+1+a,0===this.scrollSetCount?0:.8),this.scrollSetCount++};const TweenWrapper_App=pc.Application.getApplication(),TweenWrapper={Tween:function(e,n,t,o,r,p,i,c){return e.tween(n).to(t,o,p||pc.Linear).loop(!0===i).yoyo(!0===c).on("complete",(function(){r&&r()})).start()},TweenOpacity:function(e,n,t,o,r){return e.opacity=n,TweenWrapper.TweenNumber(n,t,o,function(n){e.opacity=n.number}.bind(this),r)},TweenColor:function(e,n,t,o,r){if(e.color!==t){var p=n.clone();return TweenWrapper_App.tween(p).to(t,1,pc.Linear).on("update",function(){e.color=p,e.color===p&&r&&r()}.bind(this)).start()}},TweenNumberO:function(e,n,t,o,r){if(e===n)return[!1,e];var p=pc.math.lerp(e,n,t),i=e<n?e>=n:e<=n;return e=e<n?Math.ceil(p):Math.floor(p),i?(e=n,void 0!==o&&(o.text=r+e),[!1,e]):(void 0!==o&&(o.text=r+e),[!0,e])},TweenNumber:function(e,n,t,o,r,p,i,c){if(e!==n){let u={number:e};return TweenWrapper_App.tween(u).to({number:n},t,p||pc.Linear).loop(!0===i).yoyo(!0===c).on("update",o.bind(this,u)).on("complete",(function(){r&&r()})).start()}r&&r()},TweenVector:function(e,n,t,o,r,p,i,c){if(e!==n){let u={number:e};return TweenWrapper_App.tween(u).to({number:n},t,p||pc.Linear).loop(!0===i).yoyo(!0===c).on("update",o.bind(this,u)).on("complete",(function(){r&&r()})).start()}r&&r()},StopTween:function(e){e&&e.stop()}};pc.extend(pc,function(){var TweenManager=function(t){this._app=t,this._tweens=[],this._add=[]};TweenManager.prototype={add:function(t){return this._add.push(t),t},update:function(t){for(var i=0,e=this._tweens.length;i<e;)this._tweens[i].update(t)?i++:(this._tweens.splice(i,1),e--);this._add.length&&(this._tweens=this._tweens.concat(this._add),this._add.length=0)}};var Tween=function(t,i,e){pc.events.attach(this),this.manager=i,e&&(this.entity=null),this.time=0,this.complete=!1,this.playing=!1,this.stopped=!0,this.pending=!1,this.target=t,this.duration=0,this._currentDelay=0,this.timeScale=1,this._reverse=!1,this._delay=0,this._yoyo=!1,this._count=0,this._numRepeats=0,this._repeatDelay=0,this._from=!1,this._slerp=!1,this._fromQuat=new pc.Quat,this._toQuat=new pc.Quat,this._quat=new pc.Quat,this.easing=pc.Linear,this._sv={},this._ev={}},_parseProperties=function(t){var i;return t instanceof pc.Vec2?i={x:t.x,y:t.y}:t instanceof pc.Vec3?i={x:t.x,y:t.y,z:t.z}:t instanceof pc.Vec4||t instanceof pc.Quat?i={x:t.x,y:t.y,z:t.z,w:t.w}:t instanceof pc.Color?(i={r:t.r,g:t.g,b:t.b},void 0!==t.a&&(i.a=t.a)):i=t,i};Tween.prototype={to:function(t,i,e,n,s,r){return this._properties=_parseProperties(t),this.duration=i,e&&(this.easing=e),n&&this.delay(n),s&&this.repeat(s),r&&this.yoyo(r),this},from:function(t,i,e,n,s,r){return this._properties=_parseProperties(t),this.duration=i,e&&(this.easing=e),n&&this.delay(n),s&&this.repeat(s),r&&this.yoyo(r),this._from=!0,this},rotate:function(t,i,e,n,s,r){return this._properties=_parseProperties(t),this.duration=i,e&&(this.easing=e),n&&this.delay(n),s&&this.repeat(s),r&&this.yoyo(r),this._slerp=!0,this},start:function(){var t,i,e,n;if(this.playing=!0,this.complete=!1,this.stopped=!1,this._count=0,this.pending=this._delay>0,this._reverse&&!this.pending?this.time=this.duration:this.time=0,this._from){for(t in this._properties)this._properties.hasOwnProperty(t)&&(this._sv[t]=this._properties[t],this._ev[t]=this.target[t]);this._slerp&&(this._toQuat.setFromEulerAngles(this.target.x,this.target.y,this.target.z),i=void 0!==this._properties.x?this._properties.x:this.target.x,e=void 0!==this._properties.y?this._properties.y:this.target.y,n=void 0!==this._properties.z?this._properties.z:this.target.z,this._fromQuat.setFromEulerAngles(i,e,n))}else{for(t in this._properties)this._properties.hasOwnProperty(t)&&(this._sv[t]=this.target[t],this._ev[t]=this._properties[t]);this._slerp&&(this._fromQuat.setFromEulerAngles(this.target.x,this.target.y,this.target.z),i=void 0!==this._properties.x?this._properties.x:this.target.x,e=void 0!==this._properties.y?this._properties.y:this.target.y,n=void 0!==this._properties.z?this._properties.z:this.target.z,this._toQuat.setFromEulerAngles(i,e,n))}return this._currentDelay=this._delay,this.manager.add(this),this},pause:function(){this.playing=!1},resume:function(){this.playing=!0},stop:function(){this.playing=!1,this.stopped=!0},delay:function(t){return this._delay=t,this.pending=!0,this},repeat:function(t,i){return this._count=0,this._numRepeats=t,this._repeatDelay=i||0,this},loop:function(t){return t?(this._count=0,this._numRepeats=1/0):this._numRepeats=0,this},yoyo:function(t){return this._yoyo=t,this},reverse:function(){return this._reverse=!this._reverse,this},chain:function(){for(var t=arguments.length;t--;)t>0?arguments[t-1]._chained=arguments[t]:this._chained=arguments[t];return this},update:function(t){if(this.stopped)return!1;if(!this.playing)return!0;if(!this._reverse||this.pending?this.time+=t*this.timeScale:this.time-=t*this.timeScale,this.pending){if(!(this.time>this._currentDelay))return!0;this._reverse?this.time=this.duration-(this.time-this._currentDelay):this.time=this.time-this._currentDelay,this.pending=!1}var i=0;(!this._reverse&&this.time>this.duration||this._reverse&&this.time<0)&&(this._count++,this.complete=!0,this.playing=!1,this._reverse?(i=this.duration-this.time,this.time=0):(i=this.time-this.duration,this.time=this.duration));var e,n,s=0===this.duration?1:this.time/this.duration,r=this.easing(s);for(var h in this._properties)this._properties.hasOwnProperty(h)&&(e=this._sv[h],n=this._ev[h],this.target[h]=e+(n-e)*r);if(this._slerp&&this._quat.slerp(this._fromQuat,this._toQuat,r),this.entity&&(this.entity._dirtifyLocal(),this.element&&this.entity.element&&(this.entity.element[this.element]=this.target),this._slerp&&this.entity.setLocalRotation(this._quat)),this.fire("update",t),this.complete){var a=this._repeat(i);return a?this.fire("loop"):(this.fire("complete",i),this.entity&&this.entity.off("destroy",this.stop,this),this._chained&&this._chained.start()),a}return!0},_repeat:function(t){if(this._count<this._numRepeats){if(this._reverse?this.time=this.duration-t:this.time=t,this.complete=!1,this.playing=!0,this._currentDelay=this._repeatDelay,this.pending=!0,this._yoyo){for(var i in this._properties){var e=this._sv[i];this._sv[i]=this._ev[i],this._ev[i]=e}this._slerp&&(this._quat.copy(this._fromQuat),this._fromQuat.copy(this._toQuat),this._toQuat.copy(this._quat))}return!0}return!1}};var BounceIn=function(t){return 1-BounceOut(1-t)},BounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};return{TweenManager:TweenManager,Tween:Tween,Linear:function(t){return t},QuadraticIn:function(t){return t*t},QuadraticOut:function(t){return t*(2-t)},QuadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},CubicIn:function(t){return t*t*t},CubicOut:function(t){return--t*t*t+1},CubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},QuarticIn:function(t){return t*t*t*t},QuarticOut:function(t){return 1- --t*t*t*t},QuarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},QuinticIn:function(t){return t*t*t*t*t},QuinticOut:function(t){return--t*t*t*t*t+1},QuinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},SineIn:function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)},SineOut:function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)},SineInOut:function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))},ExponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},ExponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},ExponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},CircularIn:function(t){return 1-Math.sqrt(1-t*t)},CircularOut:function(t){return Math.sqrt(1- --t*t)},CircularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},BackIn:function(t){var i=1.70158;return t*t*((i+1)*t-i)},BackOut:function(t){var i=1.70158;return--t*t*((i+1)*t+i)+1},BackInOut:function(t){var i=2.5949095;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)},BounceIn:BounceIn,BounceOut:BounceOut,BounceInOut:function(t){return t<.5?.5*BounceIn(2*t):.5*BounceOut(2*t-1)+.5},ElasticIn:function(t){var i,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/.4))},ElasticOut:function(t){var i,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-i)*(2*Math.PI)/.4)+1)},ElasticInOut:function(t){var i,e=.1,n=.4;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=n*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/n)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/n)*.5+1)}}}()),function(){pc.Application.prototype.addTweenManager=function(){this._tweenManager=new pc.TweenManager(this),this.on("update",(function(t){this._tweenManager.update(t)}))},pc.Application.prototype.tween=function(t){return new pc.Tween(t,this._tweenManager)},pc.Entity.prototype.tween=function(t,i){var e=this._app.tween(t);return e.entity=this,this.once("destroy",e.stop,e),i&&i.element&&(e.element=i.element),e};var t=pc.Application.getApplication();t&&t.addTweenManager()}();var SettingsMenuEventListener=pc.createScript("settingsMenuEventListener");SettingsMenuEventListener.attributes.add("ppandtc",{type:"entity",array:!0}),SettingsMenuEventListener.attributes.add("language",{type:"string",default:"english"}),SettingsMenuEventListener.attributes.add("refs",{type:"json",title:"References",schema:[{name:"reference",type:"entity"}],array:!0}),SettingsMenuEventListener.attributes.add("languageTextsAndTick",{type:"json",title:"References",schema:[{name:"text",type:"entity"},{name:"ticks",type:"entity"}],array:!0}),SettingsMenuEventListener.prototype.initialize=function(){SettingsMenuEventListener.Instance=this,this.isVibrationOn=!0,this.language="russian",this.setLanguage("ru-RU"),this.references={musicBtn:this.refs[0].reference,sfxBtn:this.refs[1].reference,vibrationBtn:this.refs[2].reference},this.app.on(this.app.events.settingsMenu.button,this.onClickButton,this),this.app.on(this.app.events.settingsMenu.soundBtn,this.onClickButton.bind(this,["Sound"]))},SettingsMenuEventListener.prototype.update=function(e){},SettingsMenuEventListener.prototype.onClickButton=function(e){switch(console.log(`Button Pressed: ${e[0]}`),e[0]){case"Back":MenuManager.Instance.changeState(MenuManager.States.CloseOverlay),SoundManager.Instance.shotSFX("ClickSound");break;case"Music":this.resolveMusicClick();break;case"Sound":this.resolveSoundClick();break;case"Vibration":this.resolveVibrationClick(),SoundManager.Instance.shotSFX("ClickSound");break;case"Home":this.resolveHomeClick(),SoundManager.Instance.shotSFX("ClickSound");break;case"Shop":MenuManager.Instance.changeState(MenuManager.States.Shop),SoundManager.Instance.shotSFX("ClickSound");break;case"Language":case"Rate":case"Follow":break;case"Privacy":SoundManager.Instance.shotSFX("ClickSound"),this.ppandtc[1].enabled=!0;break;case"Terms":this.ppandtc[0].enabled=!0,SoundManager.Instance.shotSFX("ClickSound");break;case"Share":SoundManager.Instance.shotSFX("ClickSound");break;case"language":SoundManager.Instance.shotSFX("ClickSound"),this.ppandtc[2].enabled=!0;break;case"en-US":this.language="english",this.setLanguage("en-US");break;case"tr-TR":this.language="turkish",this.setLanguage("tr-TR");break;case"du-DU":this.language="dutch",this.setLanguage("du-DU");break;case"fi-FI":this.language="filipino",this.setLanguage("fi-FI");break;case"fr-FR":this.language="french",this.setLanguage("fr-FR");break;case"ge-GE":this.language="german",this.setLanguage("ge-GE");break;case"gr-GR":this.language="greek",this.setLanguage("gr-GR");break;case"hu-HU":this.language="hungarian",this.setLanguage("hu-HU");break;case"indo-INDO":this.language="indonesian",this.setLanguage("indo-INDO");break;case"it-IT":this.language="italian",this.setLanguage("it-IT");break;case"ma-MA":this.language="malay",this.setLanguage("ma-MA");break;case"po-PO":this.language="polish",this.setLanguage("po-PO");break;case"por-POR":this.language="portugueseBrazil",this.setLanguage("por-POR");break;case"ro-RO":this.language="romanian",this.setLanguage("ro-RO");break;case"se-SE":this.language="serbian",this.setLanguage("se-SE");break;case"sp-SP":this.language="spanish",this.setLanguage("sp-SP");break;case"vi-VI":this.language="vietnamese",this.setLanguage("vi-VI");break;case"ru-RU":this.language="russian",this.setLanguage("ru-RU");break;case"ar-AR":this.language="arabic",this.setLanguage("ar-AR");break;case"he-HE":this.language="hebrew",this.setLanguage("he-HE");break;case"hi-HI":this.language="hindi",this.setLanguage("hi-HI");break;case"ja-JA":this.language="japanese",this.setLanguage("ja-JA");break;case"ko-KO":this.language="korean",this.setLanguage("ko-KO");break;case"ta-TA":this.language="taiwanese",this.setLanguage("ta-TA");break;case"th-TH":this.language="thai",this.setLanguage("th-TH");break;case"ur-UR":this.language="urdu",this.setLanguage("ur-UR")}},SettingsMenuEventListener.prototype.setLanguage=function(e){this.app.i18n.locale=e,LocaliseImageTexts.Instance&&LocaliseImageTexts.Instance.setTxt(),GameplayMenuEventListener.Instance&&(GameplayMenuEventListener.Instance.setLevel(),GameplayMenuEventListener.Instance.setLevelText()),ComplimentaryMenuEventListener.Instance&&ComplimentaryMenuEventListener.Instance.manageQoute(),this.setLanguageUI(e)},SettingsMenuEventListener.prototype.setLanguageUI=function(e){console.log(e);switch(e){case"en-US":this.index=0;break;case"tr-TR":this.index=1;break;case"du-DU":this.index=2;break;case"fi-FI":this.index=3;break;case"fr-FR":this.index=4;break;case"ge-GE":this.index=5;break;case"gr-GR":this.index=6;break;case"hu-HU":this.index=7;break;case"indo-INDO":this.index=8;break;case"it-IT":this.index=9;break;case"ma-MA":this.index=10;break;case"po-PO":this.index=11;break;case"por-POR":this.index=12;break;case"ro-RO":this.index=13;break;case"se-SE":this.index=14;break;case"sp-SP":this.index=15;break;case"vi-VI":this.index=16;break;case"ru-RU":this.index=17;break;case"ar-AR":this.index=18;break;case"he-HE":this.index=19;break;case"hi-HI":this.index=20;break;case"ja-JA":this.index=21;break;case"ko-KO":this.index=22;break;case"ta-TA":this.index=23;break;case"th-TH":this.index=24;break;case"ur-UR":this.index=25}if(-1!=this.index){for(let e=0;e<this.languageTextsAndTick.length;e++)this.languageTextsAndTick[e].ticks.enabled=!1,this.languageTextsAndTick[e].text.element.color=new pc.Color(0,0,0);this.languageTextsAndTick[this.index].ticks.enabled=!0,this.languageTextsAndTick[this.index].text.element.color=new pc.Color(.1504738,.7264151,0)}},SettingsMenuEventListener.prototype.resolveMusicClick=function(){SoundManager.Instance.handleMusic(),buttonType=SpritesManager.ButtonType.music,buttonState=SoundManager.Instance.musicOn?SpritesManager.ButtonState.inactive:SpritesManager.ButtonState.active,this.references.musicBtn.element.sprite=SpritesManager.Instance.getButtonSprite(buttonType,buttonState)},SettingsMenuEventListener.prototype.resolveSoundClick=function(){SoundManager.Instance.handleSFX(),buttonType=SpritesManager.ButtonType.sfx,buttonState=SoundManager.Instance.sfxOn?SpritesManager.ButtonState.active:SpritesManager.ButtonState.inactive,this.references.sfxBtn.element.sprite=SpritesManager.Instance.getButtonSprite(buttonType,buttonState)},SettingsMenuEventListener.prototype.resolveVibrationClick=function(){this.app.fire(this.app.events.vibrationManager.enable,!VibrationManager.Instance.virbationEnabled),this.app.fire(this.app.events.vibrationManager.vibrate,100),buttonType=SpritesManager.ButtonType.vibration,buttonState=VibrationManager.Instance.virbationEnabled?SpritesManager.ButtonState.active:SpritesManager.ButtonState.inactive,this.references.vibrationBtn.element.sprite=SpritesManager.Instance.getButtonSprite(buttonType,buttonState)},SettingsMenuEventListener.prototype.resolveHomeClick=function(){MenuManager.Instance.currentState===MenuManager.States.Gameplay&&this.app.fire(this.app.events.facebook.ads.show,AdsManager.Type.Interstitial,function(){SoundManager.Instance.musicCheck(!1)}.bind(this)),MenuManager.Instance.changeState(MenuManager.States.CloseOverlay),MenuManager.Instance.changeState(MenuManager.States.Main)};var GameConstants=pc.createScript("gameConstants");GameConstants.prototype.initialize=function(){this.app.space={local:1,global:2},this.app.cost={showHint:50,skipLevel:50,watchAd:50,claimPrize:75,defaultBrainPoints:100,levelCompleted:50},this.app.adsSettings={noAdsLevel:1,cooldownTime:30},this.app.events={element:{mouseUp:"mouseup",mouseDown:"mousedown",touchStart:"touchstart",touchEnd:"touchend"},mainMenu:{levelBtn:"MainMenuEventListener:SelectLevel",characterBtn:"MainMenuEventListener:SelectCharacter",button:"MainMenuEventListener:Button"},settingsMenu:{button:"SettingsMenuEventListener:Button",soundBtn:"SettingsMenuEventListener:SoundBtn"},shopMenu:{button:"ShopMenuEventListener:Button"},Popup:{button:"PopupMenuEventListener:Button",setDisplay:"PopupMenuEventListener:SetDisplay"},gameplayMenu:{button:"GameplayMenuEventListener:Button",message:{showProof:"GameplayMenuEventListener:Message:ShowProof",optionResult:"GameplayMenuEventListener:Message:OptionResult",hintFirst:"GameplayMenuEventListener:Message:HintFirst"}},complimentaryMenu:{button:"ComplimentaryMenuEventListener:Button",setState:"ComplimentaryMenuEventListener:SetState"},levelsController:{btns:{option:"LevelsController:Btn:Option",object:"LevelsController:Btn:Object"}},sequenceHandler:{add:"SequenceHandler:Add",clear:"SequenceHandler:Clear"},scrollHandler:{highlight:"ScrollHandler:Highlight",scrollToLevel:"ScrollHandler:ScrollToLevel"},loadingMenu:{setLabel:"LoadingMenu:SetLabel",enablLoading:"LoadingMenu:EnablLoading",currentLoaded:"CurrentLevel:Loaded"},vibrationManager:{enable:"VibrationManager:Enable",vibrate:"VibrationManager:Vibrate"},economyManager:{setBrainPoints:"EconomyManager:Set:BrainPoints",getBrainPoints:"EconomyManager:Get:BrainPoints",setNoAds:"EconomyManager:Set:NoAds",getNoAds:"EconomyManager:Get:NoAds"},levelsManager:{saveLevels:"LevelsManager:Save:Levels",loadLevels:"LevelsManager:Load:Levels"},assetsManager:{loadedPercentage:"AssetsManager:LoadedPercentage"},facebook:{share:"Facebook:Share",ads:{show:"Facebook:Ads:Show",load:"Facebook:Ads:Load",manageBanner:"Facebook:Ads:ManageBanner"},analytics:{logEvent:"Facebook:Analytics:LogEvent"},iaps:{purchase:"Facebook:IAPs:Purchase",getCatalog:"Facebook:IAPs:Catalog",consume:"Facebook:IAPs:Consume"},storage:{save:"Facebook:Storage:Save",load:"Facebook:Storage:Load"}}}};var ShopMenuEventListener=pc.createScript("shopMenuEventListener");ShopMenuEventListener.attributes.add("nonRewardedPopup",{type:"entity"}),ShopMenuEventListener.attributes.add("gameplayBrainTxt",{type:"entity"}),ShopMenuEventListener.attributes.add("debugTest0",{type:"entity"}),ShopMenuEventListener.attributes.add("refs",{type:"json",title:"References",schema:[{name:"reference",type:"entity"}],array:!0}),ShopMenuEventListener.prototype.initialize=function(){this.app.on(this.app.events.shopMenu.button,this.onClickButton,this),this.dataLoaded=!1,this.texts={brainPoints:this.refs[0].reference,price:{brainChoice:this.refs[1].reference,brainPoints:this.refs[2].reference,removeAds:this.refs[3].reference,ultimoPack:this.refs[4].reference}},this.buttons={brainChoice:this.refs[5].reference,brainPoints:this.refs[6].reference,removeAds:this.refs[7].reference,ultimoPack:this.refs[8].reference},this.defualtPrices={brainChoice:"3.99$",brainPoints:"2.99$",removeAds:"2.99$",ultimoPack:"4.99$"}},ShopMenuEventListener.prototype.postInitialize=function(){this.catalog=void 0,this.enableProducts([!1,!1,!1,!1]),this.onCatalogFetched("Catalog"),this.app.fire(this.app.events.economyManager.getBrainPoints,function(e){this.setBrainPoints(e)}.bind(this))},ShopMenuEventListener.prototype.onClickButton=function(e){switch(SoundManager.Instance.shotSFX("ClickSound"),e[0]){case"Back":MenuManager.Instance.changeState(MenuManager.States.CloseOverlay);break;case"Package1":this.purchaseHelper(0,250,!0);break;case"Package2":this.purchaseHelper(3,500,!0);break;case"Package3":case"Restore":case"VIP":break;case"Item1":this.purchaseHelper(1,500);break;case"Item2":this.purchaseHelper(2,0,!0);break;case"RewardBrainPoints":this.app.fire(this.app.events.facebook.ads.show,AdsManager.Type.Rewarded,function(e){Timer.Instance.beginTimer(),console.log("Reward Given"),this.app.fire(this.app.events.economyManager.setBrainPoints,50),this.setBrainPoints(EconomyManager.Instance.brainPoints),SoundManager.Instance.musicCheck(!1)}.bind(this))}},ShopMenuEventListener.prototype.setPrices=function(e,t,n,i){this.texts.price.brainChoice.element.text=e||this.defualtPrices.brainChoice,this.texts.price.brainPoints.element.text=t||this.defualtPrices.brainPoints,this.texts.price.removeAds.element.text=n||this.defualtPrices.removeAds,this.texts.price.ultimoPack.element.text=i||this.defualtPrices.ultimoPack},ShopMenuEventListener.prototype.enableProducts=function(e){void 0!==e[0]&&(this.buttons.brainChoice.element.useInput=e[0],this.buttons.brainChoice.button.active=e[0]),void 0!==e[1]&&(this.buttons.brainPoints.element.useInput=e[1],this.buttons.brainPoints.button.active=e[1]),void 0!==e[2]&&(this.buttons.removeAds.element.useInput=e[2],this.buttons.removeAds.button.active=e[2]),void 0!==e[3]&&(this.buttons.ultimoPack.element.useInput=e[3],this.buttons.ultimoPack.button.active=e[3]),this.buttons.ultimoPack.enabled=!0,this.buttons.removeAds.enabled=!0,this.buttons.brainPoints.enabled=!0,this.buttons.brainChoice.enabled=!0},ShopMenuEventListener.prototype.onCatalogFetched=function(e,t){if(null!==e){let e=EconomyManager.Instance.noAds;"string"==typeof e&&(e="true"===e),this.enableProducts([!e,!0,!e,!e]);let t=[];t.length>0&&this.setPrices(...t)}},ShopMenuEventListener.prototype.purchaseHelper=function(e,t,n){let i=function(e,i){console.log("Purchase On Complete: "+e+", "+i),null!==e&&(t>0&&(this.app.fire(this.app.events.economyManager.setBrainPoints,t),this.setBrainPoints(EconomyManager.Instance.brainPoints)),void 0!==n&&(this.app.fire(this.app.events.economyManager.setNoAds,n),this.enableProducts([!1,!0,!1,!1])))}.bind(this);this.app.fire(this.app.events.facebook.iaps.purchase,e,i)},ShopMenuEventListener.prototype.setBrainPoints=function(e){this.texts.brainPoints.element.text=e,this.gameplayBrainTxt.element.text=e};var GameplayMenuEventListener=pc.createScript("gameplayMenuEventListener");GameplayMenuEventListener.attributes.add("shopBrainTxt",{type:"entity"}),GameplayMenuEventListener.attributes.add("completetionDelay",{title:"Delay after Completetion",type:"number",default:1}),GameplayMenuEventListener.attributes.add("nonRewardedPopup",{type:"entity"}),GameplayMenuEventListener.attributes.add("debugTest0",{type:"entity"}),GameplayMenuEventListener.attributes.add("values",{type:"json",title:"Values",schema:[{name:"value",type:"number"}],array:!0}),GameplayMenuEventListener.attributes.add("refs",{type:"json",title:"References",schema:[{name:"reference",type:"entity"}],array:!0}),GameplayMenuEventListener.prototype.initialize=function(){GameplayMenuEventListener.Instance=this,this.cacheVec1=new pc.Vec3,this.cacheVec2=new pc.Vec3,this.isHintSeen=!1,this.vals={hintCost:this.values[0].value,adReward:this.values[1].value,skipLevel:this.values[2].value,animSpeed:{woodStand:this.values[3].value,topBar:this.values[4].value,bottomPlank:this.values[5].value,ground:this.values[6].value}},this.texts={hintCost:this.refs[0].reference,adReward:this.refs[1].reference,skipLevel:this.refs[2].reference,title:this.refs[7].reference,brainPoints:this.refs[8].reference,question:this.refs[11].reference,shoofProof:this.refs[13].reference,hintFirst:this.refs[17].reference},this.references={hintBtn:this.refs[3].reference,woodStand:this.refs[4].reference,levelContainer:this.refs[5].reference,ground:this.refs[6].reference,bottomPlank:this.refs[9].reference,page:this.refs[12].reference,optionOverlay:this.refs[14].reference,correctOption:this.refs[15].reference,wrongOption:this.refs[16].reference,levelContent:this.refs[18].reference,watchAdBtn:this.refs[19].reference,noAdsBtn:this.refs[20].reference},this.popups={hint:this.refs[10].reference},this.on("enable",this.onEnable,this),this.app.on(this.app.events.gameplayMenu.button,this.onClickButton,this),this.app.on(this.app.events.gameplayMenu.message.showProof,this.showProofMsg,this),this.app.on(this.app.events.gameplayMenu.message.optionResult,this.showOptionResult,this),this.app.on(this.app.events.gameplayMenu.message.hintFirst,this.hintFirstMsg,this)},GameplayMenuEventListener.prototype.postInitialize=function(){this.onEnable()},GameplayMenuEventListener.prototype.onEnable=function(){this.texts.question.element.text="",this.isHintSeen=!1,this.references.optionOverlay.enabled=!1,this.references.levelContent.enabled=!1,this.setTexts(),this.beginAnimations(this.setLevel.bind(this)),this.references.noAdsBtn.button.active=!EconomyManager.Instance.noAds},GameplayMenuEventListener.prototype.update=function(e){},GameplayMenuEventListener.prototype.showProofMsg=function(){this.texts.shoofProof.enabled=!0,void 0!==this.proofMsgTween&&(TweenWrapper.StopTween(this.proofMsgTween),this.proofMsgTween=void 0),void 0!==this.proofMsgRoutine&&(CustomCoroutine.Instance.stop(this.proofMsgRoutine),this.proofMsgRoutine=void 0);let e=function(e){this.texts.shoofProof.element.opacity=e.number,this.texts.shoofProof.element.outlineThickness=e.number}.bind(this);this.texts.shoofProof.element.opacity=0,this.texts.shoofProof.element.outlineThickness=0,this.texts.shoofProof.enabled=!0,this.proofMsgTween=TweenWrapper.TweenNumber(this.texts.shoofProof.element.opacity,1,.5,e,function(){this.proofMsgTween=void 0,this.proofMsgRoutine=CustomCoroutine.Instance.set(function(){this.proofMsgTween=TweenWrapper.TweenNumber(this.texts.shoofProof.element.opacity,0,.5,e,function(){this.texts.shoofProof.enabled=!1,this.proofMsgTween=void 0}.bind(this))}.bind(this),1)}.bind(this))},GameplayMenuEventListener.prototype.showOptionResult=function(e,t){this.references.optionOverlay.enabled=!0,"string"==typeof e&&(e="true"===e),this.references.correctOption.enabled=e,this.references.wrongOption.enabled=0==e,!0===this.references.wrongOption.enabled&&SoundManager.Instance.shotSFX("Wrong"),!0===this.references.correctOption.enabled&&SoundManager.Instance.shotSFX("Correct"),CustomCoroutine.Instance.set(function(){this.references.optionOverlay.enabled=!1,t&&t()}.bind(this),this.completetionDelay)},GameplayMenuEventListener.prototype.hintFirstMsg=function(){this.texts.hintFirst.enabled=!0,CustomCoroutine.Instance.set(function(){this.texts.hintFirst.enabled=!1}.bind(this),1)},GameplayMenuEventListener.prototype.onClickButton=function(e){switch(SoundManager.Instance.shotSFX("ClickSound"),e[0]){case"Settings":MenuManager.Instance.changeState(MenuManager.States.Settings);break;case"Shop":MenuManager.Instance.changeState(MenuManager.States.Shop);break;case"ShowHint":this.resolveShowHintClick();break;case"WatchAd":this.resolveWatchAdClick();break;case"SkipLevel":this.resolveSkipLeveltClick()}},GameplayMenuEventListener.prototype.resolveShowHintClick=function(){var e="";try{e=SettingsMenuEventListener.Instance.language}catch{e="russian"}if(!this.manageBrainPoints(this.isHintSeen?0:this.app.cost.showHint,!1)){switch(e){case"english":this.showPopup("Insufficient","You do not have enough Brain Points to see hint!");break;case"turkish":this.showPopup("Yetersiz","İpucunu görmek için yeterli Brian Puanınız yok!");break;case"dutch":this.showPopup("Insufficient","Je hebt niet genoeg Brian -punten om hint te zien");break;case"filipino":this.showPopup("Insufficient","wala kang sapat na Brian points para makakita ng pahiwatig!");break;case"french":this.showPopup("Insufficient","Vous n`avez pas assez de points Brian pour voir l`indice");break;case"german":this.showPopup("Insufficient","Sie haben nicht genug Brian -Punkte, um Hinweise zu sehen");break;case"greek":this.showPopup("Insufficient","δεν έχετε αρκετούς πόντους Brian για να δείτε υπόδειξη!");break;case"hungarian":this.showPopup("Insufficient","Nincs elég Brian pontja a tipp látni");break;case"indonesian":this.showPopup("Insufficient","Anda tidak memiliki cukup poin Brian untuk melihat petunjuk");break;case"italian":this.showPopup("Insufficient","Non hai abbastanza punti Brian per vedere il suggerimento");break;case"malay":this.showPopup("Insufficient","Anda tidak mempunyai cukup mata Brian untuk melihat petunjuk");break;case"polish":this.showPopup("Insufficient","Nie masz wystarczającej liczby punktów Briana, aby zobaczyć wskazówkę");break;case"portugueseBrazil":this.showPopup("Insufficient","você não tem pontos Brian suficientes para ver a dica!");break;case"romanian":this.showPopup("Insufficient","Nu aveți suficiente puncte Brian pentru a vedea aluzie");break;case"serbian":this.showPopup("Insufficient","Немате довољно Бриан бодова да бисте видели наговештај");break;case"spanish":this.showPopup("Insufficient","Iwe hauna zvakakwana Brian mapoinzi kuti uone zano");break;case"vietnamese":this.showPopup("Insufficient","Bạn không có đủ điểm Brian để xem gợi ý");break;case"russian":this.showPopup("Insufficient","У вас недостаточно очков Брайана, чтобы увидеть подсказку");break;case"arabic":this.showPopup("Insufficient","ليس لديك ما يكفي من نقاط براين لرؤية تلميح");break;case"herbew":this.showPopup("Insufficient","אין לך מספיק נקודות בריאן כדי לראות רמז");break;case"hindi":this.showPopup("Insufficient","आपके पास संकेत देखने के लिए पर्याप्त ब्रायन अंक नहीं हैं");break;case"japanese":this.showPopup("Insufficient","あなたはヒントを見るのに十分なブライアンポイントを持っていません");break;case"korean":this.showPopup("Insufficient","당신은 힌트를 볼 수있는 브라이언 포인트가 충분하지 않습니다");break;case"taiwanese":this.showPopup("Insufficient","您沒有足夠的布萊恩點數來查看提示");break;case"thai":this.showPopup("Insufficient","คุณมีคะแนนไบรอันไม่เพียงพอที่จะเห็นคำใบ้");break;case"urdu":this.showPopup("Insufficient","آپ کے پاس اشارہ دیکھنے کے لیے کافی برائن پوائنٹس نہیں ہیں!")}return}this.isHintSeen=!0;let t="",a="Hint",n=LevelsManager.Instance.currentLevel;switch(e){case"english":a="Hint",t=DataManager.Instance.getData(DataManager.DatabaseTypes.Levels,n,DataManager.LevelsDB_Model.Hint);break;case"turkish":a="İpucu",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsTurk,n,DataManager.LevelsDB_Model.Hint);break;case"dutch":a="Tip:",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsDutch,n,DataManager.LevelsDB_Model.Hint);break;case"filipino":a="Pahiwatig",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsFilipino,n,DataManager.LevelsDB_Model.Hint);break;case"french":a="Indice",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsFrench,n,DataManager.LevelsDB_Model.Hint);break;case"german":a="Hinweis",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsGerman,n,DataManager.LevelsDB_Model.Hint);break;case"greek":a="Ελληνικά",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsGreek,n,DataManager.LevelsDB_Model.Hint);break;case"hungarian":a="görög",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsHungarian,n,DataManager.LevelsDB_Model.Hint);break;case"indonesian":a="Petunjuk",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsHungarian,n,DataManager.LevelsDB_Model.Hint);break;case"italian":a="Suggerimento",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsItalian,n,DataManager.LevelsDB_Model.Hint);break;case"malay":a="Petunjuk",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsMalay,n,DataManager.LevelsDB_Model.Hint);break;case"polish":a="Wskazówka",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsPolish,n,DataManager.LevelsDB_Model.Hint);break;case"portugueseBrazil":a="Dica",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsPortugueseBrazil,n,DataManager.LevelsDB_Model.Hint);break;case"romanian":a="Aluzie",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsRomanian,n,DataManager.LevelsDB_Model.Hint);break;case"serbian":a="Наговестити",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsSerbian,n,DataManager.LevelsDB_Model.Hint);break;case"spanish":a="Insinuación",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsSpanish,n,DataManager.LevelsDB_Model.Hint);break;case"vietnamese":a="Dấu",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsVietnamese,n,DataManager.LevelsDB_Model.Hint);break;case"russian":a="Намекать",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsRussian,n,DataManager.LevelsDB_Model.Hint);break;case"arabic":a="ملحوظة",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsArabic,n,DataManager.LevelsDB_Model.Hint);break;case"hebrew":a="רֶמֶז",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsHebrew,n,DataManager.LevelsDB_Model.Hint);break;case"hindi":a="संकेत देना",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsHindi,n,DataManager.LevelsDB_Model.Hint);break;case"japanese":a="ヒント",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsJapanese,n,DataManager.LevelsDB_Model.Hint),console.log("Language Changed to japanese");break;case"korean":a="힌트",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsKorean,n,DataManager.LevelsDB_Model.Hint);break;case"taiwanese":a="힌트",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsTaiwanese,n,DataManager.LevelsDB_Model.Hint);break;case"thai":a="ระดับ",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsThai,n,DataManager.LevelsDB_Model.Hint);break;case"urdu":a="لیول",t=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsUrdu,n,DataManager.LevelsDB_Model.Hint)}this.showPopup(a,t)},GameplayMenuEventListener.prototype.setLevel=function(){let e=LevelsManager.Instance.currentLevel;var t="";try{t=SettingsMenuEventListener.Instance.language}catch{t="russian"}switch(console.log(t),t){case"english":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.Levels,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"turkish":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsTurk,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"dutch":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsDutch,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"filipino":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsFilipino,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"french":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsFrench,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"german":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsGerman,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"greek":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsGreek,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"hungarian":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsHungarian,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"indonesian":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsIndonesian,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"italian":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsItalian,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"malay":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsMalay,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"polish":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsPolish,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"portugueseBrazil":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsPortugueseBrazil,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"romanian":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsRomanian,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"serbian":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsSerbian,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"spanish":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsSpanish,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"vietnamese":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsVietnamese,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.vietnamese;break;case"russian":this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsRussian,e,DataManager.LevelsDB_Model.Question),this.texts.question.element.fontAsset=FontChanger.Instance.comicBD;break;case"arabic":this.texts.question.element.fontAsset=FontChanger.Instance.aRURHE,this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsArabic,e,DataManager.LevelsDB_Model.Question);break;case"hebrew":this.texts.question.element.fontAsset=FontChanger.Instance.aRURHE,this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsHebrew,e,DataManager.LevelsDB_Model.Question);break;case"hindi":this.texts.question.element.fontAsset=FontChanger.Instance.hindi,this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsHindi,e,DataManager.LevelsDB_Model.Question);break;case"japanese":this.texts.question.element.fontAsset=FontChanger.Instance.japanees,console.log("Language Changed to Japanese"),this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsJapanese,e,DataManager.LevelsDB_Model.Question);break;case"korean":this.texts.question.element.fontAsset=FontChanger.Instance.korean,this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsKorean,e,DataManager.LevelsDB_Model.Question);break;case"taiwanese":this.texts.question.element.fontAsset=FontChanger.Instance.taiwanese,this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsTaiwanese,e,DataManager.LevelsDB_Model.Question);break;case"thai":this.texts.question.element.fontAsset=FontChanger.Instance.thai,this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsThai,e,DataManager.LevelsDB_Model.Question);break;case"urdu":this.texts.question.element.fontAsset=FontChanger.Instance.aRURHE,this.texts.question.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsUrdu,e,DataManager.LevelsDB_Model.Question)}this.references.levelContent.enabled=!0},GameplayMenuEventListener.prototype.resolveWatchAdClick=function(){this.app.fire(this.app.events.facebook.ads.show,AdsManager.Type.Rewarded,function(e){Timer.Instance.beginTimer(),this.references.watchAdBtn.element.useInput=!1,this.references.watchAdBtn.button.active=!1,this.manageBrainPoints(-this.app.cost.watchAd,!0),SoundManager.Instance.musicCheck(!1)}.bind(this))},GameplayMenuEventListener.prototype.resolveSkipLeveltClick=function(){if(this.isHintSeen){if(!this.manageBrainPoints(this.app.cost.skipLevel,!1)){var e="";try{e=SettingsMenuEventListener.Instance.language}catch{e="russian"}switch(e){case"english":this.showPopup("Insufficient","You do not have enough Brain Points to skip level");break;case"turkish":this.showPopup("yetersiz","Bölüm atlamak için yeterli Beyin Puanınız yok");break;case"dutch":this.showPopup("Insufficient","Je hebt onvoldoende hersenpunten om dit level over te slaan.");break;case"filipino":this.showPopup("Insufficient","Wala kang sapat na mga brain point para mag-skip ng level!");break;case"french":this.showPopup("Insufficient","Tu n`as pas assez de points cérébraux pour sauter le niveau!");break;case"german":this.showPopup("Insufficient","Du hast nicht genug Gehirnpunkte, um das Level zu überspringen!");break;case"greek":this.showPopup("Insufficient","Δεν έχεις αρκετό IQ για να παραβλέψεις το επίπεδο!");break;case"hungarian":this.showPopup("Insufficient","Nincs elég agypontod a szint átlépéséhez!");break;case"indonesian":this.showPopup("Insufficient","Poin otak kamu tidak cukup untuk melewati level!");break;case"italian":this.showPopup("Insufficient","Non hai abbastanza punti mente per saltare il livello!");break;case"malay":this.showPopup("Insufficient","Anda tiada mata minda yang mencukupi untuk melangkau tahap!");break;case"polish":this.showPopup("Insufficient","Masz za mało punktów umysły, aby pominąć poziom!");break;case"portugueseBrazil":this.showPopup("Insufficient","Você não tem pontos cerebrais suficientes para pular o nível!");break;case"romanian":this.showPopup("Insufficient","Nu ai suficiente puncte de inteligență pentru a ignora nivelul!");break;case"serbian":this.showPopup("Insufficient","Nemate dovoljno poena mozganja da preskočite nivo!");break;case"spanish":this.showPopup("Insufficient","¡No tienes suficientes puntos cerebrales para omitir el nivel!");break;case"vietnamese":this.showPopup("Insufficient","Bạn không đủ điểm não để bỏ qua cấp độ!");break;case"russian":this.showPopup("Insufficient","У тебя недостаточно мозгочков, чтобы пропустить уровень!");break;case"arabic":this.showPopup("Insufficient","ليس لديك ما يكفي من نقاط برين لتخطي المستوى!");break;case"hebrew":this.showPopup("Insufficient","אין לכם מספיק נקודות שכל כדי לדלג על שלב!");break;case"hindi":this.showPopup("Insufficient","लेवल छोड़ने के लिए आपके पास पर्याप्त ब्रेन प्वाइंट्स नहीं हैं!");break;case"japanese":this.showPopup("Insufficient","レベルをスキップするにはブレインポイントが足りません！");break;case"korean":this.showPopup("Insufficient","레벨을 건너뛰기 위한 브레인 포인트가 부족해요!");break;case"taiwanese":this.showPopup("Insufficient","你沒有足夠的大腦點數跳過關卡！");break;case"thai":this.showPopup("Insufficient","คุณมีคะแนนสมองไม่พอข้ามด่าน!");break;case"urdu":this.showPopup("Insufficient","تمہارے پاس اتنے بلال پوائنٹس نہیں کہ لیول چھوڑ سکو!!")}return}LevelsManager.Instance.isLevelCompleted=!0,MenuManager.Instance.changeState(MenuManager.States.Main)}else this.hintFirstMsg()},GameplayMenuEventListener.prototype.setTexts=function(){this.setLevelText(),this.texts.hintCost.element.text="x"+this.vals.hintCost,this.texts.adReward.element.text="+"+this.vals.adReward,this.texts.skipLevel.element.text="x"+this.vals.skipLevel,this.app.fire(this.app.events.economyManager.getBrainPoints,function(e){this.setBrainPoints(e)}.bind(this))},GameplayMenuEventListener.prototype.setLevelText=function(){var e="";try{e=SettingsMenuEventListener.Instance.language}catch{e="russian"}switch(e){case"english":case"dutch":case"filipino":case"german":case"indonesian":this.texts.title.element.text="Level "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.comicBD;break;case"turkish":this.texts.title.element.text="Bölüm "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.comicBD;break;case"french":this.texts.title.element.text="Niveau "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.comicBD;break;case"greek":this.texts.title.element.text="Επίπεδο "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.comicBD;break;case"hungarian":this.texts.title.element.text="Szint "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.comicBD;break;case"italian":this.texts.title.element.text="Livello "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.comicBD;break;case"malay":this.texts.title.element.text="Tahap "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.comicBD;break;case"polish":this.texts.title.element.text="Poziom "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.comicBD;break;case"portugueseBrazil":this.texts.title.element.text="Nível "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.comicBD;break;case"romanian":this.texts.title.element.text="Nivelul "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.comicBD;break;case"serbian":this.texts.title.element.text="Nivo "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.comicBD;break;case"spanish":this.texts.title.element.text="Nivel "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.comicBD;break;case"vietnamese":this.texts.title.element.text="CHƠI NÀO "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.vietnamese;break;case"russian":case"russian":this.texts.title.element.text="Уровень "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.comicBD;break;case"arabic":this.texts.title.element.text="المرحلة "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.aRURHE;break;case"hebrew":this.texts.title.element.text="רָמָה "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.aRURHE;break;case"hindi":this.texts.title.element.text="राउंड "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.hindi;break;case"japanese":this.texts.title.element.text="レベル "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.japanees;break;case"korean":this.texts.title.element.text="수준 "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.korean;break;case"taiwanese":this.texts.title.element.text="關卡 "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.taiwanese;break;case"thai":this.texts.title.element.text="ระดับ "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.thai;break;case"urdu":this.texts.title.element.text="لیول "+(LevelsManager.Instance.currentLevel+1),this.texts.title.element.fontAsset=FontChanger.Instance.aRURHE}},GameplayMenuEventListener.prototype.setBrainPoints=function(e){this.texts.brainPoints.element.text=e,this.shopBrainTxt.element.text=e},GameplayMenuEventListener.prototype.manageBrainPoints=function(e,t){let a=EconomyManager.Instance.brainPoints;return!(!t&&a<e)&&(a-=e,this.app.fire(this.app.events.economyManager.setBrainPoints,a,!0),this.setBrainPoints(a),!0)},GameplayMenuEventListener.prototype.beginAnimations=function(e){let t=this.references.ground.element.height;this.references.ground.setLocalPosition(0,-t,0),this.references.woodStand.setLocalPosition(screen.width,0,0),this.references.levelContainer.setLocalPosition(screen.width,-30,0),this.references.bottomPlank.setLocalPosition(screen.width,90,0),this.cacheVec1.set(0,-30,0),this.cacheVec2.set(0,90,0),TweenWrapper.Tween(this.references.ground,this.references.ground.getLocalPosition(),pc.Vec3.ZERO,this.vals.animSpeed.ground),TweenWrapper.Tween(this.references.bottomPlank,this.references.bottomPlank.getLocalPosition(),this.cacheVec2,this.vals.animSpeed.bottomPlank),TweenWrapper.Tween(this.references.woodStand,this.references.woodStand.getLocalPosition(),pc.Vec3.ZERO,this.vals.animSpeed.woodStand,void 0,pc.BackOut),TweenWrapper.Tween(this.references.levelContainer,this.references.levelContainer.getLocalPosition(),this.cacheVec1,this.vals.animSpeed.topBar,e,pc.BackOut)},GameplayMenuEventListener.prototype.showPopup=function(e,t){let a={};a.title=e,a.description=t,this.popups.hint.enabled=!0,this.app.fire(this.app.events.Popup.setDisplay,a)};var PopupMenuEventListener=pc.createScript("popupMenuEventListener");PopupMenuEventListener.attributes.add("animSpeed",{type:"number"}),PopupMenuEventListener.attributes.add("bG",{type:"entity"}),PopupMenuEventListener.attributes.add("panel",{type:"entity"}),PopupMenuEventListener.attributes.add("titleTxt",{type:"entity"}),PopupMenuEventListener.attributes.add("characterIcon",{type:"entity"}),PopupMenuEventListener.attributes.add("description",{type:"entity"}),PopupMenuEventListener.prototype.initialize=function(){this.app.on(this.app.events.Popup.button,this.onClickButton,this),this.app.on(this.app.events.Popup.setDisplay,this.setDisplay,this),this.onEnable(),this.on("enable",this.onEnable,this)},PopupMenuEventListener.prototype.onEnable=function(){this.open()},PopupMenuEventListener.prototype.update=function(e){},PopupMenuEventListener.prototype.open=function(){this.animSpeed>0&&(this.panel.setLocalScale(0,0,0),TweenWrapper.TweenOpacity(this.bG.element,0,.5,this.animSpeed),TweenWrapper.TweenNumber(0,1,this.animSpeed,function(e){this.panel.setLocalScale(e.number,e.number,e.number)}.bind(this)))},PopupMenuEventListener.prototype.close=function(){this.animSpeed>0?(this.panel.setLocalScale(1,1,1),TweenWrapper.TweenOpacity(this.bG.element,.5,0,this.animSpeed,function(){this.entity.enabled=!1}.bind(this)),TweenWrapper.TweenNumber(1,0,this.animSpeed,function(e){this.panel.setLocalScale(e.number,e.number,e.number)}.bind(this))):this.entity.enabled=!1},PopupMenuEventListener.prototype.onClickButton=function(e){switch(SoundManager.Instance.shotSFX("ClickSound"),e[0]){case"Back":case"Great":this.close();break;case"Play":this.play()}},PopupMenuEventListener.prototype.setDisplay=function(e){let t;var n="";try{n=SettingsMenuEventListener.Instance.language}catch{n="russian"}if(null!==this.titleTxt&&void 0!==e.title){switch(n){case"english":case"turkish":case"dutch":case"filipino":case"french":case"german":case"greek":case"hungarian":case"indonesian":case"italian":case"malay":case"polish":case"portugueseBrazil":case"romanian":case"serbian":case"spanish":case"russian":this.titleTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"vietnamese":this.titleTxt.element.fontAsset=FontChanger.Instance.vietnamese;break;case"arabic":case"hebrew":case"urdu":this.titleTxt.element.fontAsset=FontChanger.Instance.aRURHE;break;case"hindi":this.titleTxt.element.fontAsset=FontChanger.Instance.hindi;break;case"japanese":this.titleTxt.element.fontAsset=FontChanger.Instance.japanees;break;case"korean":this.titleTxt.element.fontAsset=FontChanger.Instance.korean;break;case"taiwanese":this.titleTxt.element.fontAsset=FontChanger.Instance.taiwanese;break;case"thai":this.titleTxt.element.fontAsset=FontChanger.Instance.thai}this.titleTxt.element.text=e.title}if(null!==this.characterIcon&&void 0!==e.characterIndex){t=e.characterIndex;let n=SpritesManager.Instance.getCharacterSprite(t,SpritesManager.ButtonState.active),a=n.width/n.height;this.characterIcon.element.texture=n,this.characterIcon.element.width=this.characterIcon.element.height*a}if(null!==this.description&&void 0!==e.description)switch(this.description.element.text=e.description,n){case"english":case"turkish":case"dutch":case"filipino":case"french":case"german":case"greek":case"hungarian":case"indonesian":case"italian":case"malay":case"polish":case"portugueseBrazil":case"romanian":case"serbian":case"spanish":case"russian":this.description.element.fontAsset=FontChanger.Instance.comicBD;break;case"vietnamese":this.description.element.fontAsset=FontChanger.Instance.vietnamese;break;case"arabic":case"hebrew":case"urdu":this.description.element.fontAsset=FontChanger.Instance.aRURHE;break;case"hindi":this.description.element.fontAsset=FontChanger.Instance.hindi;break;case"japanese":this.description.element.fontAsset=FontChanger.Instance.japanees;break;case"korean":this.description.element.fontAsset=FontChanger.Instance.korean;break;case"taiwanese":this.description.element.fontAsset=FontChanger.Instance.taiwanese;break;case"thai":this.description.element.fontAsset=FontChanger.Instance.thai}},PopupMenuEventListener.prototype.play=function(){let e=LevelsManager.Instance.selectedLevel;LevelsManager.Instance.changeCurrentLevel(e),MenuManager.Instance.changeState(MenuManager.States.Gameplay);let t=DataManager.Instance.getData(DataManager.DatabaseTypes.Levels,e,DataManager.LevelsDB_Model.CharacterIndex);this.app.fire(this.app.events.scrollHandler.highlight,e+1,t),this.entity.enabled=!1};var MenuManager=pc.createScript("menuManager");MenuManager.attributes.add("allPanels",{type:"json",schema:[{name:"overlay",type:"boolean"},{name:"panel",type:"entity"}],array:!0}),MenuManager.States={Main:0,Settings:1,Gameplay:2,Shop:3,Complementary:4,Splash:5,CloseOverlay:-1},MenuManager.prototype.initialize=function(){MenuManager.Instance=this,this.prevState=MenuManager.States.Main,this.currentState=MenuManager.States.Gameplay,this.currentOverlays=[],this.changeState(MenuManager.States.Splash)},MenuManager.prototype.update=function(e){},MenuManager.prototype.changeState=function(e){if(this.currentState!==e&&!this.manageOverlayState(e)){this.prevState=this.currentState,this.currentState=e;var a=this.allPanels[this.prevState].panel,t=this.allPanels[this.currentState].panel;this.allPanels[this.currentState].overlay||(a.enabled=!1),t.enabled=!0}},MenuManager.prototype.manageOverlayState=function(e){return this.currentOverlays.length>0&&e===MenuManager.States.CloseOverlay?(this.allPanels[this.currentOverlays.pop()].panel.enabled=!1,!0):(this.allPanels[e].overlay&&(this.allPanels[e].panel.enabled=!0,this.currentOverlays.push(e)),this.allPanels[e].overlay)};var DataManager=pc.createScript("dataManager");DataManager.attributes.add("levelsCSV",{type:"asset",assetType:"json"}),DataManager.attributes.add("charactersCSV",{type:"asset",assetType:"json"}),DataManager.DatabaseTypes={Levels:"levelsDetails",LevelsTurk:"levelsDetailsTurk",LevelsDutch:"levelsDetailsDutch",LevelsFilipino:"levelsDetailsFilipino",LevelsFrench:"levelsDetailsFrench",LevelsGerman:"levelsDetailsGerman",LevelsGreek:"levelsDetailsGreek",LevelsHungarian:"levelsDetailsHungarian",LevelsIndonesian:"levelsDetailsIndonesian",LevelsItalian:"levelsDetailsItalian",LevelsMalay:"levelsDetailsMalay",LevelsPolish:"levelsDetailsPolish",LevelsPortugueseBrazil:"levelsDetailsPortugueseBrazil",LevelsRomanian:"levelsDetailsRomanian",LevelsSerbian:"levelsDetailsSerbian",LevelsSpanish:"levelsDetailsSpanish",LevelsVietnamese:"levelsDetailsVietnamese",LevelsRussian:"levelsDetailsRussian",LevelsArabic:"levelsDetailsArabic",LevelsHebrew:"levelsDetailsHebrew",LevelsHindi:"levelsDetailsHindi",LevelsJapanese:"levelsDetailsJapanese",LevelsKorean:"levelsDetailsKorean",LevelsTaiwanese:"levelsDetailsTaiwanese",LevelsThai:"levelsDetailsThai",LevelsUrdu:"levelsDetailsUrdu",Characters:"characterDetails",CharacterDetailsTurk:"characterDetailsTurk",CharacterDetailsDutch:"characterDetailsDutch",CharacterDetailsFilipino:"characterDetailsFilipino",CharacterDetailsFrench:"characterDetailsFrench",CharacterDetailsGerman:"characterDetailsGerman",CharacterDetailsGreek:"characterDetailsGreek",CharacterDetailsHungarian:"characterDetailsHungarian",CharacterDetailsIndonesian:"characterDetailsIndonesian",CharacterDetailsItalian:"characterDetailsItalian",CharacterDetailsMalay:"characterDetailsMalay",CharacterDetailsPolish:"characterDetailsPolish",CharacterDetailsPortugueseBrazil:"characterDetailsPortugueseBrazil",CharacterDetailsRomanian:"characterDetailsRomanian",CharacterDetailsSerbian:"characterDetailsSerbian",CharacterDetailsSpanish:"characterDetailsSpanish",CharacterDetailsVietnamese:"characterDetailsVietnamese",CharacterDetailsRussian:"characterDetailsRussian",CharacterDetailsArabic:"characterDetailsArabic",CharacterDetailsHebrew:"characterDetailsHebrew",CharacterDetailsHindi:"characterDetailsHindi",CharacterDetailsJapanese:"characterDetailsJapanese",CharacterDetailsKorean:"characterDetailsKorean",CharacterDetailsTaiwanese:"characterDetailsTaiwanese",CharacterDetailsThai:"characterDetailsThai",CharacterDetailsUrdu:"characterDetailsUrdu"},DataManager.LevelsDB_Model={QuestionValue:"QuestionValue",Question:"Question",Hint:"Hint",Compliment:"Compliment",CharacterIndex:"CharacterIndex"},DataManager.CharactersDB_Model={Name:"Name",LifeSpan:"LifeSpan",Description:"Description"},DataManager.prototype.initialize=function(){DataManager.Instance=this,this.data=[],this.data[DataManager.DatabaseTypes.Levels]=this.levelsCSV.resource.levelsDetails,this.data[DataManager.DatabaseTypes.LevelsTurk]=this.levelsCSV.resource.levelsDetailsTurk,this.data[DataManager.DatabaseTypes.LevelsDutch]=this.levelsCSV.resource.levelsDetailsDutch,this.data[DataManager.DatabaseTypes.LevelsFilipino]=this.levelsCSV.resource.levelsDetailsFilipino,this.data[DataManager.DatabaseTypes.LevelsFrench]=this.levelsCSV.resource.levelsDetailsFrench,this.data[DataManager.DatabaseTypes.LevelsGerman]=this.levelsCSV.resource.levelsDetailsGerman,this.data[DataManager.DatabaseTypes.LevelsGreek]=this.levelsCSV.resource.levelsDetailsGreek,this.data[DataManager.DatabaseTypes.LevelsHungarian]=this.levelsCSV.resource.levelsDetailsHungarian,this.data[DataManager.DatabaseTypes.LevelsIndonesian]=this.levelsCSV.resource.levelsDetailsIndonesian,this.data[DataManager.DatabaseTypes.LevelsItalian]=this.levelsCSV.resource.levelsDetailsItalian,this.data[DataManager.DatabaseTypes.LevelsMalay]=this.levelsCSV.resource.levelsDetailsMalay,this.data[DataManager.DatabaseTypes.LevelsPolish]=this.levelsCSV.resource.levelsDetailsPolish,this.data[DataManager.DatabaseTypes.LevelsPortugueseBrazil]=this.levelsCSV.resource.levelsDetailsPortugueseBrazil,this.data[DataManager.DatabaseTypes.LevelsRomanian]=this.levelsCSV.resource.levelsDetailsRomanian,this.data[DataManager.DatabaseTypes.LevelsSerbian]=this.levelsCSV.resource.levelsDetailsSerbian,this.data[DataManager.DatabaseTypes.LevelsSpanish]=this.levelsCSV.resource.levelsDetailsSpanish,this.data[DataManager.DatabaseTypes.LevelsVietnamese]=this.levelsCSV.resource.levelsDetailsVietnamese,this.data[DataManager.DatabaseTypes.LevelsRussian]=this.levelsCSV.resource.levelsDetailsRussian,this.data[DataManager.DatabaseTypes.LevelsArabic]=this.levelsCSV.resource.levelsDetailsArabic,this.data[DataManager.DatabaseTypes.LevelsHebrew]=this.levelsCSV.resource.levelsDetailsHebrew,this.data[DataManager.DatabaseTypes.LevelsHindi]=this.levelsCSV.resource.levelsDetailsHindi,this.data[DataManager.DatabaseTypes.LevelsJapanese]=this.levelsCSV.resource.levelsDetailsJapanese,this.data[DataManager.DatabaseTypes.LevelsKorean]=this.levelsCSV.resource.levelsDetailsKorean,this.data[DataManager.DatabaseTypes.LevelsTaiwanese]=this.levelsCSV.resource.levelsDetailsTaiwanese,this.data[DataManager.DatabaseTypes.LevelsThai]=this.levelsCSV.resource.levelsDetailsThai,this.data[DataManager.DatabaseTypes.LevelsUrdu]=this.levelsCSV.resource.levelsDetailsUrdu,this.data[DataManager.DatabaseTypes.Characters]=this.charactersCSV.resource.characterDetails,this.data[DataManager.DatabaseTypes.CharacterDetailsTurk]=this.charactersCSV.resource.characterDetailsTurkish,this.data[DataManager.DatabaseTypes.CharacterDetailsDutch]=this.charactersCSV.resource.characterDetailsDutch,this.data[DataManager.DatabaseTypes.CharacterDetailsFilipino]=this.charactersCSV.resource.characterDetailsFilipino,this.data[DataManager.DatabaseTypes.CharacterDetailsFrench]=this.charactersCSV.resource.characterDetailsFrench,this.data[DataManager.DatabaseTypes.CharacterDetailsGerman]=this.charactersCSV.resource.characterDetailsGerman,this.data[DataManager.DatabaseTypes.CharacterDetailsGreek]=this.charactersCSV.resource.characterDetailsGreek,this.data[DataManager.DatabaseTypes.CharacterDetailsHungarian]=this.charactersCSV.resource.characterDetailsHungarian,this.data[DataManager.DatabaseTypes.CharacterDetailsIndonesian]=this.charactersCSV.resource.characterDetailsIndonesian,this.data[DataManager.DatabaseTypes.CharacterDetailsItalian]=this.charactersCSV.resource.characterDetailsItalian,this.data[DataManager.DatabaseTypes.CharacterDetailsMalay]=this.charactersCSV.resource.characterDetailsMalay,this.data[DataManager.DatabaseTypes.CharacterDetailsPolish]=this.charactersCSV.resource.characterDetailsPolish,this.data[DataManager.DatabaseTypes.CharacterDetailsPortugueseBrazil]=this.charactersCSV.resource.characterDetailsPortugueseBrazil,this.data[DataManager.DatabaseTypes.CharacterDetailsRomanian]=this.charactersCSV.resource.characterDetailsRomanian,this.data[DataManager.DatabaseTypes.CharacterDetailsSerbian]=this.charactersCSV.resource.characterDetailsSerbian,this.data[DataManager.DatabaseTypes.CharacterDetailsSpanish]=this.charactersCSV.resource.characterDetailsSpanish,this.data[DataManager.DatabaseTypes.CharacterDetailsVietnamese]=this.charactersCSV.resource.characterDetailsVietnamese,this.data[DataManager.DatabaseTypes.CharacterDetailsRussian]=this.charactersCSV.resource.characterDetailsRussian,this.data[DataManager.DatabaseTypes.CharacterDetailsArabic]=this.charactersCSV.resource.characterDetailsArabic,this.data[DataManager.DatabaseTypes.CharacterDetailsHebrew]=this.charactersCSV.resource.characterDetailsHebrew,this.data[DataManager.DatabaseTypes.CharacterDetailsHindi]=this.charactersCSV.resource.characterDetailsHindi,this.data[DataManager.DatabaseTypes.CharacterDetailsJapanese]=this.charactersCSV.resource.characterDetailsJapanese,this.data[DataManager.DatabaseTypes.CharacterDetailsKorean]=this.charactersCSV.resource.characterDetailsKorean,this.data[DataManager.DatabaseTypes.CharacterDetailsTaiwanese]=this.charactersCSV.resource.characterDetailsTaiwanese,this.data[DataManager.DatabaseTypes.CharacterDetailsThai]=this.charactersCSV.resource.characterDetailsThai,this.data[DataManager.DatabaseTypes.CharacterDetailsUrdu]=this.charactersCSV.resource.characterDetailsUrdu},DataManager.prototype.postInitialize=function(){},DataManager.prototype.getData=function(a,e,s){try{return this.data[a][e][s]}catch(a){return"Compliment Error: "+a}},DataManager.prototype.getDataLength=function(a){return this.data[a].length},DataManager.prototype.update=function(a){};var LevelsManager=pc.createScript("levelsManager");function storageAvailable(e){try{var t=window[e],a="__storage_test__";return t.setItem(a,a),t.removeItem(a),!0}catch(e){return!1}}LevelsManager.attributes.add("manageLevels",{type:"boolean"}),LevelsManager.attributes.add("unlockedLevels",{type:"number"}),LevelsManager.attributes.add("unlockedCharacters",{type:"number"}),LevelsManager.attributes.add("levelContainer",{type:"entity"}),LevelsManager.attributes.add("startingLevel",{type:"number"}),LevelsManager.attributes.add("templates",{type:"json",title:"Level Templates",schema:[{name:"level",type:"asset",assetType:"template"}],array:!0}),LevelsManager.prototype.initialize=function(){LevelsManager.Instance=this,this.selectedLevel=0,this.currentLevel=-1,this.prevLevel=0,this.isLevelCompleted=!1,this.dataLoaded=!1,this.app.on(this.app.events.levelsManager.saveLevels,this.saveUnlockedLevels,this),this.app.on(this.app.events.levelsManager.loadLevels,this.loadUnlockedLevels,this)},LevelsManager.prototype.postInitialize=function(){this.changeCurrentLevel(this.startingLevel)},LevelsManager.prototype.update=function(e){},LevelsManager.prototype.setSelectedLevel=function(e){this.selectedLevel=e},LevelsManager.prototype.changeCurrentLevel=function(e){if(e!==this.currentLevel)if(this.prevLevel=this.currentLevel,this.currentLevel=e,this.manageLevels){this.levelContainer.children[0].destroy();let e=this.templates[this.currentLevel].level.resource.instantiate();e.reparent(this.levelContainer,0),e.enabled=!0}else this.levelContainer.children[0].enabled=!0},LevelsManager.prototype.getUnlockedLevels=function(){return this.unlockedLevels},LevelsManager.prototype.getUnlockedCharacters=function(){return this.unlockedCharacters},LevelsManager.prototype.saveUnlockedLevels=function(e,t,a){let s=t?e:this.unlockedLevels+e;this.unlockedLevels>=s||(this.unlockedLevels=s,this.unlockedCharacters=DataManager.Instance.getData(DataManager.DatabaseTypes.Levels,s,DataManager.LevelsDB_Model.CharacterIndex),storageAvailable("localStorage")&&localStorage.setItem("levelsCompleted",this.unlockedLevels))},LevelsManager.prototype.loadUnlockedLevels=function(e){e&&e(this.unlockedLevels),this.setLevel(localStorage.getItem("levelsCompleted"))},LevelsManager.prototype.setLevel=function(e){e<1&&(e=1),this.unlockedLevels=e,this.unlockedCharacters=DataManager.Instance.getData(DataManager.DatabaseTypes.Levels,this.unlockedLevels,DataManager.LevelsDB_Model.CharacterIndex)+1,this.startingLevel=this.unlockedLevels-1,this.changeCurrentLevel(this.startingLevel),AssetLoadManager.Instance.startLoadingAssets()};var LevelsController1=pc.createScript("LevelsController1");LevelsController1.attributes.add("correctOption",{type:"string",title:"Correct Option"}),LevelsController1.attributes.add("completeAfterAllRevealed",{type:"boolean",title:"Auto Complete After Tasks",description:"If this is checked, then level will be completed after all tasks have been completed"}),LevelsController1.attributes.add("objects",{type:"json",title:"Tasks",schema:[{title:"Completed",name:"isDone",type:"boolean",default:!1},{title:"Veto Group",name:"solidGroup",type:"boolean",default:!1,description:"If all Tasks of veto groups are done, then proof will be considered shown"},{title:"ID",name:"groupID",type:"number",default:-1}],array:!0}),LevelsController1.attributes.add("objToReset",{type:"json",title:"Entities To Reset",schema:[{title:"Entity",name:"obj",type:"entity"},{title:"Enabled",name:"setActive",type:"boolean"},{title:"Use Input",name:"useInput",type:"boolean",default:!0},{title:"Opacity",name:"opacity",type:"number",default:1},{title:"Set Position",name:"setPosition",type:"boolean"},{title:"Position",name:"position",type:"vec3"},{title:"Set Rotation",name:"setRotation",type:"boolean"},{title:"Rotation",name:"rotation",type:"vec3"},{title:"Set Scale",name:"setScale",type:"boolean"},{title:"Scale",name:"scale",type:"vec3",default:[1,1,1]}],array:!0}),LevelsController1.prototype.initialize=function(){this.isProofSeen=!1,this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",this.onDisable,this),this.on("destroy",this.onDisable,this)},LevelsController1.prototype.onDisable=function(){this.initialized&&(this.initialized=!1,this.app.fire(this.app.events.loadingMenu.enablLoading,["1"]),this.app.off(this.app.events.levelsController.btns.option,this.onClickOption,this),this.app.off(this.app.events.levelsController.btns.object,this.onClickObject,this),this.app.off(this.app.events.loadingMenu.currentLoaded,this.onLevelLoaded,this))},LevelsController1.prototype.onEnable=function(){if(!this.initialized){this.initialized=!0,this.currentLevelLoaded=!1,this.loadLevel(),this.app.on(this.app.events.loadingMenu.currentLoaded,this.onLevelLoaded,this),this.app.on(this.app.events.levelsController.btns.option,this.onClickOption,this),this.app.on(this.app.events.levelsController.btns.object,this.onClickObject,this),this.isProofSeen=!1;for(let e=0;e<this.objects.length;e++)this.objects[e].isDone=!1;for(let e=0;e<this.objToReset.length;e++)this.objToReset[e].obj.enabled=this.objToReset[e].setActive,this.objToReset[e].obj.element&&(this.objToReset[e].obj.element.opacity=this.objToReset[e].opacity,this.objToReset[e].obj.element.useInput=this.objToReset[e].useInput),this.objToReset[e].setPosition&&this.objToReset[e].obj.setLocalPosition(this.objToReset[e].position.x,this.objToReset[e].position.y,this.objToReset[e].position.z),this.objToReset[e].setRotation&&this.objToReset[e].obj.setLocalEulerAngles(this.objToReset[e].rotation.x,this.objToReset[e].rotation.y,this.objToReset[e].rotation.z),this.objToReset[e].setScale&&this.objToReset[e].obj.setLocalScale(this.objToReset[e].scale.x,this.objToReset[e].scale.y,this.objToReset[e].scale.z)}},LevelsController1.prototype.updateProofStatus=function(){this.isProofSeen=!1;let e=[],t=0;for(let t=0;t<this.objects.length;t++)if(this.objects[t].groupID>-1){let o=e[this.objects[t].groupID];e[this.objects[t].groupID]={state:(void 0===o||o.state)&&this.objects[t].isDone,isSolid:this.objects[t].solidGroup}}for(let o=0;o<e.length;o++)if(e[o].state&&(t++,e[o].isSolid))return this.isProofSeen=!0,void(this.completeAfterAllRevealed&&this.onClickOption(["x"]));t===e.length&&(this.isProofSeen=!0,this.completeAfterAllRevealed&&this.onClickOption(["x"]))},LevelsController1.prototype.onClickObject=function(e){if(e.length<1)return;let t=parseInt(e[0]);this.objects.length<=t||this.objects[t].isDone||(this.objects[t].isDone=!0,this.updateProofStatus())},LevelsController1.prototype.onClickOption=function(e){let t=e[0];0===this.objects.length&&(this.isProofSeen=!0),this.isProofSeen?t===this.correctOption||this.completeAfterAllRevealed?this.onCorrectOption():this.app.fire(this.app.events.gameplayMenu.message.optionResult,!1):this.app.fire(this.app.events.gameplayMenu.message.showProof)},LevelsController1.prototype.loadLevel=function(){this.currentLevelLoaded=AssetLoadManager.Instance.isLoaded(LevelsManager.Instance.currentLevel+1),this.currentLevelLoaded||(this.app.fire(this.app.events.loadingMenu.setLabel,"Level"+(LevelsManager.Instance.currentLevel+1)),this.app.fire(this.app.events.loadingMenu.enablLoading,["0"]),AssetLoadManager.Instance.startLoadingAssets())},LevelsController1.prototype.onLevelLoaded=function(){!1===this.currentLevelLoaded&&this.app.fire(this.app.events.loadingMenu.enablLoading,["1"])},LevelsController1.prototype.onCorrectOption=function(){this.app.fire(this.app.events.gameplayMenu.message.optionResult,!0,function(){this.app.fire(this.app.events.facebook.ads.show,AdsManager.Type.Interstitial,function(){SoundManager.Instance.musicCheck(!1)}.bind(this)),MenuManager.Instance.changeState(MenuManager.States.Complementary)}.bind(this))},LevelsController1.prototype.logEvent=function(e,t){};var ComplimentaryMenuEventListener=pc.createScript("complimentaryMenuEventListener");ComplimentaryMenuEventListener.attributes.add("nonRewardedPopup",{type:"entity"}),ComplimentaryMenuEventListener.attributes.add("debugTest0",{type:"entity"}),ComplimentaryMenuEventListener.attributes.add("continueTxt",{type:"entity"}),ComplimentaryMenuEventListener.attributes.add("refs",{type:"json",title:"References",schema:[{name:"reference",type:"entity"}],array:!0}),ComplimentaryMenuEventListener.States={Simple:0,Gift:1},ComplimentaryMenuEventListener.prototype.initialize=function(){ComplimentaryMenuEventListener.Instance=this,this.state=ComplimentaryMenuEventListener.States.Simple,this.buttons={claim:this.refs[0].reference,nextLvl:this.refs[1].reference,noAds:this.refs[2].reference,noThanks:this.refs[3].reference,openGift:this.refs[8].reference,inviteBtn:this.refs[13].reference},this.references={quoteTxt:this.refs[4].reference,reactionGroup:this.refs[5].reference,prodigyFill:this.refs[6].reference,prodigyProgress:this.refs[7].reference,brainPointsTxt:this.refs[12].reference},this.particles={yellow:this.refs[9].reference,blue:this.refs[10].reference,red:this.refs[11].reference},this.onEnable(),this.on("enable",this.onEnable,this),this.app.on(this.app.events.complimentaryMenu.button,this.onClickButton,this),this.app.on(this.app.events.complimentaryMenu.setState,this.changeState,this)},ComplimentaryMenuEventListener.prototype.onEnable=function(){this.references.reactionGroup.enabled=!0,this.manageQoute(),this.manageProdigyPercentage(),this.manageState(),this.manageConfetti(),this.setBrainPoints(EconomyManager.Instance.brainPoints)},ComplimentaryMenuEventListener.prototype.update=function(e){},ComplimentaryMenuEventListener.prototype.setBrainPoints=function(e){this.references.brainPointsTxt.element.text=e},ComplimentaryMenuEventListener.prototype.changeState=function(e){this.state=e,this.manageState()},ComplimentaryMenuEventListener.prototype.inviteFriends=function(){console.log("In Invite Btn Function")},ComplimentaryMenuEventListener.prototype.manageState=function(){SoundManager.Instance.shotSFX("LevelComplete");let e=this.state===ComplimentaryMenuEventListener.States.Simple,t=this.state===ComplimentaryMenuEventListener.States.Gift;console.log("Buttons should  = "+t+" "+e),this.buttons.openGift.enabled=t,this.buttons.noThanks.enabled=t,this.buttons.openGift.element.useInput=!0,this.buttons.claim.element.useInput=!0,this.buttons.openGift.button.active=!0,this.buttons.claim.button.active=!0,this.buttons.claim.enabled=e,this.buttons.noAds.enabled=e,this.buttons.nextLvl.enabled=e,this.buttons.noAds.button.active=!EconomyManager.Instance.noAds,this.buttons.noAds.element.useInput=!EconomyManager.Instance.noAds,e?(this.buttons.noAds.setLocalScale(0,0,0),this.buttons.nextLvl.setLocalScale(0,0,0),TweenWrapper.Tween(this.buttons.noAds,this.buttons.noAds.getLocalScale(),pc.Vec3.ONE,.3),TweenWrapper.Tween(this.buttons.nextLvl,this.buttons.nextLvl.getLocalScale(),pc.Vec3.ONE,.3)):t&&(this.buttons.noThanks.setLocalScale(0,0,0),TweenWrapper.Tween(this.buttons.noThanks,this.buttons.noThanks.getLocalScale(),pc.Vec3.ONE,.3),this.continueTxt.setLocalScale(0,0,0),TweenWrapper.Tween(this.continueTxt,this.continueTxt.getLocalScale(),pc.Vec3.ONE,.3))},ComplimentaryMenuEventListener.prototype.manageQoute=function(){let e=LevelsManager.Instance.currentLevel;var t="";try{t=SettingsMenuEventListener.Instance.language}catch{t="russian"}switch(t){case"english":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.Levels,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"turkish":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsTurk,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"dutch":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsDutch,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"filipino":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsFilipino,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"french":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsFrench,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"german":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsGerman,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"greek":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsGreek,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"hungarian":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsHungarian,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"indonesian":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsIndonesian,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"italian":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsItalian,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"malay":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsMalay,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"polish":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsPolish,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"portugueseBrazil":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsPortugueseBrazil,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"romanian":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsRomanian,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"serbian":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsSerbian,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"spanish":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsSpanish,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"vietnamese":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsVietnamese,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.vietnamese;break;case"russian":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsRussian,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.comicBD;break;case"arabic":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsArabic,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.aRURHE;break;case"hebrew":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsHebrew,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.aRURHE;break;case"hindi":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsHindi,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.hindi;break;case"japanese":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsJapanese,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.japanees;break;case"korean":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsKorean,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.korean;break;case"taiwanese":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsTaiwanese,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.taiwanese;break;case"thai":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsThai,e,DataManager.LevelsDB_Model.Compliment),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.thai;break;case"urdu":this.references.quoteTxt.element.text=DataManager.Instance.getData(DataManager.DatabaseTypes.LevelsUrdu,e,DataManager.LevelsDB_Model.Compliment),console.log(this.references.quoteTxt.element.text),this.references.quoteTxt.element.fontAsset=FontChanger.Instance.aRURHE}},ComplimentaryMenuEventListener.prototype.manageProdigyPercentage=function(){let e=LevelsManager.Instance.currentLevel,t=e,a=e,n=0;this.app.fire(this.app.events.levelsManager.saveLevels,e+2,!0);let s=DataManager.Instance.getData(DataManager.DatabaseTypes.Levels,e,DataManager.LevelsDB_Model.CharacterIndex);for(let a=e-1;a>-1;a--){DataManager.Instance.getData(DataManager.DatabaseTypes.Levels,a,DataManager.LevelsDB_Model.CharacterIndex)===s&&(t=a)}for(let t=e+1;t<DataManager.Instance.getDataLength(DataManager.DatabaseTypes.Levels);t++){if(DataManager.Instance.getData(DataManager.DatabaseTypes.Levels,t,DataManager.LevelsDB_Model.CharacterIndex)!==s)break;a=t}n=a-t+1;let r=(e+1-t)/n;this.references.prodigyFill.setLocalScale(r,1,1),this.references.prodigyProgress.element.text=(100*r).toFixed(0)+"%",this.state=100*r>=100?ComplimentaryMenuEventListener.States.Gift:ComplimentaryMenuEventListener.States.Simple},ComplimentaryMenuEventListener.prototype.manageConfetti=function(){this.particles.yellow.particlesystem.reset(),this.particles.blue.particlesystem.reset(),this.particles.red.particlesystem.reset(),this.particles.yellow.enabled=!0,this.particles.blue.enabled=!0,this.particles.red.enabled=!0,CustomCoroutine.Instance.set(function(){this.particles.yellow.enabled=!1,this.particles.blue.enabled=!1,this.particles.red.enabled=!1}.bind(this),4)},ComplimentaryMenuEventListener.prototype.onClickButton=function(e){switch(SoundManager.Instance.shotSFX("ClickSound"),e[0]){case"Like":case"Dislike":this.references.reactionGroup.enabled=!1;break;case"Claim":this.buttons.openGift.element.useInput=!1,this.buttons.openGift.button.active=!1,this.buttons.claim.element.useInput=!1,this.buttons.claim.button.active=!1,this.app.fire(this.app.events.facebook.ads.show,AdsManager.Type.Rewarded,function(e){Timer.Instance.beginTimer(),this.buttons.claim.element.useInput=!1,console.log("Reward given"),this.manageBrainPoints(-75,!0),SoundManager.Instance.musicCheck(!1)}.bind(this));break;case"Gift":this.buttons.openGift.element.useInput=!1,this.buttons.openGift.button.active=!1,this.buttons.claim.element.useInput=!1,this.buttons.claim.button.active=!1,this.app.fire(this.app.events.facebook.ads.show,AdsManager.Type.Rewarded,function(e){this.buttons.noThanks.enabled=!1,this.continueTxt.enabled=!0,Timer.Instance.beginTimer(),this.buttons.claim.element.useInput=!1,console.log("Reward given"),SoundManager.Instance.shotSFX("GiftOpen"),this.manageBrainPoints(-75,!0),SoundManager.Instance.musicCheck(!1)}.bind(this));break;case"No Ads":case"BarinPoints":MenuManager.Instance.changeState(MenuManager.States.Shop);break;case"Next":case"No Thanks":SoundManager.Instance.stopSFX("LevelComplete"),LevelsManager.Instance.isLevelCompleted=!0,MenuManager.Instance.changeState(MenuManager.States.Main);break;case"Invite":console.log("Invite Btn Clicked"),this.inviteFriends()}},ComplimentaryMenuEventListener.prototype.manageBrainPoints=function(e,t){let a=EconomyManager.Instance.brainPoints;return!(!t&&a<e)&&(a-=e,this.app.fire(this.app.events.economyManager.setBrainPoints,a,!0),this.setBrainPoints(a),!0)};var CustomCoroutine=pc.createScript("customCoroutine");CustomCoroutine.prototype.initialize=function(){CustomCoroutine.Instance=this,this.coroutines=[],this.id=0,this.abandonAll=!1},CustomCoroutine.prototype.update=function(t){this.coroutineTick(t)},CustomCoroutine.prototype.set=function(t,o){return this.coroutines.push({func:t,delay:o,timer:0,id:this.getId(),abandoned:!1}),this.coroutines[this.coroutines.length-1].id},CustomCoroutine.prototype.coroutineTick=function(t){for(let o=0;o<this.coroutines.length;o++)this.coroutines[o].timer+=t,(this.coroutines[o].timer>=this.coroutines[o].delay||this.coroutines[o].abandoned)&&(this.coroutines[o].abandoned||this.coroutines[o].func(),this.coroutines.splice(o,1),o--);this.implementClear()},CustomCoroutine.prototype.stop=function(t){let o=this.findRoutine(t);-1!=o&&(this.coroutines[o].abandoned=!0)},CustomCoroutine.prototype.stopAll=function(){this.abandonAll=!0},CustomCoroutine.prototype.implementClear=function(){this.abandonAll&&(this.abandonAll=!1,this.coroutines=[])},CustomCoroutine.prototype.findRoutine=function(t){for(let o=0;o<this.coroutines.length;o++)if(this.coroutines[o].id==t)return o;return-1},CustomCoroutine.prototype.getId=function(){return this.id++,this.id>1e3&&(this.id=0),this.id};var ObjectRevealer=pc.createScript("objectRevealer");ObjectRevealer.prototype.initialize=function(){},ObjectRevealer.prototype.update=function(e){};var ObjectHandler=pc.createScript("objectHandler");ObjectHandler.attributes.add("ID",{type:"number",default:-1}),ObjectHandler.attributes.add("ID_Arg",{type:"number",default:0}),ObjectHandler.attributes.add("ActivateArg",{type:"number",default:1}),ObjectHandler.attributes.add("eventToListen",{type:"string"}),ObjectHandler.attributes.add("animationSettings",{type:"json",title:"Animation Settings",schema:[{name:"type",type:"number",enum:[{fade:0},{ScaleOutIn:1},{None:2},{LeftRight:3}],default:0},{name:"duration",type:"number"},{name:"animValue",type:"vec3",default:[0,1,1],description:"x: min animValue | y: base animValue | z: max animValue"},{name:"delegate",type:"entity",description:"If no delegate is given, entity having this script will be animated. Otherwise delegate will be animated."}]}),ObjectHandler.prototype.initialize=function(){this.app.on(this.eventToListen,this.onEventFired,this),this.on("destroy",(function(){this.app.off(this.eventToListen,this.onEventFired,this)}),this)},ObjectHandler.prototype.update=function(e){},ObjectHandler.prototype.onEventFired=function(e){this.ID==e[this.ID_Arg]&&(this.animationSettings.delegate.enabled="Reveal"==e[this.ActivateArg])};var UISlider=pc.createScript("uiSlider");UISlider.attributes.add("handle",{type:"entity",default:null,title:"Handle"}),UISlider.attributes.add("axis",{type:"string",default:"xy",title:"Axis",description:"lock drag to axis: x, y or xy"}),UISlider.attributes.add("onDragStart",{type:"json",title:"On Drag Start",schema:[{title:"Event Name",name:"eventName",type:"string"},{name:"sendAsSeperateArgs",title:"Send As Params",type:"boolean"},{title:"Arguments",name:"args",type:"string",array:!0}]}),UISlider.attributes.add("onDragEnd",{type:"json",title:"On Drag End",schema:[{title:"Event Name",name:"eventName",type:"string"},{name:"sendAsSeperateArgs",title:"Send As Params",type:"boolean"},{title:"Arguments",name:"args",type:"string",array:!0}]}),UISlider.prototype.postInitialize=function(){this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",this.onDisable,this),this.on("destroy",this.onDisable,this)},UISlider.prototype.onEnable=function(){this.initialized||(this.initialized=!0,this.handle||(this.handle=this.entity.parent.findByName("UISliderHandle")),this.handle||(this.handle=this.entity),this.addHandleListeners(),this.isOnMe=!1,this.isDragging=!1,this.touchId=-1,this.mousePos=new pc.Vec3,this.anchorPos=this.handle.getLocalPosition().clone(),this.screen=this.getUIScreenComponent())},UISlider.prototype.onDisable=function(){this.initialized&&(this.initialized=!1,this.handle.element.off(pc.EVENT_MOUSEDOWN,this.onPressDown,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onPressUp,this),this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onPressMove,this),this.app.touch&&(this.handle.element.off(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.app.touch.off(pc.EVENT_TOUCHEND,this.onTouchEnd,this),this.app.touch.off(pc.EVENT_TOUCHCANCEL,this.onTouchEnd,this),this.app.touch.off(pc.EVENT_TOUCHMOVE,this.onTouchMove,this)))},UISlider.prototype.getUIScreenComponent=function(){if(this.handle&&this.handle.element&&this.handle.element.screen)return this.handle.element.screen.screen},UISlider.prototype.addHandleListeners=function(){this.handle.element.on(pc.EVENT_MOUSEDOWN,this.onPressDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onPressUp,this),this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onPressMove,this),this.app.touch&&(this.handle.element.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.app.touch.on(pc.EVENT_TOUCHEND,this.onTouchEnd,this),this.app.touch.on(pc.EVENT_TOUCHCANCEL,this.onTouchEnd,this),this.app.touch.on(pc.EVENT_TOUCHMOVE,this.onTouchMove,this))},UISlider.prototype.onTouchStart=function(t){var e=t.changedTouches[0];this.touchId=e.identifier,this.startDrag(t.x,t.y),t.event.stopPropagation()},UISlider.prototype.onTouchMove=function(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e];if(i.id==this.touchId)return t.event.stopPropagation(),void this.updateMove(i.x,i.y)}},UISlider.prototype.onTouchEnd=function(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e];if(i.id==this.touchId)return t.event.stopImmediatePropagation(),this.touchId=-1,void this.endDrag(i.x,i.y)}},UISlider.prototype.onPressDown=function(t){t.event.stopImmediatePropagation(),this.startDrag(t.x,t.y)},UISlider.prototype.onPressUp=function(t){t.event.stopImmediatePropagation(),this.endDrag(t.x,t.y)},UISlider.prototype.onPressMove=function(t){this.updateMove(t.x,t.y),t.event.stopImmediatePropagation()},UISlider.prototype.startDrag=function(t,e){this.isDragging=!0,this.setMouseXY(t,e),this.raiseEvent(this.onDragStart.eventName,this.onDragStart.args,this.onDragStart.sendAsSeperateArgs)},UISlider.prototype.updateMove=function(t,e){this.isDragging&&this.setMouseXY(t,e)},UISlider.prototype.endDrag=function(t,e){this.isDragging&&(this.isDragging=!1,this.setMouseXY(t,e),this.raiseEvent(this.onDragEnd.eventName,this.onDragEnd.args,this.onDragEnd.sendAsSeperateArgs))},UISlider.prototype.setMouseXY=function(t,e){this.mousePos.x=t,this.mousePos.y=e},UISlider.prototype.update=function(t){this.updateDrag()},UISlider.prototype.updateDrag=function(){if(this.isDragging&&this.entity.element.useInput){var t=this.app.graphicsDevice,e=this.app.graphicsDevice.maxPixelRatio,i=this.handle.element.anchor.x*t.width/e,s=this.handle.element.anchor.y*t.height/e,n=1/this.screen.scale*e,o="x"==this.axis||"xy"==this.axis?(this.mousePos.x-i)*n:this.anchorPos.x,h="y"==this.axis||"xy"==this.axis?(-this.mousePos.y+s)*n:this.anchorPos.y;this.handle.setLocalPosition(o,h,0)}},UISlider.prototype.raiseEvent=function(t,e,i){t.length<1||!this.entity.element.useInput||(i?this.app.fire(t,...e):this.app.fire(t,e))};var DragEvent=pc.createScript("dragEvent");DragEvent.attributes.add("captureCount",{title:"Capture Count",type:"number",default:-1}),DragEvent.attributes.add("away",{title:"Away",type:"boolean"}),DragEvent.attributes.add("global",{title:"Global Space",type:"boolean"}),DragEvent.attributes.add("target",{title:"Target",type:"entity"}),DragEvent.attributes.add("minDistance",{title:"Minimum Distance",type:"number"}),DragEvent.attributes.add("eventName",{title:"Event To Raise",type:"string"}),DragEvent.attributes.add("uiSlider",{title:"UI Slider",type:"entity"}),DragEvent.attributes.add("args",{type:"json",title:"Arguments",schema:[{name:"value",type:"string"}],array:!0}),DragEvent.attributes.add("objsActiveState",{type:"json",title:"Entities To Manage",schema:[{title:"Enabled",name:"setActive",type:"boolean",default:!0},{title:"Entity",name:"obj",type:"entity"}],array:!0}),DragEvent.prototype.initialize=function(){this.capturedCount=0,this.onEnable(),this.on("enable",this.onEnable,this)},DragEvent.prototype.onEnable=function(){this.capturedCount=0,this.currentCaptureID=0,this.entity.element&&(this.entity.element.enabled=!0)},DragEvent.prototype.update=function(t){if(!this.target)return;if(!(null===this.uiSlider?this.entity.script.uiSlider:this.uiSlider.script.uiSlider).isDragging)return;let e=this.global?this.entity.getPosition():this.entity.getLocalPosition(),i=this.global?this.target.getPosition():this.target.getLocalPosition(),a=this.away?e.distance(i)>=this.minDistance:e.distance(i)<=this.minDistance;if(a&&this.checkCaptureSettings()){this.capturedCount++,this.raiseEvent();for(let t=0;t<this.objsActiveState.length;t++)this.objsActiveState[t].obj.enabled=this.objsActiveState[t].setActive}else a||this.currentCaptureID===this.capturedCount||(this.currentCaptureID=this.capturedCount)},DragEvent.prototype.raiseEvent=function(){if(this.eventName.length<1)return;let t=[];for(let e=0;e<this.args.length;e++)t.push(this.args[e].value);this.app.fire(this.eventName,t)},DragEvent.prototype.checkCaptureSettings=function(){let t=this.capturedCount<this.captureCount||-1===this.captureCount;return this.currentCaptureID===this.capturedCount&&t};var OpenNext=pc.createScript("openNext");OpenNext.attributes.add("eventName",{type:"string",default:"EnableTarget"}),OpenNext.attributes.add("closeSeltargetf",{type:"boolean"}),OpenNext.attributes.add("enableTarget",{type:"boolean"}),OpenNext.attributes.add("target",{type:"entity"}),OpenNext.prototype.initialize=function(){this.app.on("OpenNext:Button",this.onClickButton,this)},OpenNext.prototype.onClickButton=function(){this.toOpen&&(this.target.enabled=this.enableTarget),this.closeSelf&&(this.entity.enabled=!1)};var EnableTarget=pc.createScript("enableTarget");EnableTarget.attributes.add("closeSelf",{title:"Close Self",type:"boolean"}),EnableTarget.attributes.add("eventName",{title:"Event to Listen",type:"string",default:"EnableTarget:Button"}),EnableTarget.attributes.add("targets",{type:"json",title:"Entites",schema:[{title:"Filtering Arguments",name:"args",type:"string",array:!0},{title:"Detecting Count",name:"detectCount",type:"number",default:-1,description:"-1 means infinite detection"},{title:"Animation Type",name:"animation",type:"number",enum:[{None:0},{FadeInOut:1},{ScaleInOut:2}],default:0},{title:"Anim Duration",name:"duration",type:"number"},{title:"Anim Values",name:"animValues",type:"vec2",description:"x = starting value | y = ending value"},{title:"On Anim Completed",name:"onAnimCompleted",type:"string"},{title:"Send as params",name:"sendAsParams",type:"boolean"},{title:"Anim Completed Args",name:"animArgs",type:"string",array:!0},{title:"Enabled",name:"setActive",type:"boolean"},{title:"Use Input",name:"useInput",type:"boolean",default:!0},{title:"Entity",name:"obj",type:"entity"}],array:!0}),EnableTarget.Animations={None:0,FadeInOut:1,ScaleInOut:2},EnableTarget.prototype.initialize=function(){this.cache={vec1:new pc.Vec3,vec2:new pc.Vec3},this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",this.onDisable,this),this.on("destroy",this.onDisable,this)},EnableTarget.prototype.onEnable=function(){if(!this.initialized){this.initialized=!0,this.app.on(this.eventName,this.onClickButton,this),this.captureCount=[];for(let t=0;t<this.targets.length;t++)this.captureCount.push(0)}},EnableTarget.prototype.onDisable=function(){this.initialized&&(this.initialized=!1,this.app.off(this.eventName,this.onClickButton,this))},EnableTarget.prototype.onClickButton=function(t){for(let e=0;e<this.targets.length;e++)this.isCaptureLimitReached(e)||this.inValidArgs(e,t)||(this.captureCount[e]++,this.setEntity(this.targets[e].obj,this.targets[e].setActive,this.targets[e].useInput,{type:this.targets[e].animation,duration:this.targets[e].duration,onComplete:this.targets[e].onAnimCompleted,args:this.targets[e].animArgs,sendAsParams:this.targets[e].sendAsParams,animValues:{start:this.targets[e].animValues.x,end:this.targets[e].animValues.y}}));this.closeSelf&&(this.entity.enabled=!1)},EnableTarget.prototype.inValidArgs=function(t,e){if(this.targets[t].args.length>0)for(let n=0;n<this.targets[t].args.length;n++)if(e.length>n&&this.targets[t].args[n]!==e[n])return!0;return!1},EnableTarget.prototype.setEntity=function(t,e,n,a){this.manageAnim(t,e,a),t.element&&(t.element.useInput=n)},EnableTarget.prototype.manageAnim=function(t,e,n){e&&(t.enabled=!0);let a=n.animValues.start,i=n.animValues.end,s=function(){this.raiseEvent(n.onComplete,n.args,n.sendAsParams),e||(t.enabled=!1)}.bind(this);switch(n.type){case EnableTarget.Animations.FadeInOut:t.element.opacity=e?a:i,TweenWrapper.TweenOpacity(t.element,e?a:i,e?i:a,n.duration,s);break;case EnableTarget.Animations.ScaleInOut:e?(t.setLocalScale(a,a,a),this.cache.vec1.set(i,i,i)):(t.setLocalScale(i,i,i),this.cache.vec1.set(a,a,a)),TweenWrapper.Tween(t,t.getLocalScale(),this.cache.vec1,n.duration,s);break;default:e||(t.enabled=!1)}},EnableTarget.prototype.isCaptureLimitReached=function(t){return!(this.captureCount[t]<this.targets[t].detectCount||-1===this.targets[t].detectCount)},EnableTarget.prototype.raiseEvent=function(t,e,n){t.length<1||(n?this.app.fire(t,...e):this.app.fire(t,e))};var MultiTargetDragEvent=pc.createScript("multiTargetDragEvent");MultiTargetDragEvent.attributes.add("uiSlider",{title:"UI Slider",type:"entity"}),MultiTargetDragEvent.attributes.add("targets",{type:"json",title:"Targets",schema:[{title:"Capture Count",name:"captureCount",type:"number",default:1},{title:"Target",name:"target",type:"entity"},{title:"Global Space",name:"isGlobalSpace",type:"boolean"},{title:"Minimum Distance",name:"minDistance",type:"number",default:70},{title:"Event Name",name:"eventName",type:"string",default:"LevelsController:Btn:Object"},{title:"Arguments",name:"args",type:"string",array:!0},{title:"Enabled States",name:"setObjsActive",type:"boolean",array:!0},{title:"Use Input States",name:"useObjsInput",type:"boolean",array:!0},{title:"Entites",name:"objs",type:"entity",array:!0}],array:!0}),MultiTargetDragEvent.prototype.initialize=function(){this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",this.onDisable,this),this.on("destroy",this.onDisable,this)},MultiTargetDragEvent.prototype.onEnable=function(){if(!this.initialized){this.initialized=!0,this.captureCount=[],this.currentCaptureID=[];for(let t=0;t<this.targets.length;t++)this.captureCount.push(0),this.currentCaptureID.push(0)}},MultiTargetDragEvent.prototype.onDisable=function(){this.initialized&&(this.initialized=!1)},MultiTargetDragEvent.prototype.update=function(t){if((null===this.uiSlider?this.entity.script.uiSlider:this.uiSlider.script.uiSlider).isDragging)for(let t=0;t<this.targets.length;t++)this.targets[t].target&&this.manageTarget(t)},MultiTargetDragEvent.prototype.manageTarget=function(t){let e=this.targets[t].isGlobalSpace?this.entity.getPosition():this.entity.getLocalPosition(),i=this.targets[t].isGlobalSpace?this.targets[t].target.getPosition():this.targets[t].target.getLocalPosition(),s=e.distance(i);if(s<=this.targets[t].minDistance&&this.checkCaptureSettings(t)){this.captureCount[t]++,this.raiseEvent(t);for(let e=0;e<this.targets[t].objs.length;e++)this.targets[t].objs[e].enabled=this.targets[t].setObjsActive[e],e<this.targets[t].useObjsInput.length&&(this.targets[t].objs[e].element.useInput=this.targets[t].useObjsInput[e])}else s>this.targets[t].minDistance&&(this.currentCaptureID[t]=this.captureCount[t])},MultiTargetDragEvent.prototype.checkCondition=function(t){let e=this.targets[t].isGlobalSpace?this.entity.getPosition():this.entity.getLocalPosition(),i=this.targets[t].isGlobalSpace?this.targets[t].target.getPosition():this.targets[t].target.getLocalPosition();if(this.targets[t].useDifference){let s=i.x-e.x,a=i.y-e.y,n=i.z-e.z,r=0===this.targets[t].minDifference.x||(this.targets[t].minDifference.x<0?s<this.targets[t].minDifference.x:s>this.targets[t].minDifference.x),g=0===this.targets[t].minDifference.y||(this.targets[t].minDifference.y<0?a<this.targets[t].minDifference.y:a>this.targets[t].minDifference.y),o=0===this.targets[t].minDifference.z||(this.targets[t].minDifference.z<0?n<this.targets[t].minDifference.z:n>this.targets[t].minDifference.z);return r&&g&&o}return e.distance(i)<=this.targets[t].minDistance},MultiTargetDragEvent.prototype.checkCaptureSettings=function(t){let e=this.captureCount[t]<this.targets[t].captureCount||-1===this.targets[t].captureCount;return this.currentCaptureID[t]===this.captureCount[t]&&e},MultiTargetDragEvent.prototype.raiseEvent=function(t){this.targets[t].eventName.length<1||this.app.fire(this.targets[t].eventName,this.targets[t].args)};var CameraFlashHandler=pc.createScript("cameraFlashHandler");CameraFlashHandler.attributes.add("flashObj",{type:"entity"}),CameraFlashHandler.attributes.add("eventToListen",{type:"string"}),CameraFlashHandler.attributes.add("eventToFire",{type:"string"}),CameraFlashHandler.attributes.add("correctObjID",{type:"string"}),CameraFlashHandler.attributes.add("correctOption",{type:"string"}),CameraFlashHandler.prototype.initialize=function(){this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",this.onDisable,this),this.on("destroy",this.onDisable,this)},CameraFlashHandler.prototype.onEnable=function(){this.initialized||(this.initialized=!0,this.app.on(this.eventToListen,this.onEventRecieved,this))},CameraFlashHandler.prototype.onDisable=function(){this.initialized&&(this.initialized=!1,this.app.off(this.eventToListen,this.onEventRecieved,this))},CameraFlashHandler.prototype.update=function(e){},CameraFlashHandler.prototype.onEventRecieved=function(e){void 0!==this.flashTween&&(TweenWrapper.StopTween(this.flashTween),this.flashTween=void 0),void 0!==this.flashRoutine&&(CustomCoroutine.Instance.stop(this.flashRoutine),this.flashRoutine=void 0);let t=function(e){this.flashObj.element.opacity=e.number}.bind(this);this.flashObj.enabled=!0,this.flashObj.element.opacity=0,this.flashTween=TweenWrapper.TweenNumber(this.flashObj.element.opacity,1,.15,t,function(){this.flashTween=void 0,this.flashRoutine=CustomCoroutine.Instance.set(function(){this.flashTween=TweenWrapper.TweenNumber(this.flashObj.element.opacity,0,.15,t,function(){this.flashTween=void 0,this.flashRoutine=CustomCoroutine.Instance.set(function(){this.raiseEvent(e)}.bind(this),.25),this.flashObj.enabled=!1}.bind(this))}.bind(this),.25)}.bind(this))},CameraFlashHandler.prototype.raiseEvent=function(e){e[0]==this.correctObjID&&this.app.fire(this.eventToFire,[this.correctOption])};var SwipeEvent=pc.createScript("swipeEvent");SwipeEvent.attributes.add("minimumSwipeDistance",{title:"Minimum Swipe Distance",type:"vec2"}),SwipeEvent.attributes.add("useAny",{title:"Use Any",type:"boolean"}),SwipeEvent.attributes.add("eventName",{title:"Event Name",type:"string"}),SwipeEvent.attributes.add("args",{type:"json",title:"Arguments",schema:[{name:"value",type:"string"}],array:!0}),SwipeEvent.attributes.add("objsActiveState",{type:"json",title:"Entites",schema:[{title:"Enabled",name:"setActive",type:"boolean",default:!0},{title:"Use Input",name:"useInput",type:"boolean",default:!0},{title:"Entity",name:"obj",type:"entity"}],array:!0}),SwipeEvent.prototype.initialize=function(){this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",this.onDisable,this),this.on("destroy",this.onDisable,this)},SwipeEvent.prototype.onEnable=function(){this.initialized||(this.initialized=!0,this.handle=this.entity,this.addHandleListeners(),this.touchId=-1,this.mousePos=new pc.Vec3,this.screen=this.getUIScreenComponent(),this.isCaptured=!1,this.isOnMe=!1,this.isCaptured=!1,this.isOnMe=!1)},SwipeEvent.prototype.onDisable=function(){this.initialized&&(this.initialized=!1,this.handle.element.off(pc.EVENT_MOUSEDOWN,this.onPressDown,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onPressUp,this),this.app.touch&&(this.handle.element.off(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.app.touch.off(pc.EVENT_TOUCHEND,this.onTouchEnd,this),this.app.touch.off(pc.EVENT_TOUCHCANCEL,this.onTouchEnd,this)))},SwipeEvent.prototype.getUIScreenComponent=function(){return this.handle.element.screen.screen},SwipeEvent.prototype.addHandleListeners=function(){this.handle.element.on(pc.EVENT_MOUSEDOWN,this.onPressDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onPressUp,this),this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onPressMove,this),this.app.touch&&(this.handle.element.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.app.touch.on(pc.EVENT_TOUCHEND,this.onTouchEnd,this),this.app.touch.on(pc.EVENT_TOUCHCANCEL,this.onTouchEnd,this))},SwipeEvent.prototype.onTouchStart=function(t){var e=t.changedTouches[0];this.touchId=e.identifier,this.startDrag(t.x,t.y),t.event.stopPropagation()},SwipeEvent.prototype.onTouchEnd=function(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e];if(i.id==this.touchId)return t.event.stopImmediatePropagation(),this.touchId=-1,void this.endDrag(i.x,i.y)}},SwipeEvent.prototype.onPressDown=function(t){t.event.stopImmediatePropagation(),this.startDrag(t.x,t.y)},SwipeEvent.prototype.onPressUp=function(t){t.event.stopImmediatePropagation(),this.endDrag(t.x,t.y)},SwipeEvent.prototype.startDrag=function(t,e){this.isOnMe=!0,this.setMouseXY(t,e)},SwipeEvent.prototype.endDrag=function(t,e){let i=Math.abs(t-this.mousePos.x),s=Math.abs(e-this.mousePos.y);this.isOnMe?this.manageSwipe(i,s):this.isOnMe=!1},SwipeEvent.prototype.setMouseXY=function(t,e){this.mousePos.x=t,this.mousePos.y=e},SwipeEvent.prototype.manageSwipe=function(t,e){if(this.entity.element.useInput&&(this.useAny?this.minimumSwipeDistance.x<t||this.minimumSwipeDistance.y<e:this.minimumSwipeDistance.x<t&&this.minimumSwipeDistance.y<e)){this.isCaptured=!0,this.raiseEvent();for(let t=0;t<this.objsActiveState.length;t++)this.objsActiveState[t].obj.enabled=this.objsActiveState[t].setActive,this.objsActiveState[t].obj.element.useInput=this.objsActiveState[t].useInput}},SwipeEvent.prototype.raiseEvent=function(){let t=[];for(let e=0;e<this.args.length;e++)t.push(this.args[e].value);this.app.fire(this.eventName,t)};var PinchZoomEvent=pc.createScript("pinchZoomEvent");PinchZoomEvent.attributes.add("minScale",{type:"number"}),PinchZoomEvent.attributes.add("maxScale",{type:"number"}),PinchZoomEvent.attributes.add("magnifier",{type:"number"}),PinchZoomEvent.attributes.add("eventName",{type:"string"}),PinchZoomEvent.attributes.add("args",{type:"json",title:"Arguments",schema:[{name:"value",type:"string"}],array:!0}),PinchZoomEvent.attributes.add("objsActiveState",{type:"json",schema:[{name:"setActive",type:"boolean",default:!0},{name:"useInput",type:"boolean",default:!0},{name:"obj",type:"entity"}],array:!0}),PinchZoomEvent.prototype.initialize=function(){this.handle=this.entity,this.addHandleListeners(),this.touchId=-1,this.touches=[],this.mousePos=new pc.Vec3,this.screen=this.getUIScreenComponent(),this.isCaptured=!1,this.isOnMe=!1,this.onEnable(),this.on("enable",this.onEnable,this)},PinchZoomEvent.prototype.onEnable=function(){this.isCaptured=!1,this.isOnMe=!1},PinchZoomEvent.prototype.getUIScreenComponent=function(){return this.handle.element.screen.screen},PinchZoomEvent.prototype.addHandleListeners=function(){this.cacheVec1=new pc.Vec2,this.cacheVec2=new pc.Vec2,this.handle.element.on(pc.EVENT_MOUSEDOWN,this.onPressDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onPressUp,this),this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onPressMove,this),this.app.touch&&(this.handle.element.on(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.app.touch.on(pc.EVENT_TOUCHEND,this.onTouchEnd,this),this.app.touch.on(pc.EVENT_TOUCHCANCEL,this.onTouchEnd,this),this.app.touch.on(pc.EVENT_TOUCHMOVE,this.onTouchMove,this)),this.on("destroy",(function(){this.handle.element.off(pc.EVENT_MOUSEDOWN,this.onPressDown,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onPressUp,this),this.app.touch&&(this.handle.element.off(pc.EVENT_TOUCHSTART,this.onTouchStart,this),this.app.touch.off(pc.EVENT_TOUCHEND,this.onTouchEnd,this),this.app.touch.off(pc.EVENT_TOUCHCANCEL,this.onTouchEnd,this),this.app.touch.off(pc.EVENT_TOUCHMOVE,this.onTouchMove,this))}))},PinchZoomEvent.prototype.onTouchStart=function(t){this.touches[t.changedTouches[0].identifier]=t.changedTouches[0],this.baseDistance=void 0,this.isOnMe=!0,t.event.stopPropagation()},PinchZoomEvent.prototype.onTouchMove=function(t){if(!(t.changedTouches.length<2)){for(let e=0;e<2;e++)for(let e=0;e<t.changedTouches.length;e++){let i=t.changedTouches[e];if(this.touches[i.id]=i,void 0!==this.touches[i.id]){let t=this.touches[0];void 0===t.x?this.cacheVec1.set(t.screenX,t.screenY):this.cacheVec1.set(t.x,t.y);let e=this.touches[1];void 0===e.x?this.cacheVec1.set(e.screenX,e.screenY):this.cacheVec1.set(e.x,e.y);let i=this.cacheVec1.distance(this.cacheVec2);void 0===this.baseDistance&&(this.baseDistance=i);let s=i-this.baseDistance,o=this.entity.getLocalScale().x+s*this.magnifier;o<this.minScale?o=this.minScale:o>this.maxScale&&(o=this.maxScale),this.entity.setLocalScale(o,o,o)}}t.event.stopPropagation()}},PinchZoomEvent.prototype.onTouchEnd=function(t){},PinchZoomEvent.prototype.onPressDown=function(t){t.event.stopImmediatePropagation(),this.startDrag(t.x,t.y)},PinchZoomEvent.prototype.onPressUp=function(t){t.event.stopImmediatePropagation(),this.endDrag(t.x,t.y)},PinchZoomEvent.prototype.startDrag=function(t,e){this.setMouseXY(t,e)},PinchZoomEvent.prototype.endDrag=function(t,e){Math.abs(t-this.mousePos.x),Math.abs(e-this.mousePos.y);this.isOnMe=!1},PinchZoomEvent.prototype.setMouseXY=function(t,e){this.mousePos.x=t,this.mousePos.y=e},PinchZoomEvent.prototype.manageSwipe=function(t,e){if(this.minimumSwipeDistance.x<t&&this.minimumSwipeDistance.y<e){this.isCaptured=!0,this.raiseEvent();for(let t=0;t<this.objsActiveState.length;t++)this.objsActiveState[t].obj.enabled=this.objsActiveState[t].setActive,this.objsActiveState[t].obj.element.useInput=this.objsActiveState[t].useInput}},PinchZoomEvent.prototype.raiseEvent=function(){let t=[];for(let e=0;e<this.args.length;e++)t.push(this.args[e].value);this.app.fire(this.eventName,t)};var OnTasksCompleteHandler=pc.createScript("onTasksCompleteHandler");OnTasksCompleteHandler.attributes.add("notifyCount",{type:"number",default:1}),OnTasksCompleteHandler.attributes.add("allTasksDoneEvent",{type:"string"}),OnTasksCompleteHandler.attributes.add("args",{type:"json",title:"Arguments",schema:[{name:"value",type:"string"}],array:!0}),OnTasksCompleteHandler.attributes.add("tasks",{type:"json",title:"Tasks",schema:[{title:"Completed",name:"isCompleted",type:"boolean"},{title:"Complete Task Event",name:"eventName",type:"string",description:"If this event is raised task will be marked completed",default:"TaskCompleted"},{title:"Entities",name:"objs",type:"entity",array:!0},{title:"Enabled States",name:"setObjsActive",type:"boolean",array:!0},{title:"UseInput Values",name:"useObjsInput",type:"boolean",array:!0},{title:"UnComplete Task Event",name:"eventToUncomplete",type:"string",description:"If this event is raised task will be marked uncompleted"}],array:!0}),OnTasksCompleteHandler.prototype.initialize=function(){this.notifiedCount=0,this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("destroy",this.onDisable,this),this.on("disable",this.onDisable,this)},OnTasksCompleteHandler.prototype.onEnable=function(){if(!this.initialized){this.initialized=!0,this.notifiedCount=0;for(let t=0;t<this.tasks.length;t++)this.tasks[t].isCompleted=!1,this.tasks[t].eventName.length>0&&this.app.on(this.tasks[t].eventName,this.onCompleteEventRaised.bind(this,!0,t)),this.tasks[t].eventToUncomplete.length>0&&this.app.on(this.tasks[t].eventToUncomplete,this.onCompleteEventRaised.bind(this,!1,t))}},OnTasksCompleteHandler.prototype.onDisable=function(){if(this.initialized){this.initialized=!1;for(let t=0;t<this.tasks.length;t++)this.app.off(this.tasks[t].eventName,(function(t){}),this)}},OnTasksCompleteHandler.prototype.checkForCompletion=function(){for(let t=0;t<this.tasks.length;t++)if(!this.tasks[t].isCompleted)return;this.raiseEvent()},OnTasksCompleteHandler.prototype.onCompleteEventRaised=function(t,e){if(this.tasks[e].isCompleted=t,t){for(let t=0;t<this.tasks[e].objs.length;t++)t<this.tasks[e].setObjsActive.length&&(this.tasks[e].objs[t].enabled=this.tasks[e].setObjsActive[t]),t<this.tasks[e].useObjsInput.length&&(this.tasks[e].objs[t].element.useInput=this.tasks[e].useObjsInput[t]);(-1===this.notifyCount||this.notifiedCount<this.notifyCount)&&this.checkForCompletion()}},OnTasksCompleteHandler.prototype.raiseEvent=function(){let t=[];for(let e=0;e<this.args.length;e++)t.push(this.args[e].value);this.app.fire(this.allTasksDoneEvent,t),this.notifiedCount++};var PositionController=pc.createScript("positionController");PositionController.attributes.add("eventName",{title:"Event to Listen",type:"string",default:"PositionController:Set"}),PositionController.attributes.add("targets",{type:"json",title:"Entities",schema:[{title:"Filtering Arguments",name:"args",type:"string",array:!0},{title:"Detecting Count",name:"detectCount",type:"number",default:-1,description:"-1 means infinite detection"},{title:"Animation Type",name:"animation",type:"number",enum:[{None:0},{Linear:1},{Sine:2},{SineOut:3}],default:0},{title:"Anim Duration",name:"duration",type:"number"},{title:"On Anim Completed",name:"onAnimCompleted",type:"string"},{title:"Send as params",name:"sendAsParams",type:"boolean"},{title:"Arguments",name:"animArgs",type:"string",array:!0},{title:"Entity",name:"obj",type:"entity"},{title:"Space",name:"space",type:"number",enum:[{Local:1},{Global:2}],default:1},{title:"Position",name:"pos",type:"vec3",description:"If target is not given then this position vector will be used"},{title:"Target",name:"target",type:"entity",description:"Target entity will be used to set position if provided"}],array:!0}),PositionController.Animations={None:0},PositionController.prototype.initialize=function(){this.animationTypes=[pc.Linear,pc.SineIn,pc.SineOut],this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",(function(){this.eventName.length>0&&this.app.off(this.eventName,this.onEventRaised,this)}),this)},PositionController.prototype.onEnable=function(){this.eventName.length>0&&this.app.on(this.eventName,this.onEventRaised,this),this.captureCount=[];for(let t=0;t<this.targets.length;t++)this.captureCount.push(0)},PositionController.prototype.onEventRaised=function(t){for(let e=0;e<this.targets.length;e++)this.isCaptureLimitReached(e)||this.inValidArgs(e,t)||(this.captureCount[e]++,this.setPos(this.targets[e].obj,this.targets[e].space,this.targets[e].target,this.targets[e].pos,{type:this.targets[e].animation,duration:this.targets[e].duration,onComplete:this.targets[e].onAnimCompleted,args:this.targets[e].animArgs,sendAsParams:this.targets[e].sendAsParams}))},PositionController.prototype.setPos=function(t,e,i,n,o){let s,a=function(){this.raiseEvent(o.onComplete,o.args,o.sendAsParams)}.bind(this);null===i&&(s=n),e===this.app.space.local?(null!==i&&(s=i.getLocalPosition()),void 0!==o&&o.type!==PositionController.Animations.None?TweenWrapper.Tween(t,t.getLocalPosition(),s,o.duration,a,this.animationTypes[o.type-1]):t.setLocalPosition(s.x,s.y,s.z)):(null!==i&&(s=i.getPosition()),void 0!==o&&o.type!==PositionController.Animations.None?TweenWrapper.Tween(t,t.getPosition(),s,o.duration,a,this.animationTypes[o.type-1]):t.setPosition(s.x,s.y,s.z))},PositionController.prototype.raiseEvent=function(t,e,i){t.length<1||(i?this.app.fire(t,...e):this.app.fire(t,e))},PositionController.prototype.isCaptureLimitReached=function(t){return!(this.captureCount[t]<this.targets[t].detectCount||-1===this.targets[t].detectCount)},PositionController.prototype.inValidArgs=function(t,e){if(this.targets[t].args.length>0)for(let i=0;i<this.targets[t].args.length;i++)if(e.length>i&&this.targets[t].args[i]!==e[i])return!0;return!1};var EventHanlder1=pc.createScript("eventHanlder1");EventHanlder1.attributes.add("eventsToListen",{type:"string",array:!0}),EventHanlder1.attributes.add("eventsToRaise",{type:"json",title:"Events To Raise",schema:[{name:"listenedCount",type:"number",description:"Event will be raised when count of listened events reaches this"},{name:"raiseCount",type:"number",description:"Event will be raised if this many times",default:-1},{name:"eventName",type:"string"},{name:"args",type:"string",array:!0}],array:!0}),EventHanlder1.prototype.initialize=function(){this.listenedCount=0,this.isListened=[],this.raisedCounts=[];for(let t=0;t<this.eventsToListen.length;t++)this.app.on(this.eventsToListen[t],function(t){this.isListened[t]||this.listenedCount++,this.isListened[t]=!0;for(let t=0;t<this.eventsToRaise.length;t++)this.listenedCount==this.eventsToRaise[t].listenedCount&&(-1===this.eventsToRaise[t].raiseCount||this.raisedCounts[t]<this.eventsToRaise[t].raiseCount)&&(this.raiseEvent(t),this.raisedCounts[t]++)}.bind(this,t));this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("destroy",this.onDisable,this),this.on("disable",this.onDisable,this)},EventHanlder1.prototype.onEnable=function(){if(!this.initialized){this.initialized=!0,this.listenedCount=0,this.isListened=[],this.raisedCounts=[];for(let t=0;t<this.eventsToListen.length;t++)this.isListened[t]=!1,this.isListened.push(0),this.raisedCounts.push(0),this.app.on(this.eventsToListen[t],function(t){this.isListened[t]||this.listenedCount++,this.isListened[t]=!0;for(let t=0;t<this.eventsToRaise.length;t++)this.listenedCount==this.eventsToRaise[t].listenedCount&&(-1===this.eventsToRaise[t].raiseCount||this.raisedCounts[t]<=this.eventsToRaise[t].raiseCount)&&(this.raiseEvent(t),this.raisedCounts[t]++)}.bind(this,t));for(let t=0;t<this.eventsToRaise.length;t++)this.raisedCounts[0]=0}},EventHanlder1.prototype.onDisable=function(){if(this.initialized){this.initialized=!1;for(let t=0;t<this.eventsToListen.length;t++)this.app.off(this.eventsToListen[t],function(t){}.bind(this,t))}},EventHanlder1.prototype.raiseEvent=function(t){let e=[];for(let i=0;i<this.eventsToRaise[t].args.length;i++)e.push(this.eventsToRaise[t].args[i]);this.app.fire(this.eventsToRaise[t].eventName,e)};var SequencePositionNotifier=pc.createScript("sequencePositionNotifier");SequencePositionNotifier.attributes.add("sequenceCompletedEvent",{type:"string"}),SequencePositionNotifier.attributes.add("objects",{type:"json",title:"Objects",schema:[{title:"IDs",name:"ids",type:"number",array:!0},{title:"Entity",name:"obj",type:"entity"}],array:!0}),SequencePositionNotifier.prototype.initialize=function(){this.onEnable(),this.on("enable",this.onEnable,this),this.on("destroy",(function(){}),this)},SequencePositionNotifier.prototype.onEnable=function(){this.sequenceStatus=[];for(let e=0;e<this.sequence.length;e++)this.sequenceStatus.push(!1)};var SequenceHandler=pc.createScript("sequenceHandler");SequenceHandler.attributes.add("addEvent",{title:"Add Event",type:"string",default:"Sequence:Add",description:"Send index as first argument and value as second argument"}),SequenceHandler.attributes.add("clearEvent",{title:"Clear Event",type:"string",default:"Sequence:Clear"}),SequenceHandler.attributes.add("sequenceLength",{title:"Sequence Length",type:"number"}),SequenceHandler.attributes.add("sequenceCharacters",{title:"Sequence Characters",type:"string",array:!0}),SequenceHandler.attributes.add("onCorrect",{type:"json",title:"On Correct",schema:[{title:"Event Name",name:"eventName",type:"string",default:"LevelsController:Btn:Object"},{name:"sendAsSeperateArgs",title:"Send As Params",type:"boolean"},{title:"Arguments",name:"args",type:"string",array:!0}]}),SequenceHandler.attributes.add("onWrong",{type:"json",title:"On Wrong",schema:[{title:"Event Name",name:"eventName",type:"string"},{name:"sendAsSeperateArgs",title:"Send As Params",type:"boolean"},{title:"Arguments",name:"args",type:"string",array:!0}]}),SequenceHandler.attributes.add("onInComplete",{type:"json",title:"On Incomplete",schema:[{title:"Event Name",name:"eventName",type:"string"},{name:"sendAsSeperateArgs",title:"Send As Params",type:"boolean"},{title:"Arguments",name:"args",type:"string",array:!0}]}),SequenceHandler.prototype.initialize=function(){this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",this.onDisable,this),this.on("destroy",this.onDisable,this)},SequenceHandler.prototype.onEnable=function(){this.initialized||(this.initialized=!0,this.sequence=[],this.app.on(this.addEvent,this.add,this),this.app.on(this.clearEvent,this.clear,this))},SequenceHandler.prototype.onDisable=function(){this.initialized&&(this.initialized=!1,this.app.off(this.addEvent,this.add,this),this.app.off(this.clearEvent,this.clear,this))},SequenceHandler.prototype.add=function(e,t){this.sequence[e]=t,this.validateSequence()},SequenceHandler.prototype.clear=function(){this.sequence=[]},SequenceHandler.prototype.validateSequence=function(){for(let e=0;e<this.sequenceLength;e++)if(void 0===this.sequence[e])return void this.raiseEvent(this.onInComplete.eventName,this.onInComplete.args,this.onInComplete.sendAsSeperateArgs);this.isCorrectSequnce()&&this.raiseEvent(this.onCorrect.eventName,this.onCorrect.args,this.onCorrect.sendAsSeperateArgs)},SequenceHandler.prototype.isCorrectSequnce=function(){if(this.sequenceCharacters.length===this.sequenceLength){for(let e=0;e<this.sequenceLength;e++)if(this.sequenceCharacters[e]!=this.sequence[e])return this.raiseEvent(this.onWrong.eventName,this.onWrong.args,this.onWrong.sendAsSeperateArgs),this.clear(),!1;return!0}for(let e=0;e<this.sequenceLength-1;e++)if("null"===this.sequence[e+1]||"null"===this.sequence[e]||this.sequence[e+1]-this.sequence[e]!=1)return this.raiseEvent(this.onWrong.eventName,this.onWrong.args,this.onWrong.sendAsSeperateArgs),this.clear(),!1;return!0},SequenceHandler.prototype.raiseEvent=function(e,t,n){e.length<1||(n?this.app.fire(e,...t):this.app.fire(e,t))};var Level107Controller=pc.createScript("level107Controller");Level107Controller.attributes.add("positionHandler",{type:"entity"}),Level107Controller.attributes.add("events",{type:"json",title:"Events",schema:[{title:"On Character Pressed",name:"onCharPressed",type:"string"},{title:"Add To Sequence",name:"addSeq",type:"string"},{title:"Clear Sequence",name:"clearSeq",type:"string"},{title:"Sequence Completed",name:"onSeqCompleted",type:"string"}]}),Level107Controller.attributes.add("entites",{type:"json",title:"Entites",schema:[{title:"value",name:"obj",type:"entity"}],array:!0}),Level107Controller.attributes.add("positions",{type:"json",title:"Positions",schema:[{name:"value",type:"vec3"}],array:!0}),Level107Controller.prototype.initialize=function(){this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",this.onDisable,this),this.on("destroy",this.onDisable,this)},Level107Controller.prototype.onEnable=function(){this.initialized||(this.initialized=!0,this.positionIndex=0,this.app.on(this.events.onCharPressed,this.onCharacterEventRaised,this),this.app.on(this.events.clearSeq,this.onResetEventRaised,this),this.app.on(this.events.onSeqCompleted,this.onSeqCompletedEventRaised,this))},Level107Controller.prototype.onDisable=function(){this.initialized&&(this.initialized=!1,this.app.off(this.events.onCharPressed,this.onCharacterEventRaised,this),this.app.off(this.events.clearSeq,this.onResetEventRaised,this),this.app.off(this.events.onSeqCompleted,this.onSeqCompletedEventRaised,this))},Level107Controller.prototype.update=function(e){},Level107Controller.prototype.onCharacterEventRaised=function(e,t){let i=this.entites[e].obj;i.element.useInput=!1,this.positionHandler.script.positionController.setPos(i,this.app.space.local,null,this.positions[this.positionIndex].value,{type:1,duration:.3,onComplete:"",args:[],sendAsParams:!1}),this.app.fire(this.events.addSeq,this.positionIndex++,t)},Level107Controller.prototype.onResetEventRaised=function(){this.positionIndex=0;for(let e=0;e<this.entites.length;e++)this.entites[e].obj.element.useInput=!0,this.positionHandler.script.positionController.setPos(this.entites[e].obj,this.app.space.local,null,this.positions[e+4].value,{type:1,duration:.3,onComplete:"",args:[],sendAsParams:!1})},Level107Controller.prototype.onSeqCompletedEventRaised=function(){for(let e=0;e<this.entites.length;e++)this.entites[e].obj.element.useInput=!1};var RotationController=pc.createScript("rotationController");RotationController.attributes.add("eventName",{title:"Event to Listen",type:"string",default:"RotationController:Set"}),RotationController.attributes.add("targets",{type:"json",title:"Entities",schema:[{title:"Filtering Arguments",name:"args",type:"string",array:!0},{title:"Detecting Count",name:"detectCount",type:"number",default:-1,description:"-1 means infinite detection"},{title:"Animation Type",name:"animation",type:"number",enum:[{None:0},{Linear:1}],default:0},{title:"Anim Duration",name:"duration",type:"number"},{title:"On Anim Completed",name:"onAnimCompleted",type:"string"},{title:"Send as params",name:"sendAsParams",type:"boolean"},{title:"Anim Completed Args",name:"animArgs",type:"string",array:!0},{title:"Entity",name:"obj",type:"entity"},{title:"Space",name:"space",type:"number",enum:[{Local:1},{Global:2}],default:1},{title:"Rotation",name:"rot",type:"vec3",description:"If target is not given then this position vector will be used"},{title:"Target",name:"target",type:"entity",description:"Target entity will be used to set position if provided"}],array:!0}),RotationController.Animations={None:0},RotationController.prototype.initialize=function(){this.cache={rot1:new pc.Quat},this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",this.onDisable,this),this.on("destroy",this.onDisable,this)},RotationController.prototype.onEnable=function(){if(!this.initialized){this.initialized=!0,this.eventName.length>0&&this.app.on(this.eventName,this.onEventRaised,this),this.captureCount=[];for(let t=0;t<this.targets.length;t++)this.captureCount.push(0)}},RotationController.prototype.onDisable=function(){this.initialized&&(this.initialized=!1,this.eventName.length>0&&this.app.off(this.eventName,this.onEventRaised,this))},RotationController.prototype.onEventRaised=function(t){for(let e=0;e<this.targets.length;e++)this.isCaptureLimitReached(e)||this.inValidArgs(e,t)||(this.captureCount[e]++,this.setRot(this.targets[e].obj,this.targets[e].space,this.targets[e].target,this.targets[e].rot,{type:this.targets[e].animation,duration:this.targets[e].duration,onComplete:this.targets[e].onAnimCompleted,args:this.targets[e].animArgs,sendAsParams:this.targets[e].sendAsParams}))},RotationController.prototype.setRot=function(t,e,i,n,o){let a,s=function(){this.raiseEvent(o.onComplete,o.args,o.sendAsParams)}.bind(this);null===i&&(a=n),e===this.app.space.local?(null!==i&&(a=i.getLocalEulerAngles()),void 0!==o&&o.type!==RotationController.Animations.None?(this.cache.rot1.setFromEulerAngles(a.x,a.y,a.z),TweenWrapper.Tween(t,t.getLocalRotation(),this.cache.rot1,o.duration,s)):t.setLocalEulerAngles(a.x,a.y,a.z),t.setLocalEulerAngles(a.x,a.y,a.z)):(null!==i&&(a=i.getEulerAngles()),void 0!==o&&o.type!==RotationController.Animations.None?(this.cache.rot1.setFromEulerAngles(a.x,a.y,a.z),TweenWrapper.Tween(t,t.getRotation(),this.cache.rot1,o.duration,s)):t.setEulerAngles(a.x,a.y,a.z))},RotationController.prototype.raiseEvent=function(t,e,i){t.length<1||(i?this.app.fire(t,...e):this.app.fire(t,e))},RotationController.prototype.isCaptureLimitReached=function(t){return!(this.captureCount[t]<this.targets[t].detectCount||-1===this.targets[t].detectCount)},RotationController.prototype.inValidArgs=function(t,e){if(this.targets[t].args.length>0)for(let i=0;i<this.targets[t].args.length;i++)if(e.length>i&&this.targets[t].args[i]!==e[i])return!0;return!1};var TypeWriter=pc.createScript("typeWriter");TypeWriter.attributes.add("positionHandler",{type:"entity"}),TypeWriter.attributes.add("events",{type:"json",title:"Events",schema:[{title:"On Character Pressed",name:"onCharPressed",type:"string"},{title:"Add To Sequence",name:"addSeq",type:"string"},{title:"Clear Sequence",name:"clearSeq",type:"string"},{title:"Sequence Completed",name:"onSeqCompleted",type:"string"}]}),TypeWriter.attributes.add("characters",{type:"json",title:"Characters",schema:[{title:"Position",name:"pos",type:"vec3"},{title:"Entity",name:"obj",type:"entity"}],array:!0}),TypeWriter.prototype.initialize=function(){this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",this.onDisable,this),this.on("destroy",this.onDisable,this)},TypeWriter.prototype.onEnable=function(){this.initialized||(this.initialized=!0,this.caretPosition=0,this.posHanlder=null===this.positionHandler?this.entity.script.positionController:this.positionHandler.script.positionController,this.app.on(this.events.onCharPressed,this.onCharacterEventRaised,this),this.app.on(this.events.clearSeq,this.onResetEventRaised,this))},TypeWriter.prototype.onDisable=function(){this.initialized&&(this.initialized=!1,this.app.off(this.events.onCharPressed,this.onCharacterEventRaised,this),this.app.off(this.events.clearSeq,this.onResetEventRaised,this))},TypeWriter.prototype.onCharacterEventRaised=function(t,e){let i=this.characters[this.caretPosition].obj;this.posHanlder.setPos(i,this.app.space.local,null,this.characters[this.caretPosition].pos),i.element.text=t,i.enabled=!0,this.app.fire(this.events.addSeq,this.caretPosition++,e)},TypeWriter.prototype.onResetEventRaised=function(){this.caretPosition=0;for(let t=0;t<this.characters.length;t++)this.characters[t].obj.enabled=!1},TypeWriter.prototype.typeCharacter=function(t){};var EventExtender=pc.createScript("eventExtender");EventExtender.attributes.add("eventName",{title:"Event To Listen",type:"string"}),EventExtender.attributes.add("args",{type:"json",title:"Filtering Arguments",schema:[{name:"value",type:"string"}],array:!0}),EventExtender.attributes.add("events",{type:"json",title:"Events",schema:[{title:"Delay",name:"delay",type:"number"},{title:"Event To Raise",name:"eventName",type:"string"},{title:"Send As params",name:"sendAsParam",type:"boolean"},{title:"Arguments",name:"args",type:"string",array:!0}],array:!0}),EventExtender.prototype.initialize=function(){this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("destroy",this.onDisable,this),this.on("disable",this.onDisable,this)},EventExtender.prototype.onEnable=function(){this.initialized||(this.initialized=!0,this.app.on(this.eventName,this.onEventRaised,this))},EventExtender.prototype.onDisable=function(){this.initialized&&(this.initialized=!1,this.app.off(this.eventName,this.onEventRaised,this))},EventExtender.prototype.onEventRaised=function(t){if(t.length>0)for(let e=0;e<this.args.length;e++)if(t.length>e&&this.args[e].value!==t[e])return;for(let t=0;t<this.events.length;t++)CustomCoroutine.Instance.set(function(t){this.raiseEvent(this.events[t].eventName,this.events[t].args,this.events[t].sendAsParam)}.bind(this,t),this.events[t].delay)},EventExtender.prototype.raiseEvent=function(t,e,n){t.length<1||(n?this.app.fire(t,...e):this.app.fire(t,e))};var Level103Controller=pc.createScript("level103Controller");Level103Controller.attributes.add("events",{type:"json",title:"Events",schema:[{title:"Add To Sequence",name:"addSeq",type:"string"}]}),Level103Controller.attributes.add("entities",{type:"json",title:"Entities",schema:[{title:"On Drag End",name:"onDragEnd",type:"string"},{title:"Entity",name:"obj",type:"entity"},{title:"Value",name:"value",type:"string"}],array:!0}),Level103Controller.prototype.initialize=function(){this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",this.onDisable,this),this.on("destroy",this.onDisable,this)},Level103Controller.prototype.onEnable=function(){if(!this.initialized){this.initialized=!0;for(let t=0;t<this.entities.length;t++)this.app.on(this.entities[t].onDragEnd,this.onDragEnd.bind(this,t))}},Level103Controller.prototype.onDisable=function(){if(this.initialized){this.initialized=!1;for(let t=0;t<this.entities.length;t++)this.app.off(this.entities[t].onDragEnd,this.onDragEnd.bind(this,t))}},Level103Controller.prototype.onDragEnd=function(t){if(!this.entities[t])return;this.sequence=[];let e=this.entities[t].obj;for(let i=0;i<this.entities.length;i++)i===t?this.sequence.push({index:i,distanceX:0}):this.sequence.push({index:i,distanceX:this.entities[i].obj.getLocalPosition().x-e.getLocalPosition().x});this.sequence.sort(((t,e)=>t.distanceX-e.distanceX));for(let t=0;t<this.entities.length;t++)this.app.fire(this.events.addSeq,t,this.entities[this.sequence[t].index].value)};var MainMenuScrollHandler=pc.createScript("mainMenuScrollHandler");MainMenuScrollHandler.prototype.initialize=function(){},MainMenuScrollHandler.prototype.update=function(n){};var ScrollHandler=pc.createScript("scrollHandler");ScrollHandler.attributes.add("viewport",{type:"entity"}),ScrollHandler.attributes.add("content",{type:"entity"}),ScrollHandler.attributes.add("scrollbar",{type:"entity"}),ScrollHandler.attributes.add("highlight",{type:"json",title:"Highlight Settings",schema:[{title:"Entity",name:"obj",type:"entity"},{title:"Character Icon",name:"characterIcon",type:"entity"}],array:!0}),ScrollHandler.attributes.add("scroll",{type:"json",title:"Scroll Settings",schema:[{title:"Top difference",name:"topMin",type:"number"},{title:"Bottom difference",name:"bottomMin",type:"number"},{title:"Screen Top Pos",name:"screenTop",type:"entity"},{title:"Screen Bottom Pos",name:"screenBottom",type:"entity"}]}),ScrollHandler.prototype.initialize=function(){this.scrollUpNotified=!1,this.scrollDownNotified=!1,this.characterIndex=0,this.entities={highligthPos:{obj:this.highlight[0].obj,icon:this.highlight[0].characterIcon},scrollDownBtn:{obj:this.highlight[1].obj,icon:this.highlight[1].characterIcon},scrollUpBtn:{obj:this.highlight[2].obj,icon:this.highlight[2].characterIcon}},this.app.on(this.app.events.scrollHandler.highlight,this.setHighlight,this),this.app.on(this.app.events.scrollHandler.scrollToLevel,this.scrollToLevel,this)},ScrollHandler.prototype.postInitialize=function(){},ScrollHandler.prototype.update=function(t){this.scrollUpNotified?this.entities.highligthPos.obj.getPosition().y-this.scroll.screenTop.getPosition().y<this.scroll.topMin&&(this.scrollUpNotified=!1,this.enableBtn(this.entities.scrollUpBtn,!1)):this.entities.highligthPos.obj.getPosition().y-this.scroll.screenTop.getPosition().y>=this.scroll.topMin&&(this.scrollUpNotified=!0,this.enableBtn(this.entities.scrollUpBtn,!0)),this.scrollDownNotified?this.entities.highligthPos.obj.getPosition().y-this.scroll.screenBottom.getPosition().y>this.scroll.bottomMin&&(this.scrollDownNotified=!1,this.enableBtn(this.entities.scrollDownBtn,!1)):this.entities.highligthPos.obj.getPosition().y-this.scroll.screenBottom.getPosition().y<=this.scroll.bottomMin&&(this.scrollDownNotified=!0,this.enableBtn(this.entities.scrollDownBtn,!0))},ScrollHandler.prototype.scrollToLevel=function(t,e){let i=this.findCurrentPage(t),n=this.findCurrentBtn(t,i),o=this.content.element.height-i.getLocalPosition().y-i.element.height/2-n.getLocalPosition().y,r=pc.math.clamp(o/(this.content.element.height-this.viewport.element.height),0,1),l=DataManager.Instance.getData(DataManager.DatabaseTypes.Levels,t-1,DataManager.LevelsDB_Model.CharacterIndex);this.setHighlight(t,l,i,n,e),this.scrollbar.scrollbar.value=r},ScrollHandler.prototype.findCurrentPage=function(t,e){for(let e=0;e<this.content.children.length;e++)if(t<this.content.children[e].script.pageController.getLastLevel())return this.content.children[e]},ScrollHandler.prototype.findCurrentPageByCharacter=function(t){for(let e=0;e<this.content.children.length;e++)if(t<this.content.children[e].script.pageController.getLastCharacter())return this.content.children[e]},ScrollHandler.prototype.findCurrentBtn=function(t,e){let i=t-e.script.pageController.startingLevel;return e.script.pageController.getLevelBtn(i)},ScrollHandler.prototype.findCharacterBtn=function(t,e){let i=t-e.script.pageController.startingCharacter;return e.script.pageController.getCharacterBtn(i)},ScrollHandler.prototype.setHighlight=function(t,e,i,n,o){let r=i||this.findCurrentPage(t),l=n||this.findCurrentBtn(t,r),s=function(){l.script.buttonController.setEnabled(!0,{type:"Sprite",resource:SpritesManager.Instance.getButtonSprite(SpritesManager.ButtonType.normal,SpritesManager.ButtonState.active),resize:!1});let i=this.findCurrentPageByCharacter(e);this.findCharacterBtn(e,i).script.buttonController.setEnabled(!0,{type:"Texture",resource:SpritesManager.Instance.getCharacterSprite(e,SpritesManager.ButtonState.active),resize:!1}),this.app.fire(this.app.events.mainMenu.levelBtn,t,this)}.bind(this),h=this.entities.highligthPos.obj.getPosition();this.entities.highligthPos.obj.reparent(l.parent),this.entities.highligthPos.obj.getLocalPosition().equals(l.getLocalPosition())||(this.entities.highligthPos.obj.setPosition(h.x,h.y,h.z),void 0!==o&&o>0?TweenWrapper.Tween(this.entities.highligthPos.obj,this.entities.highligthPos.obj.getLocalPosition(),l.getLocalPosition(),o,s):this.entities.highligthPos.obj.setLocalPosition(l.getLocalPosition().x,l.getLocalPosition().y,l.getLocalPosition().z),this.characterIndex=e,this.setImage(this.entities.highligthPos.icon,e))},ScrollHandler.prototype.setImage=function(t,e){let i=SpritesManager.Instance.getCharacterSprite(e,SpritesManager.ButtonState.active),n=i.width/i.height;t.element.texture=i,t.element.width=t.element.height*n},ScrollHandler.prototype.enableBtn=function(t,e){t.obj.enabled=e,e&&this.setImage(t.icon,this.characterIndex)};var TransformChecker=pc.createScript("transformChecker");TransformChecker.attributes.add("showPosition",{type:"boolean"}),TransformChecker.attributes.add("topEntity",{type:"entity"}),TransformChecker.attributes.add("bottomEntity",{type:"entity"}),TransformChecker.prototype.initialize=function(){},TransformChecker.prototype.update=function(t){};var EventRaiser=pc.createScript("eventRaiser");EventRaiser.attributes.add("eventsToRaise",{type:"json",title:"Events To Raise",schema:[{title:"Raise On",name:"funcType",type:"number",enum:[{Initialize:1},{"Post Initialize":2},{Enable:3},{Disable:4}],default:2},{title:"Event Name",name:"eventName",type:"string"},{title:"Send as params",name:"sendAsParams",type:"boolean"},{title:"Arguments",name:"args",type:"string",array:!0}],array:!0}),EventRaiser.FuncType={Initialize:1,PostInitialize:2,Enable:3,Disable:4},EventRaiser.prototype.initialize=function(){this.checkEvents(EventRaiser.FuncType.Initialize),this.initialized=!1,this.onEnable(),this.on("enable",this.onEnable,this),this.on("disable",this.onDisable,this),this.on("destroy",this.onDisable,this)},EventRaiser.prototype.postInitialize=function(){this.checkEvents(EventRaiser.FuncType.PostInitialize)},EventRaiser.prototype.onEnable=function(){this.initialized||(this.initialized=!0,this.checkEvents(EventRaiser.FuncType.Enable))},EventRaiser.prototype.onDisable=function(){this.initialized&&(this.initialized=!1,this.checkEvents(EventRaiser.FuncType.Disable))},EventRaiser.prototype.checkEvents=function(e){for(let t=0;t<this.eventsToRaise.length;t++)this.eventsToRaise[t].funcType===e&&this.raiseEvent(this.eventsToRaise[t].eventName,this.eventsToRaise[t].args,this.eventsToRaise[t].sendAsParams)},EventRaiser.prototype.raiseEvent=function(e,t,i){e.length<1||(i?this.app.fire(e,...t):this.app.fire(e,t))};var TweenRotation=pc.createScript("tweenRotation");TweenRotation.attributes.add("obj",{title:"Entity",type:"entity"}),TweenRotation.attributes.add("rotationSpeed",{title:"Rotation Speed",type:"vec3"}),TweenRotation.prototype.initialize=function(){},TweenRotation.prototype.update=function(t){let e=null===this.obj?this.entity:this.obj;var o=e.getLocalEulerAngles().x-this.rotationSpeed.x*t,i=e.getLocalEulerAngles().y-this.rotationSpeed.y*t,n=e.getLocalEulerAngles().z-this.rotationSpeed.z*t;e.setLocalEulerAngles(o,i,n)};// SoundsEventListener.js
var SoundsEventListener = pc.createScript('soundsEventListener');


SoundsEventListener.attributes.add('logsActive', { type: 'boolean'});

SoundsEventListener.attributes.add('events', {
    type: 'json',
    title: 'Events',
    schema: [
        { title: 'Detecting Count', name: 'detectCount', type: 'number', default: -1, description: '-1 means infinite detection' },
        { title: 'Event to Listen', name: 'eventToListen', type: 'string' },
        { title: 'Filtering Arguments', name: 'args', type: 'string', array: true },
        { title: 'Sound Manager Event', name: 'soundManagerEvent', type: 'string', default: 'SoundManager:Play' },
        { title: 'Sound ID', name: 'soundId', type: 'string' },
        { title: 'Play', name: 'play', type: 'boolean' },
        { title: 'Loop', name: 'loop', type: 'boolean' },
        { title: 'Delay', name: 'delay', type: 'number' },
    ],
    array: true
});

// initialize code called once per entity
SoundsEventListener.prototype.initialize = function () {

    this.initialized = false;

    this.onEnable();
    this.on('enable', this.onEnable, this);
    this.on('destroy', this.onDisable, this);
    this.on('disable', this.onDisable, this);
};

SoundsEventListener.prototype.onEnable = function () {
    if (this.initialized) return;
    this.initialized = true;

    for (let i = 0; i < this.events.length; i++) {
        this.app.on(this.events[i].eventToListen, this.onEventRaised.bind(this, i));
    }
};

SoundsEventListener.prototype.onDisable = function () {
    if (!this.initialized) return;
    this.initialized = false;
    // console.log("Destroy: " + this.entity.name);
    for (let i = 0; i < this.events.length; i++) {
        this.app.off(this.events[i].eventToListen, this.onEventRaised.bind(this, i));
    }
};

SoundsEventListener.prototype.onEventRaised = function (i, args) {
    // console.log('SoundsEventListener onEventRaised: ' + i + " | [" + args + "]");

    if (args !== undefined) {
        // console.log("SoundsEventListener -> args !== undefined");
        if (!Array.isArray(args)) {
            // console.log("SoundsEventListener -> Not Array");
            // console.log(`SoundsEventListener -> ${this.events[i].args[0]} != ${args}`);
            if (typeof args !== "string")
                args = args.toString();
            // console.log(`SoundsEventListener -> ${typeof this.events[i].args[0]} != ${ typeof args}`);


            if (this.events[i].args[0] != args)
                return;
        }
        else if (args.length > 0) {
            // console.log("SoundsEventListener -> isArray");
            for (let j = 0; j < this.events[i].args.length; j++) {
                if (args.length > j) {
                    // console.log('SoundsEventListener -> ' + this.events[i].args[j] + ' != ' + args[j]);
                    if (typeof args[j] !== "string")
                        args[j] = args[j].toString();
                    // console.log('SoundsEventListener -> ' + typeof this.events[i].args[j] + ' != ' + typeof args[j]);


                }

                if (args.length > j && this.events[i].args[j] != args[j])
                    return;
            }
        }
    }

    let arguments = [];
    arguments.push(this.events[i].soundId);
    arguments.push(this.events[i].play);
    arguments.push(this.events[i].loop);
    var self = this;
    CustomCoroutine.Instance.set(function () {
        self.raiseEvent(self.events[i].soundManagerEvent, arguments, true);

    }, this.events[i].delay);
};

SoundsEventListener.prototype.raiseEvent = function (eventName, args, sendAsParams) {
    // console.log("SoundsEventListener raiseEvent: " + eventName + " | [" + args + "]");
    if (eventName.length < 1) return;

    if (sendAsParams)
        this.app.fire(eventName, ...args);
    else
        this.app.fire(eventName, args);
};

// update code called every frame
SoundsEventListener.prototype.update = function (dt) {

};

// swap method called for script hot-reloading
// inherit your script state here
// SoundsEventListener.prototype.swap = function(old) { };

// to learn more about script anatomy, please read:
// https://developer.playcanvas.com/en/user-manual/scripting/

var SpritesIndentifier=pc.createScript("spritesIndentifier");SpritesIndentifier.prototype.initialize=function(){for(this.stack=[],this.stack.push({obj:this.entity,iteration:""});this.stack.length>0;){let t=this.stack.pop();for(let i=t.obj.children.length-1;i>=0;i--)this.stack.push({obj:t.obj.children[i],iteration:t.iteration+"-"})}},SpritesIndentifier.prototype.update=function(t){};var AssetBundle=pc.createScript("assetBundle");AssetBundle.attributes.add("levelNumber",{title:"Level Number",type:"number"}),AssetBundle.attributes.add("assets",{title:"Assets",type:"asset",assetType:"texture",array:!0}),AssetBundle.prototype.initialize=function(){},AssetBundle.prototype.update=function(e){};var LoadingMenuEventListener=pc.createScript("loadingMenuEventListener");LoadingMenuEventListener.attributes.add("label",{title:"Label",type:"entity"}),LoadingMenuEventListener.attributes.add("events",{type:"json",title:"Events",schema:[{title:"Set Label",name:"setLabel",type:"string"}]}),LoadingMenuEventListener.prototype.initialize=function(){this.app.on(this.events.setLabel,this.setLableFunc,this)},LoadingMenuEventListener.prototype.setLableFunc=function(e){this.label.element.text=void 0!==e?e:"Loading..."};var SplashMenuEventListener=pc.createScript("splashMenuEventListener");SplashMenuEventListener.attributes.add("loadMainMenu",{title:"Load Main Menu On",type:"string"}),SplashMenuEventListener.attributes.add("gameVersion",{title:"Game Version",type:"string"}),SplashMenuEventListener.attributes.add("gameVersionTxt",{title:"Game Version Text",type:"entity"}),SplashMenuEventListener.attributes.add("loadingPercentageTxt",{title:"Game Version Text",type:"entity"}),SplashMenuEventListener.prototype.initialize=function(){this.app.on(this.loadMainMenu,this.onAssetsLoaded,this),this.app.on(this.app.events.assetsManager.loadedPercentage,this.setLoadingPercentage,this),this.loadedDots="",this.gameVersionTxt.element.text=this.gameVersion},SplashMenuEventListener.prototype.postInitialize=function(){this.completedTask=0,this.totalTasks=3,this.triesToFetch={brainPoints:0,levelsCompleted:0},this.initData()},SplashMenuEventListener.prototype.update=function(e){},SplashMenuEventListener.prototype.initData=function(){this.loadBrainPoints()},SplashMenuEventListener.prototype.setLoadingPercentage=function(e){this.percentageText=(100*e).toFixed(0)+"%",this.updateLoadingText()},SplashMenuEventListener.prototype.updateLoadingText=function(){this.loadingPercentageTxt.element.text=this.percentageText+this.loadedDots},SplashMenuEventListener.prototype.loadBrainPoints=function(){this.app.fire(this.app.events.economyManager.getBrainPoints,this.onBrainPointsLoaded.bind(this))},SplashMenuEventListener.prototype.loadCompletedLevels=function(){this.app.fire(this.app.events.levelsManager.loadLevels,this.onCompletedLevelsLoaded.bind(this))},SplashMenuEventListener.prototype.loadAdsData=function(){this.app.fire(this.app.events.economyManager.getNoAds,this.onAdsDataLoaded.bind(this))},SplashMenuEventListener.prototype.onAssetsLoaded=function(){this.completedTask++,this.loadedDots+=".",this.loadMainMenuFunc("AssetsLoaded")},SplashMenuEventListener.prototype.onBrainPointsLoaded=function(e){if(void 0===e){if(this.triesToFetch.brainPoints++,this.triesToFetch.brainPoints<3)return void this.app.fire(this.app.events.economyManager.setBrainPoints,this.app.cost.defaultBrainPoints,!0,this.loadBrainPoints.bind(this));this.app.fire(this.app.events.economyManager.setBrainPoints,this.app.cost.defaultBrainPoints,!0)}this.loadCompletedLevels(),this.completedTask++,this.loadedDots+='[color="#0000FF"].[/color]',this.loadMainMenuFunc("BrainPoints")},SplashMenuEventListener.prototype.onCompletedLevelsLoaded=function(e){if(void 0===e){if(this.triesToFetch.levelsCompleted++,this.triesToFetch.levelsCompleted<3)return void this.app.fire(this.app.events.levelsManager.saveLevels,1,!0,this.loadCompletedLevels.bind(this));this.app.fire(this.app.events.levelsManager.saveLevels,1,!0)}this.loadAdsData(),this.completedTask++,this.loadedDots+='[color="#00FF00"].[/color]',this.loadMainMenuFunc("CompletedLevel")},SplashMenuEventListener.prototype.onAdsDataLoaded=function(e){void 0!==e||this.app.fire(this.app.events.economyManager.setNoAds,!1,this.loadAdsData.bind(this))},SplashMenuEventListener.prototype.loadMainMenuFunc=function(e){this.updateLoadingText(),this.completedTask>=this.totalTasks&&MenuManager.Instance.changeState(MenuManager.States.Main)};var VibrationManager=pc.createScript("vibrationManager");VibrationManager.attributes.add("virbationEnabled",{title:"Enabled",type:"boolean",default:!0}),VibrationManager.attributes.add("virbateEvent",{title:"Vibration Event",type:"string",default:"VibrationManager:Vibrate"}),VibrationManager.attributes.add("virbateEnable",{title:"Enable Event",type:"string",default:"VibrationManager:Enable"}),VibrationManager.prototype.initialize=function(){VibrationManager.Instance=this,this.app.on(this.virbateEvent,this.vibrate,this),this.app.on(this.virbateEnable,this.enableVibration,this)},VibrationManager.prototype.vibrate=function(){this.virbationEnabled&&this.isSupported()&&window.navigator.vibrate(100)},VibrationManager.prototype.enableVibration=function(t){void 0!==t&&(Array.isArray(t)&&(t=t[0]),"string"==typeof t&&(t="true"===t),this.virbationEnabled=t)},VibrationManager.prototype.isSupported=function(){return!(!window.navigator||!window.navigator.vibrate)};var LoadAssetsBytag=pc.createScript("loadAssetsBytag");LoadAssetsBytag.attributes.add("loadAssetsOn",{title:"Load Assets On",type:"string"}),LoadAssetsBytag.attributes.add("tagsToLoad",{type:"json",title:"Tags To Load",schema:[{name:"tag",type:"string"}],array:!0}),LoadAssetsBytag.prototype.initialize=function(){this.app.on(this.loadAssetsOn,this.loadAssetsOnFunc,this)},LoadAssetsBytag.prototype.loadAssetsOnFunc=function(){for(let s=0;s<this.tagsToLoad.length;s++)AssetLoadManager.Instance.customAssetTags.push(this.tagsToLoad[s].tag);AssetLoadManager.Instance.customAssets=null};var EconomyManager=pc.createScript("economyManager");function storageAvailable(t){try{var o=window[t],a="__storage_test__";return o.setItem(a,a),o.removeItem(a),!0}catch(t){return!1}}EconomyManager.prototype.initialize=function(){EconomyManager.Instance=this,this.brainPoints=100,this.noAds=0,this.dataLoaded=[!1,!1],this.app.on(this.app.events.economyManager.setBrainPoints,this.setBrainPoints,this),this.app.on(this.app.events.economyManager.getBrainPoints,this.getBrainPoints,this),this.app.on(this.app.events.economyManager.setNoAds,this.setNoAds,this),this.app.on(this.app.events.economyManager.getNoAds,this.getNoAds,this)},EconomyManager.prototype.setBrainPoints=function(t,o,a){let e=o?t:this.brainPoints+t;this.brainPoints!==e&&(this.brainPoints=e,storageAvailable("localStorage")&&localStorage.setItem("brainPoints",this.brainPoints))},EconomyManager.prototype.getBrainPoints=function(t){storageAvailable("localStorage")&&(this.brainPoints=localStorage.getItem("brainPoints")),t&&t(this.brainPoints)},EconomyManager.prototype.setNoAds=function(t,o){this.noAds=t,storageAvailable("localStorage")&&localStorage.setItem("dummyadsRemoved",this.noAds)},EconomyManager.prototype.getNoAds=function(t){t&&t(this.noAds),storageAvailable("localStorage")&&(this.noAds=localStorage.getItem("dummyadsRemoved")),t&&t(this.noAds)};var NonRewardedAds=pc.createScript("nonRewardedAds");NonRewardedAds.attributes.add("nonRewardedPopup",{type:"entity"}),NonRewardedAds.attributes.add("closeButton",{type:"entity"}),NonRewardedAds.attributes.add("closeButton1",{type:"entity"}),NonRewardedAds.attributes.add("debugTest0",{type:"entity"}),NonRewardedAds.prototype.initialize=function(){null!==this.closeButton&&this.closeButton.button.on("click",this.closePenal,this),null!==this.closeButton1&&this.closeButton1.button.on("click",this.showNonRewardedPenalB,this)},NonRewardedAds.prototype.closePenal=function(){this.nonRewardedPopup.enabled=!1},NonRewardedAds.prototype.showNonRewardedPenal=function(){this.nonRewardedPopup.enabled=!0},NonRewardedAds.prototype.showNonRewardedPenalB=function(){this.nonRewardedPopup.enabled=!1};var SoundManager=pc.createScript("soundManager");SoundManager.attributes.add("musicOn",{type:"boolean"}),SoundManager.attributes.add("sfxOn",{type:"boolean"}),SoundManager.prototype.initialize=function(){SoundManager.Instance=this,this.handleMusic()},SoundManager.prototype.handleMusic=function(){this.musicOn=!this.musicOn,this.musicOn?this.entity.sound.stop("BG"):this.entity.sound.play("BG")},SoundManager.prototype.handleSFX=function(){this.sfxOn=!this.sfxOn,this.sfxOn?this.entity.sound.play("ClickSound"):this.entity.sound.stop("ClickSound")},SoundManager.prototype.shotSFX=function(t){this.sfxOn&&this.entity.sound.play(t)},SoundManager.prototype.stopSFX=function(t){this.sfxOn&&this.entity.sound.stop(t)},SoundManager.prototype.musicCheck=function(t){t?(this.entity.sound.stop("BG"),this.entity.sound.stop("ClickSound"),this.entity.sound.stop("LevelComplete"),this.entity.sound.stop("Wrong"),this.entity.sound.stop("Correct"),this.entity.sound.stop("GiftOpen"),this.entity.sound.stop("DragShape")):this.musicOn||(this.entity.sound.play("BG"),this.entity.sound.play("ClickSound"),this.entity.sound.resume("BG"),this.entity.sound.resume("ClickSound"),this.entity.sound.resume("LevelComplete"),this.entity.sound.resume("Wrong"),this.entity.sound.resume("Correct"),this.entity.sound.resume("GiftOpen"),this.entity.sound.resume("DragShape"))};var Timer=pc.createScript("timer");Timer.attributes.add("debugTest0",{type:"entity"}),Timer.attributes.add("allRewardedAdsBtns",{type:"entity",array:!0}),Timer.prototype.initialize=function(){Timer.Instance=this,this.timer=0,this.isTimerActive=!1},Timer.prototype.beginTimer=function(){this.isTimerActive=!0;for(let t=0;t<this.allRewardedAdsBtns.length;t++)this.allRewardedAdsBtns[t].element.useInput=!1,this.allRewardedAdsBtns[t].button.active=!1},Timer.prototype.update=function(t){if(this.isTimerActive&&(this.timer+=t,this.debugTest0.element.text="current time =  "+this.timer,this.timer>30)){for(let t=0;t<this.allRewardedAdsBtns.length;t++)this.allRewardedAdsBtns[t].element.useInput=!0,this.allRewardedAdsBtns[t].button.active=!0;this.debugTest0.element.text="You can watch rewarded if rewarded has fill",this.timer=0,this.isTimerActive=!1}};!function(au,su){"object"==typeof exports&&"object"==typeof module?module.exports=su():"function"==typeof define&&define.amd?define("UnicodeBidirectional",[],su):"object"==typeof exports?exports.UnicodeBidirectional=su():au.UnicodeBidirectional=su()}("undefined"!=typeof self?self:this,(function(){return function(au){function e(fu){if(su[fu])return su[fu].exports;var cu=su[fu]={i:fu,l:!1,exports:{}};return au[fu].call(cu.exports,cu,cu.exports,e),cu.l=!0,cu.exports}var su={};return e.m=au,e.c=su,e.d=function(au,su,fu){e.o(au,su)||Object.defineProperty(au,su,{configurable:!1,enumerable:!0,get:fu})},e.n=function(au){var su=au&&au.__esModule?function(){return au.default}:function(){return au};return e.d(su,"a",su),su},e.o=function(au,su){return Object.prototype.hasOwnProperty.call(au,su)},e.p="",e(e.s=17)}([function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0}),su.isNonFormatting=su.isX9ControlCharacter=su.isStrong=su.isPDI=su.isIsolateInitiator=su.isR=su.isNI=su.isET=su.MAX_DEPTH=su.RIGHT_CURLY=su.LEFT_CURLY=su.RIGHT_SQUARE=su.LEFT_SQUARE=su.RIGHT_PAR=su.LEFT_PAR=su.WS1=su.BN1=su.EN1=su.AN1=su.ON1=su.R1=su.L1=su.S1=su.B1=su.G=su.F=su.E=su.D=su.C=su.B=su.A=su.RLO=su.RLM=su.RLI=su.RLE=su.PDI=su.PDF=su.LRO=su.LRM=su.LRI=su.LRE=su.FSI=su.ALM=void 0;var cu=function(au){return au&&au.__esModule?au:{default:au}}(fu(2));su.ALM=1564,su.FSI=8296,su.LRE=8234,su.LRI=8294,su.LRM=8206,su.LRO=8237,su.PDF=8236,su.PDI=8297,su.RLE=8235,su.RLI=8295,su.RLM=8207,su.RLO=8238,su.A=65,su.B=66,su.C=67,su.D=68,su.E=69,su.F=70,su.G=71,su.B1=8233,su.S1=9,su.L1=109,su.R1=1488,su.ON1=34,su.AN1=1633,su.EN1=50,su.BN1=0,su.WS1=32,su.LEFT_PAR=40,su.RIGHT_PAR=41,su.LEFT_SQUARE=91,su.RIGHT_SQUARE=93,su.LEFT_CURLY=123,su.RIGHT_CURLY=125,su.MAX_DEPTH=125,su.isET=function(au){return"ET"===au},su.isNI=function(au){return(0,cu.default)(["B","S","WS","ON","FSI","LRI","RLI","PDI"],au)},su.isR=function(au){return(0,cu.default)(["R","AN","EN"],au)},su.isIsolateInitiator=function(au){return(0,cu.default)(["LRI","RLI","FSI"],au)},su.isPDI=function(au){return 8297===au},su.isStrong=function(au){return(0,cu.default)(["L","R","AL"],au)},su.isX9ControlCharacter=function(au){return(0,cu.default)(["RLE","LRE","RLO","LRO","PDF","BN"],au)},su.isNonFormatting=function(au){return(0,cu.default)(["B","BN","RLE","LRE","RLO","LRO","PDF","RLI","LRI","FSI","PDI"],au)}},function(au,su,fu){au.exports=function(){"use strict";function t(au,su){su&&(au.prototype=Object.create(su.prototype)),au.prototype.constructor=au}function e(au){return i(au)?au:I(au)}function u(au){return o(au)?au:x(au)}function r(au){return a(au)?au:L(au)}function n(au){return i(au)&&!s(au)?au:M(au)}function i(au){return!(!au||!au[su])}function o(au){return!(!au||!au[fu])}function a(au){return!(!au||!au[cu])}function s(au){return o(au)||a(au)}function f(au){return!(!au||!au[Du])}function c(au){return au.value=!1,au}function D(au){au&&(au.value=!0)}function l(){}function h(au,su){su=su||0;for(var fu=Math.max(0,au.length-su),cu=new Array(fu),Du=0;Du<fu;Du++)cu[Du]=au[Du+su];return cu}function p(au){return void 0===au.size&&(au.size=au.__iterate(_)),au.size}function d(au,su){if("number"!=typeof su){var fu=su>>>0;if(""+fu!==su||4294967295===fu)return NaN;su=fu}return su<0?p(au)+su:su}function _(){return!0}function v(au,su,fu){return(0===au||void 0!==fu&&au<=-fu)&&(void 0===su||void 0!==fu&&su>=fu)}function F(au,su){return C(au,su,0)}function E(au,su){return C(au,su,su)}function C(au,su,fu){return void 0===au?fu:au<0?Math.max(0,su+au):void 0===su?au:Math.min(su,au)}function A(au){this.next=au}function y(au,su,fu,cu){var Du=0===au?su:1===au?fu:[su,fu];return cu?cu.value=Du:cu={value:Du,done:!1},cu}function B(){return{value:void 0,done:!0}}function g(au){return!!w(au)}function m(au){return au&&"function"==typeof au.next}function S(au){var su=w(au);return su&&su.call(au)}function w(au){var su=au&&(Au&&au[Au]||au[yu]);if("function"==typeof su)return su}function b(au){return au&&"number"==typeof au.length}function I(au){return null==au?P():i(au)?au.toSeq():N(au)}function x(au){return null==au?P().toKeyedSeq():i(au)?o(au)?au.toSeq():au.fromEntrySeq():T(au)}function L(au){return null==au?P():i(au)?o(au)?au.entrySeq():au.toIndexedSeq():q(au)}function M(au){return(null==au?P():i(au)?o(au)?au.entrySeq():au:q(au)).toSetSeq()}function z(au){this._array=au,this.size=au.length}function O(au){var su=Object.keys(au);this._object=au,this._keys=su,this.size=su.length}function R(au){this._iterable=au,this.size=au.length||au.size}function k(au){this._iterator=au,this._iteratorCache=[]}function j(au){return!(!au||!au[wu])}function P(){return gu||(gu=new z([]))}function T(au){var su=Array.isArray(au)?new z(au).fromEntrySeq():m(au)?new k(au).fromEntrySeq():g(au)?new R(au).fromEntrySeq():"object"==typeof au?new O(au):void 0;if(!su)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+au);return su}function q(au){var su=U(au);if(!su)throw new TypeError("Expected Array or iterable object of values: "+au);return su}function N(au){var su=U(au)||"object"==typeof au&&new O(au);if(!su)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+au);return su}function U(au){return b(au)?new z(au):m(au)?new k(au):g(au)?new R(au):void 0}function W(au,su,fu,cu){var Du=au._cache;if(Du){for(var lu=Du.length-1,hu=0;hu<=lu;hu++){var pu=Du[fu?lu-hu:hu];if(!1===su(pu[1],cu?pu[0]:hu,au))return hu+1}return hu}return au.__iterateUncached(su,fu)}function K(au,su,fu,cu){var Du=au._cache;if(Du){var lu=Du.length-1,hu=0;return new A((function(){var au=Du[fu?lu-hu:hu];return hu++>lu?B():y(su,cu?au[0]:hu-1,au[1])}))}return au.__iteratorUncached(su,fu)}function J(au,su){return su?H(su,au,"",{"":au}):X(au)}function H(au,su,fu,cu){return Array.isArray(su)?au.call(cu,fu,L(su).map((function(fu,cu){return H(au,fu,cu,su)}))):G(su)?au.call(cu,fu,x(su).map((function(fu,cu){return H(au,fu,cu,su)}))):su}function X(au){return Array.isArray(au)?L(au).map(X).toList():G(au)?x(au).map(X).toMap():au}function G(au){return au&&(au.constructor===Object||void 0===au.constructor)}function V(au,su){if(au===su||au!=au&&su!=su)return!0;if(!au||!su)return!1;if("function"==typeof au.valueOf&&"function"==typeof su.valueOf){if((au=au.valueOf())===(su=su.valueOf())||au!=au&&su!=su)return!0;if(!au||!su)return!1}return!("function"!=typeof au.equals||"function"!=typeof su.equals||!au.equals(su))}function Y(au,su){if(au===su)return!0;if(!i(su)||void 0!==au.size&&void 0!==su.size&&au.size!==su.size||void 0!==au.__hash&&void 0!==su.__hash&&au.__hash!==su.__hash||o(au)!==o(su)||a(au)!==a(su)||f(au)!==f(su))return!1;if(0===au.size&&0===su.size)return!0;var fu=!s(au);if(f(au)){var cu=au.entries();return su.every((function(au,su){var Du=cu.next().value;return Du&&V(Du[1],au)&&(fu||V(Du[0],su))}))&&cu.next().done}var Du=!1;if(void 0===au.size)if(void 0===su.size)"function"==typeof au.cacheResult&&au.cacheResult();else{Du=!0;var lu=au;au=su,su=lu}var hu=!0,pu=su.__iterate((function(su,cu){if(fu?!au.has(su):Du?!V(su,au.get(cu,du)):!V(au.get(cu,du),su))return hu=!1,!1}));return hu&&au.size===pu}function Q(au,su){if(!(this instanceof Q))return new Q(au,su);if(this._value=au,this.size=void 0===su?1/0:Math.max(0,su),0===this.size){if(mu)return mu;mu=this}}function $(au,su){if(!au)throw new Error(su)}function Z(au,su,fu){if(!(this instanceof Z))return new Z(au,su,fu);if($(0!==fu,"Cannot step a Range by 0"),au=au||0,void 0===su&&(su=1/0),fu=void 0===fu?1:Math.abs(fu),su<au&&(fu=-fu),this._start=au,this._end=su,this._step=fu,this.size=Math.max(0,Math.ceil((su-au)/fu-1)+1),0===this.size){if(Su)return Su;Su=this}}function tt(){throw TypeError("Abstract")}function et(){}function ut(){}function rt(){}function nt(au){return au>>>1&1073741824|3221225471&au}function it(au){if(!1===au||null==au)return 0;if("function"==typeof au.valueOf&&(!1===(au=au.valueOf())||null==au))return 0;if(!0===au)return 1;var su=typeof au;if("number"===su){if(au!=au||au===1/0)return 0;var fu=0|au;for(fu!==au&&(fu^=4294967295*au);au>4294967295;)fu^=au/=4294967295;return nt(fu)}if("string"===su)return au.length>Ru?ot(au):at(au);if("function"==typeof au.hashCode)return au.hashCode();if("object"===su)return st(au);if("function"==typeof au.toString)return at(au.toString());throw new Error("Value type "+su+" cannot be hashed.")}function ot(au){var su=Tu[au];return void 0===su&&(su=at(au),ku===ju&&(ku=0,Tu={}),ku++,Tu[au]=su),su}function at(au){for(var su=0,fu=0;fu<au.length;fu++)su=31*su+au.charCodeAt(fu)|0;return nt(su)}function st(au){var su;if(Mu&&void 0!==(su=bu.get(au)))return su;if(void 0!==(su=au[Ou]))return su;if(!Lu){if(void 0!==(su=au.propertyIsEnumerable&&au.propertyIsEnumerable[Ou]))return su;if(void 0!==(su=ft(au)))return su}if(su=++zu,1073741824&zu&&(zu=0),Mu)bu.set(au,su);else{if(void 0!==xu&&!1===xu(au))throw new Error("Non-extensible objects are not allowed as keys.");if(Lu)Object.defineProperty(au,Ou,{enumerable:!1,configurable:!1,writable:!1,value:su});else if(void 0!==au.propertyIsEnumerable&&au.propertyIsEnumerable===au.constructor.prototype.propertyIsEnumerable)au.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},au.propertyIsEnumerable[Ou]=su;else{if(void 0===au.nodeType)throw new Error("Unable to set a non-enumerable property on object.");au[Ou]=su}}return su}function ft(au){if(au&&au.nodeType>0)switch(au.nodeType){case 1:return au.uniqueID;case 9:return au.documentElement&&au.documentElement.uniqueID}}function ct(au){$(au!==1/0,"Cannot perform this action with an infinite size.")}function Dt(au){return null==au?yt():lt(au)&&!f(au)?au:yt().withMutations((function(su){var fu=u(au);ct(fu.size),fu.forEach((function(au,fu){return su.set(fu,au)}))}))}function lt(au){return!(!au||!au[Pu])}function ht(au,su){this.ownerID=au,this.entries=su}function pt(au,su,fu){this.ownerID=au,this.bitmap=su,this.nodes=fu}function dt(au,su,fu){this.ownerID=au,this.count=su,this.nodes=fu}function _t(au,su,fu){this.ownerID=au,this.keyHash=su,this.entries=fu}function vt(au,su,fu){this.ownerID=au,this.keyHash=su,this.entry=fu}function Ft(au,su,fu){this._type=su,this._reverse=fu,this._stack=au._root&&Ct(au._root)}function Et(au,su){return y(au,su[0],su[1])}function Ct(au,su){return{node:au,index:0,__prev:su}}function At(au,su,fu,cu){var Du=Object.create(qu);return Du.size=au,Du._root=su,Du.__ownerID=fu,Du.__hash=cu,Du.__altered=!1,Du}function yt(){return Nu||(Nu=At(0))}function Bt(au,su,fu){var cu,Du;if(au._root){var lu=c(_u),hu=c(vu);if(cu=gt(au._root,au.__ownerID,0,void 0,su,fu,lu,hu),!hu.value)return au;Du=au.size+(lu.value?fu===du?-1:1:0)}else{if(fu===du)return au;Du=1,cu=new ht(au.__ownerID,[[su,fu]])}return au.__ownerID?(au.size=Du,au._root=cu,au.__hash=void 0,au.__altered=!0,au):cu?At(Du,cu):yt()}function gt(au,su,fu,cu,Du,lu,hu,pu){return au?au.update(su,fu,cu,Du,lu,hu,pu):lu===du?au:(D(pu),D(hu),new vt(su,cu,[Du,lu]))}function mt(au){return au.constructor===vt||au.constructor===_t}function St(au,su,fu,cu,Du){if(au.keyHash===cu)return new _t(su,cu,[au.entry,Du]);var hu,du=(0===fu?au.keyHash:au.keyHash>>>fu)&pu,_u=(0===fu?cu:cu>>>fu)&pu;return new pt(su,1<<du|1<<_u,du===_u?[St(au,su,fu+lu,cu,Du)]:(hu=new vt(su,cu,Du),du<_u?[au,hu]:[hu,au]))}function wt(au,su,fu,cu){au||(au=new l);for(var Du=new vt(au,it(fu),[fu,cu]),lu=0;lu<su.length;lu++){var hu=su[lu];Du=Du.update(au,0,void 0,hu[0],hu[1])}return Du}function bt(au,su,fu,cu){for(var Du=0,lu=0,hu=new Array(fu),pu=0,du=1,_u=su.length;pu<_u;pu++,du<<=1){var vu=su[pu];void 0!==vu&&pu!==cu&&(Du|=du,hu[lu++]=vu)}return new pt(au,Du,hu)}function It(au,su,fu,cu,Du){for(var lu=0,pu=new Array(hu),du=0;0!==fu;du++,fu>>>=1)pu[du]=1&fu?su[lu++]:void 0;return pu[cu]=Du,new dt(au,lu+1,pu)}function xt(au,su,fu){for(var cu=[],Du=0;Du<fu.length;Du++){var lu=fu[Du],hu=u(lu);i(lu)||(hu=hu.map((function(au){return J(au)}))),cu.push(hu)}return zt(au,su,cu)}function Lt(au,su,fu){return au&&au.mergeDeep&&i(su)?au.mergeDeep(su):V(au,su)?au:su}function Mt(au){return function(su,fu,cu){if(su&&su.mergeDeepWith&&i(fu))return su.mergeDeepWith(au,fu);var Du=au(su,fu,cu);return V(su,Du)?su:Du}}function zt(au,su,fu){return fu=fu.filter((function(au){return 0!==au.size})),0===fu.length?au:0!==au.size||au.__ownerID||1!==fu.length?au.withMutations((function(au){for(var cu=su?function(fu,cu){au.update(cu,du,(function(au){return au===du?fu:su(au,fu,cu)}))}:function(su,fu){au.set(fu,su)},Du=0;Du<fu.length;Du++)fu[Du].forEach(cu)})):au.constructor(fu[0])}function Ot(au,su,fu,cu){var Du=au===du,lu=su.next();if(lu.done){var hu=Du?fu:au,pu=cu(hu);return pu===hu?au:pu}$(Du||au&&au.set,"invalid keyPath");var _u=lu.value,vu=Du?du:au.get(_u,du),Fu=Ot(vu,su,fu,cu);return Fu===vu?au:Fu===du?au.remove(_u):(Du?yt():au).set(_u,Fu)}function Rt(au){return au=(au=(858993459&(au-=au>>1&1431655765))+(au>>2&858993459))+(au>>4)&252645135,127&(au+=au>>8)+(au>>16)}function kt(au,su,fu,cu){var Du=cu?au:h(au);return Du[su]=fu,Du}function jt(au,su,fu,cu){var Du=au.length+1;if(cu&&su+1===Du)return au[su]=fu,au;for(var lu=new Array(Du),hu=0,pu=0;pu<Du;pu++)pu===su?(lu[pu]=fu,hu=-1):lu[pu]=au[pu+hu];return lu}function Pt(au,su,fu){var cu=au.length-1;if(fu&&su===cu)return au.pop(),au;for(var Du=new Array(cu),lu=0,hu=0;hu<cu;hu++)hu===su&&(lu=1),Du[hu]=au[hu+lu];return Du}function Tt(au){var su=Kt();if(null==au)return su;if(qt(au))return au;var fu=r(au),cu=fu.size;return 0===cu?su:(ct(cu),cu>0&&cu<hu?Wt(0,cu,lu,null,new Nt(fu.toArray())):su.withMutations((function(au){au.setSize(cu),fu.forEach((function(su,fu){return au.set(fu,su)}))})))}function qt(au){return!(!au||!au[Ku])}function Nt(au,su){this.array=au,this.ownerID=su}function Ut(au,su){function u(au,su,fu){return 0===su?r(au,fu):n(au,su,fu)}function r(au,lu){var du=lu===Du?pu&&pu.array:au&&au.array,_u=lu>fu?0:fu-lu,vu=cu-lu;return vu>hu&&(vu=hu),function(){if(_u===vu)return Qu;var au=su?--vu:_u++;return du&&du[au]}}function n(au,Du,pu){var du,_u=au&&au.array,vu=pu>fu?0:fu-pu>>Du,Fu=1+(cu-pu>>Du);return Fu>hu&&(Fu=hu),function(){for(;;){if(du){var au=du();if(au!==Qu)return au;du=null}if(vu===Fu)return Qu;var fu=su?--Fu:vu++;du=u(_u&&_u[fu],Du-lu,pu+(fu<<Du))}}}var fu=au._origin,cu=au._capacity,Du=Qt(cu),pu=au._tail;return u(au._root,au._level,0)}function Wt(au,su,fu,cu,Du,lu,hu){var pu=Object.create(Vu);return pu.size=su-au,pu._origin=au,pu._capacity=su,pu._level=fu,pu._root=cu,pu._tail=Du,pu.__ownerID=lu,pu.__hash=hu,pu.__altered=!1,pu}function Kt(){return Ju||(Ju=Wt(0,0,lu))}function Jt(au,su,fu){if((su=d(au,su))!==su)return au;if(su>=au.size||su<0)return au.withMutations((function(au){su<0?Vt(au,su).set(0,fu):Vt(au,0,su+1).set(su,fu)}));su+=au._origin;var cu=au._tail,Du=au._root,lu=c(vu);return su>=Qt(au._capacity)?cu=Ht(cu,au.__ownerID,0,su,fu,lu):Du=Ht(Du,au.__ownerID,au._level,su,fu,lu),lu.value?au.__ownerID?(au._root=Du,au._tail=cu,au.__hash=void 0,au.__altered=!0,au):Wt(au._origin,au._capacity,au._level,Du,cu):au}function Ht(au,su,fu,cu,Du,hu){var du,_u=cu>>>fu&pu,vu=au&&_u<au.array.length;if(!vu&&void 0===Du)return au;if(fu>0){var Fu=au&&au.array[_u],Eu=Ht(Fu,su,fu-lu,cu,Du,hu);return Eu===Fu?au:((du=Xt(au,su)).array[_u]=Eu,du)}return vu&&au.array[_u]===Du?au:(D(hu),du=Xt(au,su),void 0===Du&&_u===du.array.length-1?du.array.pop():du.array[_u]=Du,du)}function Xt(au,su){return su&&au&&su===au.ownerID?au:new Nt(au?au.array.slice():[],su)}function Gt(au,su){if(su>=Qt(au._capacity))return au._tail;if(su<1<<au._level+lu){for(var fu=au._root,cu=au._level;fu&&cu>0;)fu=fu.array[su>>>cu&pu],cu-=lu;return fu}}function Vt(au,su,fu){void 0!==su&&(su|=0),void 0!==fu&&(fu|=0);var cu=au.__ownerID||new l,Du=au._origin,hu=au._capacity,du=Du+su,_u=void 0===fu?hu:fu<0?hu+fu:Du+fu;if(du===Du&&_u===hu)return au;if(du>=_u)return au.clear();for(var vu=au._level,Fu=au._root,Eu=0;du+Eu<0;)Fu=new Nt(Fu&&Fu.array.length?[void 0,Fu]:[],cu),Eu+=1<<(vu+=lu);Eu&&(du+=Eu,Du+=Eu,_u+=Eu,hu+=Eu);for(var Cu=Qt(hu),Au=Qt(_u);Au>=1<<vu+lu;)Fu=new Nt(Fu&&Fu.array.length?[Fu]:[],cu),vu+=lu;var yu=au._tail,Bu=Au<Cu?Gt(au,_u-1):Au>Cu?new Nt([],cu):yu;if(yu&&Au>Cu&&du<hu&&yu.array.length){for(var gu=Fu=Xt(Fu,cu),mu=vu;mu>lu;mu-=lu){var Su=Cu>>>mu&pu;gu=gu.array[Su]=Xt(gu.array[Su],cu)}gu.array[Cu>>>lu&pu]=yu}if(_u<hu&&(Bu=Bu&&Bu.removeAfter(cu,0,_u)),du>=Au)du-=Au,_u-=Au,vu=lu,Fu=null,Bu=Bu&&Bu.removeBefore(cu,0,du);else if(du>Du||Au<Cu){for(Eu=0;Fu;){var wu=du>>>vu&pu;if(wu!==Au>>>vu&pu)break;wu&&(Eu+=(1<<vu)*wu),vu-=lu,Fu=Fu.array[wu]}Fu&&du>Du&&(Fu=Fu.removeBefore(cu,vu,du-Eu)),Fu&&Au<Cu&&(Fu=Fu.removeAfter(cu,vu,Au-Eu)),Eu&&(du-=Eu,_u-=Eu)}return au.__ownerID?(au.size=_u-du,au._origin=du,au._capacity=_u,au._level=vu,au._root=Fu,au._tail=Bu,au.__hash=void 0,au.__altered=!0,au):Wt(du,_u,vu,Fu,Bu)}function Yt(au,su,fu){for(var cu=[],Du=0,lu=0;lu<fu.length;lu++){var hu=fu[lu],pu=r(hu);pu.size>Du&&(Du=pu.size),i(hu)||(pu=pu.map((function(au){return J(au)}))),cu.push(pu)}return Du>au.size&&(au=au.setSize(Du)),zt(au,su,cu)}function Qt(au){return au<hu?0:au-1>>>lu<<lu}function $t(au){return null==au?ee():Zt(au)?au:ee().withMutations((function(su){var fu=u(au);ct(fu.size),fu.forEach((function(au,fu){return su.set(fu,au)}))}))}function Zt(au){return lt(au)&&f(au)}function te(au,su,fu,cu){var Du=Object.create($t.prototype);return Du.size=au?au.size:0,Du._map=au,Du._list=su,Du.__ownerID=fu,Du.__hash=cu,Du}function ee(){return $u||($u=te(yt(),Kt()))}function ue(au,su,fu){var cu,Du,lu=au._map,pu=au._list,_u=lu.get(su),vu=void 0!==_u;if(fu===du){if(!vu)return au;pu.size>=hu&&pu.size>=2*lu.size?(Du=pu.filter((function(au,su){return void 0!==au&&_u!==su})),cu=Du.toKeyedSeq().map((function(au){return au[0]})).flip().toMap(),au.__ownerID&&(cu.__ownerID=Du.__ownerID=au.__ownerID)):(cu=lu.remove(su),Du=_u===pu.size-1?pu.pop():pu.set(_u,void 0))}else if(vu){if(fu===pu.get(_u)[1])return au;cu=lu,Du=pu.set(_u,[su,fu])}else cu=lu.set(su,pu.size),Du=pu.set(pu.size,[su,fu]);return au.__ownerID?(au.size=cu.size,au._map=cu,au._list=Du,au.__hash=void 0,au):te(cu,Du)}function re(au,su){this._iter=au,this._useKeys=su,this.size=au.size}function ne(au){this._iter=au,this.size=au.size}function ie(au){this._iter=au,this.size=au.size}function oe(au){this._iter=au,this.size=au.size}function ae(au){var su=be(au);return su._iter=au,su.size=au.size,su.flip=function(){return au},su.reverse=function(){var su=au.reverse.apply(this);return su.flip=function(){return au.reverse()},su},su.has=function(su){return au.includes(su)},su.includes=function(su){return au.has(su)},su.cacheResult=Ie,su.__iterateUncached=function(su,fu){var cu=this;return au.__iterate((function(au,fu){return!1!==su(fu,au,cu)}),fu)},su.__iteratorUncached=function(su,fu){if(su===Cu){var cu=au.__iterator(su,fu);return new A((function(){var au=cu.next();if(!au.done){var su=au.value[0];au.value[0]=au.value[1],au.value[1]=su}return au}))}return au.__iterator(su===Eu?Fu:Eu,fu)},su}function se(au,su,fu){var cu=be(au);return cu.size=au.size,cu.has=function(su){return au.has(su)},cu.get=function(cu,Du){var lu=au.get(cu,du);return lu===du?Du:su.call(fu,lu,cu,au)},cu.__iterateUncached=function(cu,Du){var lu=this;return au.__iterate((function(au,Du,hu){return!1!==cu(su.call(fu,au,Du,hu),Du,lu)}),Du)},cu.__iteratorUncached=function(cu,Du){var lu=au.__iterator(Cu,Du);return new A((function(){var Du=lu.next();if(Du.done)return Du;var hu=Du.value,pu=hu[0];return y(cu,pu,su.call(fu,hu[1],pu,au),Du)}))},cu}function fe(au,su){var fu=be(au);return fu._iter=au,fu.size=au.size,fu.reverse=function(){return au},au.flip&&(fu.flip=function(){var su=ae(au);return su.reverse=function(){return au.flip()},su}),fu.get=function(fu,cu){return au.get(su?fu:-1-fu,cu)},fu.has=function(fu){return au.has(su?fu:-1-fu)},fu.includes=function(su){return au.includes(su)},fu.cacheResult=Ie,fu.__iterate=function(su,fu){var cu=this;return au.__iterate((function(au,fu){return su(au,fu,cu)}),!fu)},fu.__iterator=function(su,fu){return au.__iterator(su,!fu)},fu}function ce(au,su,fu,cu){var Du=be(au);return cu&&(Du.has=function(cu){var Du=au.get(cu,du);return Du!==du&&!!su.call(fu,Du,cu,au)},Du.get=function(cu,Du){var lu=au.get(cu,du);return lu!==du&&su.call(fu,lu,cu,au)?lu:Du}),Du.__iterateUncached=function(Du,lu){var hu=this,pu=0;return au.__iterate((function(au,lu,du){if(su.call(fu,au,lu,du))return pu++,Du(au,cu?lu:pu-1,hu)}),lu),pu},Du.__iteratorUncached=function(Du,lu){var hu=au.__iterator(Cu,lu),pu=0;return new A((function(){for(;;){var lu=hu.next();if(lu.done)return lu;var du=lu.value,_u=du[0],vu=du[1];if(su.call(fu,vu,_u,au))return y(Du,cu?_u:pu++,vu,lu)}}))},Du}function De(au,su,fu){var cu=Dt().asMutable();return au.__iterate((function(Du,lu){cu.update(su.call(fu,Du,lu,au),0,(function(au){return au+1}))})),cu.asImmutable()}function le(au,su,fu){var cu=o(au),Du=(f(au)?$t():Dt()).asMutable();au.__iterate((function(lu,hu){Du.update(su.call(fu,lu,hu,au),(function(au){return(au=au||[]).push(cu?[hu,lu]:lu),au}))}));var lu=we(au);return Du.map((function(su){return ge(au,lu(su))}))}function he(au,su,fu,cu){var Du=au.size;if(void 0!==su&&(su|=0),void 0!==fu&&(fu===1/0?fu=Du:fu|=0),v(su,fu,Du))return au;var lu=F(su,Du),hu=E(fu,Du);if(lu!=lu||hu!=hu)return he(au.toSeq().cacheResult(),su,fu,cu);var pu,du=hu-lu;du==du&&(pu=du<0?0:du);var _u=be(au);return _u.size=0===pu?pu:au.size&&pu||void 0,!cu&&j(au)&&pu>=0&&(_u.get=function(su,fu){return(su=d(this,su))>=0&&su<pu?au.get(su+lu,fu):fu}),_u.__iterateUncached=function(su,fu){var Du=this;if(0===pu)return 0;if(fu)return this.cacheResult().__iterate(su,fu);var hu=0,du=!0,_u=0;return au.__iterate((function(au,fu){if(!du||!(du=hu++<lu))return _u++,!1!==su(au,cu?fu:_u-1,Du)&&_u!==pu})),_u},_u.__iteratorUncached=function(su,fu){if(0!==pu&&fu)return this.cacheResult().__iterator(su,fu);var Du=0!==pu&&au.__iterator(su,fu),hu=0,du=0;return new A((function(){for(;hu++<lu;)Du.next();if(++du>pu)return B();var au=Du.next();return cu||su===Eu?au:y(su,du-1,su===Fu?void 0:au.value[1],au)}))},_u}function pe(au,su,fu){var cu=be(au);return cu.__iterateUncached=function(cu,Du){var lu=this;if(Du)return this.cacheResult().__iterate(cu,Du);var hu=0;return au.__iterate((function(au,Du,pu){return su.call(fu,au,Du,pu)&&++hu&&cu(au,Du,lu)})),hu},cu.__iteratorUncached=function(cu,Du){var lu=this;if(Du)return this.cacheResult().__iterator(cu,Du);var hu=au.__iterator(Cu,Du),pu=!0;return new A((function(){if(!pu)return B();var au=hu.next();if(au.done)return au;var Du=au.value,du=Du[0],_u=Du[1];return su.call(fu,_u,du,lu)?cu===Cu?au:y(cu,du,_u,au):(pu=!1,B())}))},cu}function de(au,su,fu,cu){var Du=be(au);return Du.__iterateUncached=function(Du,lu){var hu=this;if(lu)return this.cacheResult().__iterate(Du,lu);var pu=!0,du=0;return au.__iterate((function(au,lu,_u){if(!pu||!(pu=su.call(fu,au,lu,_u)))return du++,Du(au,cu?lu:du-1,hu)})),du},Du.__iteratorUncached=function(Du,lu){var hu=this;if(lu)return this.cacheResult().__iterator(Du,lu);var pu=au.__iterator(Cu,lu),du=!0,_u=0;return new A((function(){var au,lu,vu;do{if((au=pu.next()).done)return cu||Du===Eu?au:y(Du,_u++,Du===Fu?void 0:au.value[1],au);var Au=au.value;lu=Au[0],vu=Au[1],du&&(du=su.call(fu,vu,lu,hu))}while(du);return Du===Cu?au:y(Du,lu,vu,au)}))},Du}function _e(au,su){var fu=o(au),cu=[au].concat(su).map((function(au){return i(au)?fu&&(au=u(au)):au=fu?T(au):q(Array.isArray(au)?au:[au]),au})).filter((function(au){return 0!==au.size}));if(0===cu.length)return au;if(1===cu.length){var Du=cu[0];if(Du===au||fu&&o(Du)||a(au)&&a(Du))return Du}var lu=new z(cu);return fu?lu=lu.toKeyedSeq():a(au)||(lu=lu.toSetSeq()),(lu=lu.flatten(!0)).size=cu.reduce((function(au,su){if(void 0!==au){var fu=su.size;if(void 0!==fu)return au+fu}}),0),lu}function ve(au,su,fu){var cu=be(au);return cu.__iterateUncached=function(cu,Du){function o(au,pu){var du=this;au.__iterate((function(au,Du){return(!su||pu<su)&&i(au)?o(au,pu+1):!1===cu(au,fu?Du:lu++,du)&&(hu=!0),!hu}),Du)}var lu=0,hu=!1;return o(au,0),lu},cu.__iteratorUncached=function(cu,Du){var lu=au.__iterator(cu,Du),hu=[],pu=0;return new A((function(){for(;lu;){var au=lu.next();if(!1===au.done){var du=au.value;if(cu===Cu&&(du=du[1]),su&&!(hu.length<su)||!i(du))return fu?au:y(cu,pu++,du,au);hu.push(lu),lu=du.__iterator(cu,Du)}else lu=hu.pop()}return B()}))},cu}function Fe(au,su,fu){var cu=we(au);return au.toSeq().map((function(Du,lu){return cu(su.call(fu,Du,lu,au))})).flatten(!0)}function Ee(au,su){var fu=be(au);return fu.size=au.size&&2*au.size-1,fu.__iterateUncached=function(fu,cu){var Du=this,lu=0;return au.__iterate((function(au,cu){return(!lu||!1!==fu(su,lu++,Du))&&!1!==fu(au,lu++,Du)}),cu),lu},fu.__iteratorUncached=function(fu,cu){var Du,lu=au.__iterator(Eu,cu),hu=0;return new A((function(){return(!Du||hu%2)&&(Du=lu.next()).done?Du:hu%2?y(fu,hu++,su):y(fu,hu++,Du.value,Du)}))},fu}function Ce(au,su,fu){su||(su=xe);var cu=o(au),Du=0,lu=au.toSeq().map((function(su,cu){return[cu,su,Du++,fu?fu(su,cu,au):su]})).toArray();return lu.sort((function(au,fu){return su(au[3],fu[3])||au[2]-fu[2]})).forEach(cu?function(au,su){lu[su].length=2}:function(au,su){lu[su]=au[1]}),cu?x(lu):a(au)?L(lu):M(lu)}function Ae(au,su,fu){if(su||(su=xe),fu){var cu=au.toSeq().map((function(su,cu){return[su,fu(su,cu,au)]})).reduce((function(au,fu){return ye(su,au[1],fu[1])?fu:au}));return cu&&cu[0]}return au.reduce((function(au,fu){return ye(su,au,fu)?fu:au}))}function ye(au,su,fu){var cu=au(fu,su);return 0===cu&&fu!==su&&(null==fu||fu!=fu)||cu>0}function Be(au,su,fu){var cu=be(au);return cu.size=new z(fu).map((function(au){return au.size})).min(),cu.__iterate=function(au,su){for(var fu,cu=this.__iterator(Eu,su),Du=0;!(fu=cu.next()).done&&!1!==au(fu.value,Du++,this););return Du},cu.__iteratorUncached=function(au,cu){var Du=fu.map((function(au){return au=e(au),S(cu?au.reverse():au)})),lu=0,hu=!1;return new A((function(){var fu;return hu||(fu=Du.map((function(au){return au.next()})),hu=fu.some((function(au){return au.done}))),hu?B():y(au,lu++,su.apply(null,fu.map((function(au){return au.value}))))}))},cu}function ge(au,su){return j(au)?su:au.constructor(su)}function me(au){if(au!==Object(au))throw new TypeError("Expected [K, V] tuple: "+au)}function Se(au){return ct(au.size),p(au)}function we(au){return o(au)?u:a(au)?r:n}function be(au){return Object.create((o(au)?x:a(au)?L:M).prototype)}function Ie(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):I.prototype.cacheResult.call(this)}function xe(au,su){return au>su?1:au<su?-1:0}function Le(au){var su=S(au);if(!su){if(!b(au))throw new TypeError("Expected iterable or array-like: "+au);su=S(e(au))}return su}function Me(au,su){var fu,r=function(Du){if(Du instanceof r)return Du;if(!(this instanceof r))return new r(Du);if(!fu){fu=!0;var lu=Object.keys(au);Re(cu,lu),cu.size=lu.length,cu._name=su,cu._keys=lu,cu._defaultValues=au}this._map=Dt(Du)},cu=r.prototype=Object.create(Xu);return cu.constructor=r,r}function ze(au,su,fu){var cu=Object.create(Object.getPrototypeOf(au));return cu._map=su,cu.__ownerID=fu,cu}function Oe(au){return au._name||au.constructor.name||"Record"}function Re(au,su){try{su.forEach(ke.bind(void 0,au))}catch(au){}}function ke(au,su){Object.defineProperty(au,su,{get:function(){return this.get(su)},set:function(au){$(this.__ownerID,"Cannot set on an immutable record."),this.set(su,au)}})}function je(au){return null==au?Ne():Pe(au)&&!f(au)?au:Ne().withMutations((function(su){var fu=n(au);ct(fu.size),fu.forEach((function(au){return su.add(au)}))}))}function Pe(au){return!(!au||!au[Yu])}function Te(au,su){return au.__ownerID?(au.size=su.size,au._map=su,au):su===au._map?au:0===su.size?au.__empty():au.__make(su)}function qe(au,su){var fu=Object.create(Gu);return fu.size=au?au.size:0,fu._map=au,fu.__ownerID=su,fu}function Ne(){return Zu||(Zu=qe(yt()))}function Ue(au){return null==au?Je():We(au)?au:Je().withMutations((function(su){var fu=n(au);ct(fu.size),fu.forEach((function(au){return su.add(au)}))}))}function We(au){return Pe(au)&&f(au)}function Ke(au,su){var fu=Object.create(er);return fu.size=au?au.size:0,fu._map=au,fu.__ownerID=su,fu}function Je(){return tr||(tr=Ke(ee()))}function He(au){return null==au?Ve():Xe(au)?au:Ve().unshiftAll(au)}function Xe(au){return!(!au||!au[rr])}function Ge(au,su,fu,cu){var Du=Object.create(nr);return Du.size=au,Du._head=su,Du.__ownerID=fu,Du.__hash=cu,Du.__altered=!1,Du}function Ve(){return ur||(ur=Ge(0))}function Ye(au,su){var u=function(fu){au.prototype[fu]=su[fu]};return Object.keys(su).forEach(u),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(su).forEach(u),au}function Qe(au,su){return su}function $e(au,su){return[su,au]}function Ze(au){return function(){return!au.apply(this,arguments)}}function tu(au){return function(){return-au.apply(this,arguments)}}function eu(au){return"string"==typeof au?JSON.stringify(au):String(au)}function uu(){return h(arguments)}function ru(au,su){return au<su?1:au>su?-1:0}function nu(au){if(au.size===1/0)return 0;var su=f(au),fu=o(au),cu=su?1:0;return iu(au.__iterate(fu?su?function(au,su){cu=31*cu+ou(it(au),it(su))|0}:function(au,su){cu=cu+ou(it(au),it(su))|0}:su?function(au){cu=31*cu+it(au)|0}:function(au){cu=cu+it(au)|0}),cu)}function iu(au,su){return su=Iu(su,3432918353),su=Iu(su<<15|su>>>-15,461845907),su=Iu(su<<13|su>>>-13,5),su=Iu((su=(su+3864292196|0)^au)^su>>>16,2246822507),nt((su=Iu(su^su>>>13,3266489909))^su>>>16)}function ou(au,su){return au^su+2654435769+(au<<6)+(au>>2)|0}var au=Array.prototype.slice;t(u,e),t(r,e),t(n,e),e.isIterable=i,e.isKeyed=o,e.isIndexed=a,e.isAssociative=s,e.isOrdered=f,e.Keyed=u,e.Indexed=r,e.Set=n;var su="@@__IMMUTABLE_ITERABLE__@@",fu="@@__IMMUTABLE_KEYED__@@",cu="@@__IMMUTABLE_INDEXED__@@",Du="@@__IMMUTABLE_ORDERED__@@",lu=5,hu=1<<lu,pu=hu-1,du={},_u={value:!1},vu={value:!1},Fu=0,Eu=1,Cu=2,Au="function"==typeof Symbol&&Symbol.iterator,yu="@@iterator",Bu=Au||yu;A.prototype.toString=function(){return"[Iterator]"},A.KEYS=Fu,A.VALUES=Eu,A.ENTRIES=Cu,A.prototype.inspect=A.prototype.toSource=function(){return this.toString()},A.prototype[Bu]=function(){return this},t(I,e),I.of=function(){return I(arguments)},I.prototype.toSeq=function(){return this},I.prototype.toString=function(){return this.__toString("Seq {","}")},I.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},I.prototype.__iterate=function(au,su){return W(this,au,su,!0)},I.prototype.__iterator=function(au,su){return K(this,au,su,!0)},t(x,I),x.prototype.toKeyedSeq=function(){return this},t(L,I),L.of=function(){return L(arguments)},L.prototype.toIndexedSeq=function(){return this},L.prototype.toString=function(){return this.__toString("Seq [","]")},L.prototype.__iterate=function(au,su){return W(this,au,su,!1)},L.prototype.__iterator=function(au,su){return K(this,au,su,!1)},t(M,I),M.of=function(){return M(arguments)},M.prototype.toSetSeq=function(){return this},I.isSeq=j,I.Keyed=x,I.Set=M,I.Indexed=L;var gu,mu,Su,wu="@@__IMMUTABLE_SEQ__@@";I.prototype[wu]=!0,t(z,L),z.prototype.get=function(au,su){return this.has(au)?this._array[d(this,au)]:su},z.prototype.__iterate=function(au,su){for(var fu=this._array,cu=fu.length-1,Du=0;Du<=cu;Du++)if(!1===au(fu[su?cu-Du:Du],Du,this))return Du+1;return Du},z.prototype.__iterator=function(au,su){var fu=this._array,cu=fu.length-1,Du=0;return new A((function(){return Du>cu?B():y(au,Du,fu[su?cu-Du++:Du++])}))},t(O,x),O.prototype.get=function(au,su){return void 0===su||this.has(au)?this._object[au]:su},O.prototype.has=function(au){return this._object.hasOwnProperty(au)},O.prototype.__iterate=function(au,su){for(var fu=this._object,cu=this._keys,Du=cu.length-1,lu=0;lu<=Du;lu++){var hu=cu[su?Du-lu:lu];if(!1===au(fu[hu],hu,this))return lu+1}return lu},O.prototype.__iterator=function(au,su){var fu=this._object,cu=this._keys,Du=cu.length-1,lu=0;return new A((function(){var hu=cu[su?Du-lu:lu];return lu++>Du?B():y(au,hu,fu[hu])}))},O.prototype[Du]=!0,t(R,L),R.prototype.__iterateUncached=function(au,su){if(su)return this.cacheResult().__iterate(au,su);var fu=S(this._iterable),cu=0;if(m(fu))for(var Du;!(Du=fu.next()).done&&!1!==au(Du.value,cu++,this););return cu},R.prototype.__iteratorUncached=function(au,su){if(su)return this.cacheResult().__iterator(au,su);var fu=S(this._iterable);if(!m(fu))return new A(B);var cu=0;return new A((function(){var su=fu.next();return su.done?su:y(au,cu++,su.value)}))},t(k,L),k.prototype.__iterateUncached=function(au,su){if(su)return this.cacheResult().__iterate(au,su);for(var fu=this._iterator,cu=this._iteratorCache,Du=0;Du<cu.length;)if(!1===au(cu[Du],Du++,this))return Du;for(var lu;!(lu=fu.next()).done;){var hu=lu.value;if(cu[Du]=hu,!1===au(hu,Du++,this))break}return Du},k.prototype.__iteratorUncached=function(au,su){if(su)return this.cacheResult().__iterator(au,su);var fu=this._iterator,cu=this._iteratorCache,Du=0;return new A((function(){if(Du>=cu.length){var su=fu.next();if(su.done)return su;cu[Du]=su.value}return y(au,Du,cu[Du++])}))},t(Q,L),Q.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Q.prototype.get=function(au,su){return this.has(au)?this._value:su},Q.prototype.includes=function(au){return V(this._value,au)},Q.prototype.slice=function(au,su){var fu=this.size;return v(au,su,fu)?this:new Q(this._value,E(su,fu)-F(au,fu))},Q.prototype.reverse=function(){return this},Q.prototype.indexOf=function(au){return V(this._value,au)?0:-1},Q.prototype.lastIndexOf=function(au){return V(this._value,au)?this.size:-1},Q.prototype.__iterate=function(au,su){for(var fu=0;fu<this.size;fu++)if(!1===au(this._value,fu,this))return fu+1;return fu},Q.prototype.__iterator=function(au,su){var fu=this,cu=0;return new A((function(){return cu<fu.size?y(au,cu++,fu._value):B()}))},Q.prototype.equals=function(au){return au instanceof Q?V(this._value,au._value):Y(au)},t(Z,L),Z.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Z.prototype.get=function(au,su){return this.has(au)?this._start+d(this,au)*this._step:su},Z.prototype.includes=function(au){var su=(au-this._start)/this._step;return su>=0&&su<this.size&&su===Math.floor(su)},Z.prototype.slice=function(au,su){return v(au,su,this.size)?this:(au=F(au,this.size),(su=E(su,this.size))<=au?new Z(0,0):new Z(this.get(au,this._end),this.get(su,this._end),this._step))},Z.prototype.indexOf=function(au){var su=au-this._start;if(su%this._step==0){var fu=su/this._step;if(fu>=0&&fu<this.size)return fu}return-1},Z.prototype.lastIndexOf=function(au){return this.indexOf(au)},Z.prototype.__iterate=function(au,su){for(var fu=this.size-1,cu=this._step,Du=su?this._start+fu*cu:this._start,lu=0;lu<=fu;lu++){if(!1===au(Du,lu,this))return lu+1;Du+=su?-cu:cu}return lu},Z.prototype.__iterator=function(au,su){var fu=this.size-1,cu=this._step,Du=su?this._start+fu*cu:this._start,lu=0;return new A((function(){var hu=Du;return Du+=su?-cu:cu,lu>fu?B():y(au,lu++,hu)}))},Z.prototype.equals=function(au){return au instanceof Z?this._start===au._start&&this._end===au._end&&this._step===au._step:Y(this,au)},t(tt,e),t(et,tt),t(ut,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=ut,tt.Set=rt;var bu,Iu="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(au,su){var fu=65535&(au|=0),cu=65535&(su|=0);return fu*cu+((au>>>16)*cu+fu*(su>>>16)<<16>>>0)|0},xu=Object.isExtensible,Lu=function(){try{return Object.defineProperty({},"@",{}),!0}catch(au){return!1}}(),Mu="function"==typeof WeakMap;Mu&&(bu=new WeakMap);var zu=0,Ou="__immutablehash__";"function"==typeof Symbol&&(Ou=Symbol(Ou));var Ru=16,ju=255,ku=0,Tu={};t(Dt,et),Dt.of=function(){var su=au.call(arguments,0);return yt().withMutations((function(au){for(var fu=0;fu<su.length;fu+=2){if(fu+1>=su.length)throw new Error("Missing value for key: "+su[fu]);au.set(su[fu],su[fu+1])}}))},Dt.prototype.toString=function(){return this.__toString("Map {","}")},Dt.prototype.get=function(au,su){return this._root?this._root.get(0,void 0,au,su):su},Dt.prototype.set=function(au,su){return Bt(this,au,su)},Dt.prototype.setIn=function(au,su){return this.updateIn(au,du,(function(){return su}))},Dt.prototype.remove=function(au){return Bt(this,au,du)},Dt.prototype.deleteIn=function(au){return this.updateIn(au,(function(){return du}))},Dt.prototype.update=function(au,su,fu){return 1===arguments.length?au(this):this.updateIn([au],su,fu)},Dt.prototype.updateIn=function(au,su,fu){fu||(fu=su,su=void 0);var cu=Ot(this,Le(au),su,fu);return cu===du?void 0:cu},Dt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):yt()},Dt.prototype.merge=function(){return xt(this,void 0,arguments)},Dt.prototype.mergeWith=function(su){return xt(this,su,au.call(arguments,1))},Dt.prototype.mergeIn=function(su){var fu=au.call(arguments,1);return this.updateIn(su,yt(),(function(au){return"function"==typeof au.merge?au.merge.apply(au,fu):fu[fu.length-1]}))},Dt.prototype.mergeDeep=function(){return xt(this,Lt,arguments)},Dt.prototype.mergeDeepWith=function(su){var fu=au.call(arguments,1);return xt(this,Mt(su),fu)},Dt.prototype.mergeDeepIn=function(su){var fu=au.call(arguments,1);return this.updateIn(su,yt(),(function(au){return"function"==typeof au.mergeDeep?au.mergeDeep.apply(au,fu):fu[fu.length-1]}))},Dt.prototype.sort=function(au){return $t(Ce(this,au))},Dt.prototype.sortBy=function(au,su){return $t(Ce(this,su,au))},Dt.prototype.withMutations=function(au){var su=this.asMutable();return au(su),su.wasAltered()?su.__ensureOwner(this.__ownerID):this},Dt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new l)},Dt.prototype.asImmutable=function(){return this.__ensureOwner()},Dt.prototype.wasAltered=function(){return this.__altered},Dt.prototype.__iterator=function(au,su){return new Ft(this,au,su)},Dt.prototype.__iterate=function(au,su){var fu=this,cu=0;return this._root&&this._root.iterate((function(su){return cu++,au(su[1],su[0],fu)}),su),cu},Dt.prototype.__ensureOwner=function(au){return au===this.__ownerID?this:au?At(this.size,this._root,au,this.__hash):(this.__ownerID=au,this.__altered=!1,this)},Dt.isMap=lt;var Pu="@@__IMMUTABLE_MAP__@@",qu=Dt.prototype;qu[Pu]=!0,qu.delete=qu.remove,qu.removeIn=qu.deleteIn,ht.prototype.get=function(au,su,fu,cu){for(var Du=this.entries,lu=0,hu=Du.length;lu<hu;lu++)if(V(fu,Du[lu][0]))return Du[lu][1];return cu},ht.prototype.update=function(au,su,fu,cu,Du,lu,hu){for(var pu=Du===du,_u=this.entries,vu=0,Fu=_u.length;vu<Fu&&!V(cu,_u[vu][0]);vu++);var Eu=vu<Fu;if(Eu?_u[vu][1]===Du:pu)return this;if(D(hu),(pu||!Eu)&&D(lu),!pu||1!==_u.length){if(!Eu&&!pu&&_u.length>=Uu)return wt(au,_u,cu,Du);var Cu=au&&au===this.ownerID,Au=Cu?_u:h(_u);return Eu?pu?vu===Fu-1?Au.pop():Au[vu]=Au.pop():Au[vu]=[cu,Du]:Au.push([cu,Du]),Cu?(this.entries=Au,this):new ht(au,Au)}},pt.prototype.get=function(au,su,fu,cu){void 0===su&&(su=it(fu));var Du=1<<((0===au?su:su>>>au)&pu),hu=this.bitmap;return 0==(hu&Du)?cu:this.nodes[Rt(hu&Du-1)].get(au+lu,su,fu,cu)},pt.prototype.update=function(au,su,fu,cu,Du,hu,_u){void 0===fu&&(fu=it(cu));var vu=(0===su?fu:fu>>>su)&pu,Fu=1<<vu,Eu=this.bitmap,Cu=0!=(Eu&Fu);if(!Cu&&Du===du)return this;var Au=Rt(Eu&Fu-1),yu=this.nodes,Bu=Cu?yu[Au]:void 0,gu=gt(Bu,au,su+lu,fu,cu,Du,hu,_u);if(gu===Bu)return this;if(!Cu&&gu&&yu.length>=Hu)return It(au,yu,Eu,vu,gu);if(Cu&&!gu&&2===yu.length&&mt(yu[1^Au]))return yu[1^Au];if(Cu&&gu&&1===yu.length&&mt(gu))return gu;var mu=au&&au===this.ownerID,Su=Cu?gu?Eu:Eu^Fu:Eu|Fu,wu=Cu?gu?kt(yu,Au,gu,mu):Pt(yu,Au,mu):jt(yu,Au,gu,mu);return mu?(this.bitmap=Su,this.nodes=wu,this):new pt(au,Su,wu)},dt.prototype.get=function(au,su,fu,cu){void 0===su&&(su=it(fu));var Du=(0===au?su:su>>>au)&pu,hu=this.nodes[Du];return hu?hu.get(au+lu,su,fu,cu):cu},dt.prototype.update=function(au,su,fu,cu,Du,hu,_u){void 0===fu&&(fu=it(cu));var vu=(0===su?fu:fu>>>su)&pu,Fu=Du===du,Eu=this.nodes,Cu=Eu[vu];if(Fu&&!Cu)return this;var Au=gt(Cu,au,su+lu,fu,cu,Du,hu,_u);if(Au===Cu)return this;var yu=this.count;if(Cu){if(!Au&&--yu<Wu)return bt(au,Eu,yu,vu)}else yu++;var Bu=au&&au===this.ownerID,gu=kt(Eu,vu,Au,Bu);return Bu?(this.count=yu,this.nodes=gu,this):new dt(au,yu,gu)},_t.prototype.get=function(au,su,fu,cu){for(var Du=this.entries,lu=0,hu=Du.length;lu<hu;lu++)if(V(fu,Du[lu][0]))return Du[lu][1];return cu},_t.prototype.update=function(au,su,fu,cu,Du,lu,hu){void 0===fu&&(fu=it(cu));var pu=Du===du;if(fu!==this.keyHash)return pu?this:(D(hu),D(lu),St(this,au,su,fu,[cu,Du]));for(var _u=this.entries,vu=0,Fu=_u.length;vu<Fu&&!V(cu,_u[vu][0]);vu++);var Eu=vu<Fu;if(Eu?_u[vu][1]===Du:pu)return this;if(D(hu),(pu||!Eu)&&D(lu),pu&&2===Fu)return new vt(au,this.keyHash,_u[1^vu]);var Cu=au&&au===this.ownerID,Au=Cu?_u:h(_u);return Eu?pu?vu===Fu-1?Au.pop():Au[vu]=Au.pop():Au[vu]=[cu,Du]:Au.push([cu,Du]),Cu?(this.entries=Au,this):new _t(au,this.keyHash,Au)},vt.prototype.get=function(au,su,fu,cu){return V(fu,this.entry[0])?this.entry[1]:cu},vt.prototype.update=function(au,su,fu,cu,Du,lu,hu){var pu=Du===du,_u=V(cu,this.entry[0]);return(_u?Du===this.entry[1]:pu)?this:(D(hu),pu?void D(lu):_u?au&&au===this.ownerID?(this.entry[1]=Du,this):new vt(au,this.keyHash,[cu,Du]):(D(lu),St(this,au,su,it(cu),[cu,Du])))},ht.prototype.iterate=_t.prototype.iterate=function(au,su){for(var fu=this.entries,cu=0,Du=fu.length-1;cu<=Du;cu++)if(!1===au(fu[su?Du-cu:cu]))return!1},pt.prototype.iterate=dt.prototype.iterate=function(au,su){for(var fu=this.nodes,cu=0,Du=fu.length-1;cu<=Du;cu++){var lu=fu[su?Du-cu:cu];if(lu&&!1===lu.iterate(au,su))return!1}},vt.prototype.iterate=function(au,su){return au(this.entry)},t(Ft,A),Ft.prototype.next=function(){for(var au=this._type,su=this._stack;su;){var fu,cu=su.node,Du=su.index++;if(cu.entry){if(0===Du)return Et(au,cu.entry)}else if(cu.entries){if(Du<=(fu=cu.entries.length-1))return Et(au,cu.entries[this._reverse?fu-Du:Du])}else if(Du<=(fu=cu.nodes.length-1)){var lu=cu.nodes[this._reverse?fu-Du:Du];if(lu){if(lu.entry)return Et(au,lu.entry);su=this._stack=Ct(lu,su)}continue}su=this._stack=this._stack.__prev}return B()};var Nu,Uu=hu/4,Hu=hu/2,Wu=hu/4;t(Tt,ut),Tt.of=function(){return this(arguments)},Tt.prototype.toString=function(){return this.__toString("List [","]")},Tt.prototype.get=function(au,su){if((au=d(this,au))>=0&&au<this.size){var fu=Gt(this,au+=this._origin);return fu&&fu.array[au&pu]}return su},Tt.prototype.set=function(au,su){return Jt(this,au,su)},Tt.prototype.remove=function(au){return this.has(au)?0===au?this.shift():au===this.size-1?this.pop():this.splice(au,1):this},Tt.prototype.insert=function(au,su){return this.splice(au,0,su)},Tt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=lu,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Kt()},Tt.prototype.push=function(){var au=arguments,su=this.size;return this.withMutations((function(fu){Vt(fu,0,su+au.length);for(var cu=0;cu<au.length;cu++)fu.set(su+cu,au[cu])}))},Tt.prototype.pop=function(){return Vt(this,0,-1)},Tt.prototype.unshift=function(){var au=arguments;return this.withMutations((function(su){Vt(su,-au.length);for(var fu=0;fu<au.length;fu++)su.set(fu,au[fu])}))},Tt.prototype.shift=function(){return Vt(this,1)},Tt.prototype.merge=function(){return Yt(this,void 0,arguments)},Tt.prototype.mergeWith=function(su){return Yt(this,su,au.call(arguments,1))},Tt.prototype.mergeDeep=function(){return Yt(this,Lt,arguments)},Tt.prototype.mergeDeepWith=function(su){var fu=au.call(arguments,1);return Yt(this,Mt(su),fu)},Tt.prototype.setSize=function(au){return Vt(this,0,au)},Tt.prototype.slice=function(au,su){var fu=this.size;return v(au,su,fu)?this:Vt(this,F(au,fu),E(su,fu))},Tt.prototype.__iterator=function(au,su){var fu=0,cu=Ut(this,su);return new A((function(){var su=cu();return su===Qu?B():y(au,fu++,su)}))},Tt.prototype.__iterate=function(au,su){for(var fu,cu=0,Du=Ut(this,su);(fu=Du())!==Qu&&!1!==au(fu,cu++,this););return cu},Tt.prototype.__ensureOwner=function(au){return au===this.__ownerID?this:au?Wt(this._origin,this._capacity,this._level,this._root,this._tail,au,this.__hash):(this.__ownerID=au,this)},Tt.isList=qt;var Ku="@@__IMMUTABLE_LIST__@@",Vu=Tt.prototype;Vu[Ku]=!0,Vu.delete=Vu.remove,Vu.setIn=qu.setIn,Vu.deleteIn=Vu.removeIn=qu.removeIn,Vu.update=qu.update,Vu.updateIn=qu.updateIn,Vu.mergeIn=qu.mergeIn,Vu.mergeDeepIn=qu.mergeDeepIn,Vu.withMutations=qu.withMutations,Vu.asMutable=qu.asMutable,Vu.asImmutable=qu.asImmutable,Vu.wasAltered=qu.wasAltered,Nt.prototype.removeBefore=function(au,su,fu){if(fu===su?1<<su:0===this.array.length)return this;var cu=fu>>>su&pu;if(cu>=this.array.length)return new Nt([],au);var Du,hu=0===cu;if(su>0){var du=this.array[cu];if((Du=du&&du.removeBefore(au,su-lu,fu))===du&&hu)return this}if(hu&&!Du)return this;var _u=Xt(this,au);if(!hu)for(var vu=0;vu<cu;vu++)_u.array[vu]=void 0;return Du&&(_u.array[cu]=Du),_u},Nt.prototype.removeAfter=function(au,su,fu){if(fu===(su?1<<su:0)||0===this.array.length)return this;var cu,Du=fu-1>>>su&pu;if(Du>=this.array.length)return this;if(su>0){var hu=this.array[Du];if((cu=hu&&hu.removeAfter(au,su-lu,fu))===hu&&Du===this.array.length-1)return this}var du=Xt(this,au);return du.array.splice(Du+1),cu&&(du.array[Du]=cu),du};var Ju,$u,Qu={};t($t,Dt),$t.of=function(){return this(arguments)},$t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},$t.prototype.get=function(au,su){var fu=this._map.get(au);return void 0!==fu?this._list.get(fu)[1]:su},$t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},$t.prototype.set=function(au,su){return ue(this,au,su)},$t.prototype.remove=function(au){return ue(this,au,du)},$t.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},$t.prototype.__iterate=function(au,su){var fu=this;return this._list.__iterate((function(su){return su&&au(su[1],su[0],fu)}),su)},$t.prototype.__iterator=function(au,su){return this._list.fromEntrySeq().__iterator(au,su)},$t.prototype.__ensureOwner=function(au){if(au===this.__ownerID)return this;var su=this._map.__ensureOwner(au),fu=this._list.__ensureOwner(au);return au?te(su,fu,au,this.__hash):(this.__ownerID=au,this._map=su,this._list=fu,this)},$t.isOrderedMap=Zt,$t.prototype[Du]=!0,$t.prototype.delete=$t.prototype.remove,t(re,x),re.prototype.get=function(au,su){return this._iter.get(au,su)},re.prototype.has=function(au){return this._iter.has(au)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var au=this,su=fe(this,!0);return this._useKeys||(su.valueSeq=function(){return au._iter.toSeq().reverse()}),su},re.prototype.map=function(au,su){var fu=this,cu=se(this,au,su);return this._useKeys||(cu.valueSeq=function(){return fu._iter.toSeq().map(au,su)}),cu},re.prototype.__iterate=function(au,su){var fu,cu=this;return this._iter.__iterate(this._useKeys?function(su,fu){return au(su,fu,cu)}:(fu=su?Se(this):0,function(Du){return au(Du,su?--fu:fu++,cu)}),su)},re.prototype.__iterator=function(au,su){if(this._useKeys)return this._iter.__iterator(au,su);var fu=this._iter.__iterator(Eu,su),cu=su?Se(this):0;return new A((function(){var Du=fu.next();return Du.done?Du:y(au,su?--cu:cu++,Du.value,Du)}))},re.prototype[Du]=!0,t(ne,L),ne.prototype.includes=function(au){return this._iter.includes(au)},ne.prototype.__iterate=function(au,su){var fu=this,cu=0;return this._iter.__iterate((function(su){return au(su,cu++,fu)}),su)},ne.prototype.__iterator=function(au,su){var fu=this._iter.__iterator(Eu,su),cu=0;return new A((function(){var su=fu.next();return su.done?su:y(au,cu++,su.value,su)}))},t(ie,M),ie.prototype.has=function(au){return this._iter.includes(au)},ie.prototype.__iterate=function(au,su){var fu=this;return this._iter.__iterate((function(su){return au(su,su,fu)}),su)},ie.prototype.__iterator=function(au,su){var fu=this._iter.__iterator(Eu,su);return new A((function(){var su=fu.next();return su.done?su:y(au,su.value,su.value,su)}))},t(oe,x),oe.prototype.entrySeq=function(){return this._iter.toSeq()},oe.prototype.__iterate=function(au,su){var fu=this;return this._iter.__iterate((function(su){if(su){me(su);var cu=i(su);return au(cu?su.get(1):su[1],cu?su.get(0):su[0],fu)}}),su)},oe.prototype.__iterator=function(au,su){var fu=this._iter.__iterator(Eu,su);return new A((function(){for(;;){var su=fu.next();if(su.done)return su;var cu=su.value;if(cu){me(cu);var Du=i(cu);return y(au,Du?cu.get(0):cu[0],Du?cu.get(1):cu[1],su)}}}))},ne.prototype.cacheResult=re.prototype.cacheResult=ie.prototype.cacheResult=oe.prototype.cacheResult=Ie,t(Me,et),Me.prototype.toString=function(){return this.__toString(Oe(this)+" {","}")},Me.prototype.has=function(au){return this._defaultValues.hasOwnProperty(au)},Me.prototype.get=function(au,su){if(!this.has(au))return su;var fu=this._defaultValues[au];return this._map?this._map.get(au,fu):fu},Me.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var au=this.constructor;return au._empty||(au._empty=ze(this,yt()))},Me.prototype.set=function(au,su){if(!this.has(au))throw new Error('Cannot set unknown key "'+au+'" on '+Oe(this));if(this._map&&!this._map.has(au)&&su===this._defaultValues[au])return this;var fu=this._map&&this._map.set(au,su);return this.__ownerID||fu===this._map?this:ze(this,fu)},Me.prototype.remove=function(au){if(!this.has(au))return this;var su=this._map&&this._map.remove(au);return this.__ownerID||su===this._map?this:ze(this,su)},Me.prototype.wasAltered=function(){return this._map.wasAltered()},Me.prototype.__iterator=function(au,su){var fu=this;return u(this._defaultValues).map((function(au,su){return fu.get(su)})).__iterator(au,su)},Me.prototype.__iterate=function(au,su){var fu=this;return u(this._defaultValues).map((function(au,su){return fu.get(su)})).__iterate(au,su)},Me.prototype.__ensureOwner=function(au){if(au===this.__ownerID)return this;var su=this._map&&this._map.__ensureOwner(au);return au?ze(this,su,au):(this.__ownerID=au,this._map=su,this)};var Xu=Me.prototype;Xu.delete=Xu.remove,Xu.deleteIn=Xu.removeIn=qu.removeIn,Xu.merge=qu.merge,Xu.mergeWith=qu.mergeWith,Xu.mergeIn=qu.mergeIn,Xu.mergeDeep=qu.mergeDeep,Xu.mergeDeepWith=qu.mergeDeepWith,Xu.mergeDeepIn=qu.mergeDeepIn,Xu.setIn=qu.setIn,Xu.update=qu.update,Xu.updateIn=qu.updateIn,Xu.withMutations=qu.withMutations,Xu.asMutable=qu.asMutable,Xu.asImmutable=qu.asImmutable,t(je,rt),je.of=function(){return this(arguments)},je.fromKeys=function(au){return this(u(au).keySeq())},je.prototype.toString=function(){return this.__toString("Set {","}")},je.prototype.has=function(au){return this._map.has(au)},je.prototype.add=function(au){return Te(this,this._map.set(au,!0))},je.prototype.remove=function(au){return Te(this,this._map.remove(au))},je.prototype.clear=function(){return Te(this,this._map.clear())},je.prototype.union=function(){var su=au.call(arguments,0);return 0===(su=su.filter((function(au){return 0!==au.size}))).length?this:0!==this.size||this.__ownerID||1!==su.length?this.withMutations((function(au){for(var fu=0;fu<su.length;fu++)n(su[fu]).forEach((function(su){return au.add(su)}))})):this.constructor(su[0])},je.prototype.intersect=function(){var su=au.call(arguments,0);if(0===su.length)return this;su=su.map((function(au){return n(au)}));var fu=this;return this.withMutations((function(au){fu.forEach((function(fu){su.every((function(au){return au.includes(fu)}))||au.remove(fu)}))}))},je.prototype.subtract=function(){var su=au.call(arguments,0);if(0===su.length)return this;su=su.map((function(au){return n(au)}));var fu=this;return this.withMutations((function(au){fu.forEach((function(fu){su.some((function(au){return au.includes(fu)}))&&au.remove(fu)}))}))},je.prototype.merge=function(){return this.union.apply(this,arguments)},je.prototype.mergeWith=function(su){var fu=au.call(arguments,1);return this.union.apply(this,fu)},je.prototype.sort=function(au){return Ue(Ce(this,au))},je.prototype.sortBy=function(au,su){return Ue(Ce(this,su,au))},je.prototype.wasAltered=function(){return this._map.wasAltered()},je.prototype.__iterate=function(au,su){var fu=this;return this._map.__iterate((function(su,cu){return au(cu,cu,fu)}),su)},je.prototype.__iterator=function(au,su){return this._map.map((function(au,su){return su})).__iterator(au,su)},je.prototype.__ensureOwner=function(au){if(au===this.__ownerID)return this;var su=this._map.__ensureOwner(au);return au?this.__make(su,au):(this.__ownerID=au,this._map=su,this)},je.isSet=Pe;var Zu,Yu="@@__IMMUTABLE_SET__@@",Gu=je.prototype;Gu[Yu]=!0,Gu.delete=Gu.remove,Gu.mergeDeep=Gu.merge,Gu.mergeDeepWith=Gu.mergeWith,Gu.withMutations=qu.withMutations,Gu.asMutable=qu.asMutable,Gu.asImmutable=qu.asImmutable,Gu.__empty=Ne,Gu.__make=qe,t(Ue,je),Ue.of=function(){return this(arguments)},Ue.fromKeys=function(au){return this(u(au).keySeq())},Ue.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ue.isOrderedSet=We;var tr,er=Ue.prototype;er[Du]=!0,er.__empty=Je,er.__make=Ke,t(He,ut),He.of=function(){return this(arguments)},He.prototype.toString=function(){return this.__toString("Stack [","]")},He.prototype.get=function(au,su){var fu=this._head;for(au=d(this,au);fu&&au--;)fu=fu.next;return fu?fu.value:su},He.prototype.peek=function(){return this._head&&this._head.value},He.prototype.push=function(){if(0===arguments.length)return this;for(var au=this.size+arguments.length,su=this._head,fu=arguments.length-1;fu>=0;fu--)su={value:arguments[fu],next:su};return this.__ownerID?(this.size=au,this._head=su,this.__hash=void 0,this.__altered=!0,this):Ge(au,su)},He.prototype.pushAll=function(au){if(0===(au=r(au)).size)return this;ct(au.size);var su=this.size,fu=this._head;return au.reverse().forEach((function(au){su++,fu={value:au,next:fu}})),this.__ownerID?(this.size=su,this._head=fu,this.__hash=void 0,this.__altered=!0,this):Ge(su,fu)},He.prototype.pop=function(){return this.slice(1)},He.prototype.unshift=function(){return this.push.apply(this,arguments)},He.prototype.unshiftAll=function(au){return this.pushAll(au)},He.prototype.shift=function(){return this.pop.apply(this,arguments)},He.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ve()},He.prototype.slice=function(au,su){if(v(au,su,this.size))return this;var fu=F(au,this.size);if(E(su,this.size)!==this.size)return ut.prototype.slice.call(this,au,su);for(var cu=this.size-fu,Du=this._head;fu--;)Du=Du.next;return this.__ownerID?(this.size=cu,this._head=Du,this.__hash=void 0,this.__altered=!0,this):Ge(cu,Du)},He.prototype.__ensureOwner=function(au){return au===this.__ownerID?this:au?Ge(this.size,this._head,au,this.__hash):(this.__ownerID=au,this.__altered=!1,this)},He.prototype.__iterate=function(au,su){if(su)return this.reverse().__iterate(au);for(var fu=0,cu=this._head;cu&&!1!==au(cu.value,fu++,this);)cu=cu.next;return fu},He.prototype.__iterator=function(au,su){if(su)return this.reverse().__iterator(au);var fu=0,cu=this._head;return new A((function(){if(cu){var su=cu.value;return cu=cu.next,y(au,fu++,su)}return B()}))},He.isStack=Xe;var ur,rr="@@__IMMUTABLE_STACK__@@",nr=He.prototype;nr[rr]=!0,nr.withMutations=qu.withMutations,nr.asMutable=qu.asMutable,nr.asImmutable=qu.asImmutable,nr.wasAltered=qu.wasAltered,e.Iterator=A,Ye(e,{toArray:function(){ct(this.size);var au=new Array(this.size||0);return this.valueSeq().__iterate((function(su,fu){au[fu]=su})),au},toIndexedSeq:function(){return new ne(this)},toJS:function(){return this.toSeq().map((function(au){return au&&"function"==typeof au.toJS?au.toJS():au})).__toJS()},toJSON:function(){return this.toSeq().map((function(au){return au&&"function"==typeof au.toJSON?au.toJSON():au})).__toJS()},toKeyedSeq:function(){return new re(this,!0)},toMap:function(){return Dt(this.toKeyedSeq())},toObject:function(){ct(this.size);var au={};return this.__iterate((function(su,fu){au[fu]=su})),au},toOrderedMap:function(){return $t(this.toKeyedSeq())},toOrderedSet:function(){return Ue(o(this)?this.valueSeq():this)},toSet:function(){return je(o(this)?this.valueSeq():this)},toSetSeq:function(){return new ie(this)},toSeq:function(){return a(this)?this.toIndexedSeq():o(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return He(o(this)?this.valueSeq():this)},toList:function(){return Tt(o(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(au,su){return 0===this.size?au+su:au+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+su},concat:function(){return ge(this,_e(this,au.call(arguments,0)))},includes:function(au){return this.some((function(su){return V(su,au)}))},entries:function(){return this.__iterator(Cu)},every:function(au,su){ct(this.size);var fu=!0;return this.__iterate((function(cu,Du,lu){if(!au.call(su,cu,Du,lu))return fu=!1,!1})),fu},filter:function(au,su){return ge(this,ce(this,au,su,!0))},find:function(au,su,fu){var cu=this.findEntry(au,su);return cu?cu[1]:fu},forEach:function(au,su){return ct(this.size),this.__iterate(su?au.bind(su):au)},join:function(au){ct(this.size),au=void 0!==au?""+au:",";var su="",fu=!0;return this.__iterate((function(cu){fu?fu=!1:su+=au,su+=null!=cu?cu.toString():""})),su},keys:function(){return this.__iterator(Fu)},map:function(au,su){return ge(this,se(this,au,su))},reduce:function(au,su,fu){var cu,Du;return ct(this.size),arguments.length<2?Du=!0:cu=su,this.__iterate((function(su,lu,hu){Du?(Du=!1,cu=su):cu=au.call(fu,cu,su,lu,hu)})),cu},reduceRight:function(au,su,fu){var cu=this.toKeyedSeq().reverse();return cu.reduce.apply(cu,arguments)},reverse:function(){return ge(this,fe(this,!0))},slice:function(au,su){return ge(this,he(this,au,su,!0))},some:function(au,su){return!this.every(Ze(au),su)},sort:function(au){return ge(this,Ce(this,au))},values:function(){return this.__iterator(Eu)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(au,su){return p(au?this.toSeq().filter(au,su):this)},countBy:function(au,su){return De(this,au,su)},equals:function(au){return Y(this,au)},entrySeq:function(){var au=this;if(au._cache)return new z(au._cache);var su=au.toSeq().map($e).toIndexedSeq();return su.fromEntrySeq=function(){return au.toSeq()},su},filterNot:function(au,su){return this.filter(Ze(au),su)},findEntry:function(au,su,fu){var cu=fu;return this.__iterate((function(fu,Du,lu){if(au.call(su,fu,Du,lu))return cu=[Du,fu],!1})),cu},findKey:function(au,su){var fu=this.findEntry(au,su);return fu&&fu[0]},findLast:function(au,su,fu){return this.toKeyedSeq().reverse().find(au,su,fu)},findLastEntry:function(au,su,fu){return this.toKeyedSeq().reverse().findEntry(au,su,fu)},findLastKey:function(au,su){return this.toKeyedSeq().reverse().findKey(au,su)},first:function(){return this.find(_)},flatMap:function(au,su){return ge(this,Fe(this,au,su))},flatten:function(au){return ge(this,ve(this,au,!0))},fromEntrySeq:function(){return new oe(this)},get:function(au,su){return this.find((function(su,fu){return V(fu,au)}),void 0,su)},getIn:function(au,su){for(var fu,cu=this,Du=Le(au);!(fu=Du.next()).done;){var lu=fu.value;if((cu=cu&&cu.get?cu.get(lu,du):du)===du)return su}return cu},groupBy:function(au,su){return le(this,au,su)},has:function(au){return this.get(au,du)!==du},hasIn:function(au){return this.getIn(au,du)!==du},isSubset:function(au){return au="function"==typeof au.includes?au:e(au),this.every((function(su){return au.includes(su)}))},isSuperset:function(au){return(au="function"==typeof au.isSubset?au:e(au)).isSubset(this)},keyOf:function(au){return this.findKey((function(su){return V(su,au)}))},keySeq:function(){return this.toSeq().map(Qe).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(au){return this.toKeyedSeq().reverse().keyOf(au)},max:function(au){return Ae(this,au)},maxBy:function(au,su){return Ae(this,su,au)},min:function(au){return Ae(this,au?tu(au):ru)},minBy:function(au,su){return Ae(this,su?tu(su):ru,au)},rest:function(){return this.slice(1)},skip:function(au){return this.slice(Math.max(0,au))},skipLast:function(au){return ge(this,this.toSeq().reverse().skip(au).reverse())},skipWhile:function(au,su){return ge(this,de(this,au,su,!0))},skipUntil:function(au,su){return this.skipWhile(Ze(au),su)},sortBy:function(au,su){return ge(this,Ce(this,su,au))},take:function(au){return this.slice(0,Math.max(0,au))},takeLast:function(au){return ge(this,this.toSeq().reverse().take(au).reverse())},takeWhile:function(au,su){return ge(this,pe(this,au,su))},takeUntil:function(au,su){return this.takeWhile(Ze(au),su)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=nu(this))}});var ir=e.prototype;ir[su]=!0,ir[Bu]=ir.values,ir.__toJS=ir.toArray,ir.__toStringMapper=eu,ir.inspect=ir.toSource=function(){return this.toString()},ir.chain=ir.flatMap,ir.contains=ir.includes,Ye(u,{flip:function(){return ge(this,ae(this))},mapEntries:function(au,su){var fu=this,cu=0;return ge(this,this.toSeq().map((function(Du,lu){return au.call(su,[lu,Du],cu++,fu)})).fromEntrySeq())},mapKeys:function(au,su){var fu=this;return ge(this,this.toSeq().flip().map((function(cu,Du){return au.call(su,cu,Du,fu)})).flip())}});var or=u.prototype;return or[fu]=!0,or[Bu]=ir.entries,or.__toJS=ir.toObject,or.__toStringMapper=function(au,su){return JSON.stringify(su)+": "+eu(au)},Ye(r,{toKeyedSeq:function(){return new re(this,!1)},filter:function(au,su){return ge(this,ce(this,au,su,!1))},findIndex:function(au,su){var fu=this.findEntry(au,su);return fu?fu[0]:-1},indexOf:function(au){var su=this.keyOf(au);return void 0===su?-1:su},lastIndexOf:function(au){var su=this.lastKeyOf(au);return void 0===su?-1:su},reverse:function(){return ge(this,fe(this,!1))},slice:function(au,su){return ge(this,he(this,au,su,!1))},splice:function(au,su){var fu=arguments.length;if(su=Math.max(0|su,0),0===fu||2===fu&&!su)return this;au=F(au,au<0?this.count():this.size);var cu=this.slice(0,au);return ge(this,1===fu?cu:cu.concat(h(arguments,2),this.slice(au+su)))},findLastIndex:function(au,su){var fu=this.findLastEntry(au,su);return fu?fu[0]:-1},first:function(){return this.get(0)},flatten:function(au){return ge(this,ve(this,au,!1))},get:function(au,su){return(au=d(this,au))<0||this.size===1/0||void 0!==this.size&&au>this.size?su:this.find((function(su,fu){return fu===au}),void 0,su)},has:function(au){return(au=d(this,au))>=0&&(void 0!==this.size?this.size===1/0||au<this.size:-1!==this.indexOf(au))},interpose:function(au){return ge(this,Ee(this,au))},interleave:function(){var au=[this].concat(h(arguments)),su=Be(this.toSeq(),L.of,au),fu=su.flatten(!0);return su.size&&(fu.size=su.size*au.length),ge(this,fu)},keySeq:function(){return Z(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(au,su){return ge(this,de(this,au,su,!1))},zip:function(){return ge(this,Be(this,uu,[this].concat(h(arguments))))},zipWith:function(au){var su=h(arguments);return su[0]=this,ge(this,Be(this,au,su))}}),r.prototype[cu]=!0,r.prototype[Du]=!0,Ye(n,{get:function(au,su){return this.has(au)?au:su},includes:function(au){return this.has(au)},keySeq:function(){return this.valueSeq()}}),n.prototype.has=ir.includes,n.prototype.contains=n.prototype.includes,Ye(x,u.prototype),Ye(L,r.prototype),Ye(M,n.prototype),Ye(et,u.prototype),Ye(ut,r.prototype),Ye(rt,n.prototype),{Iterable:e,Seq:I,Collection:tt,Map:Dt,OrderedMap:$t,List:Tt,Stack:He,Set:je,OrderedSet:Ue,Record:Me,Range:Z,Repeat:Q,is:V,fromJS:J}}()},function(au,su){function n(au,su,fu){if(su!=su)return function r(au,su,fu,cu){for(var Du=au.length,lu=fu+(cu?1:-1);cu?lu--:++lu<Du;)if(su(au[lu],lu,au))return lu;return-1}(au,i,fu);for(var cu=fu-1,Du=au.length;++cu<Du;)if(au[cu]===su)return cu;return-1}function i(au){return au!=au}function a(au,su){return function u(au,su){for(var fu=-1,cu=au?au.length:0,Du=Array(cu);++fu<cu;)Du[fu]=su(au[fu],fu,au);return Du}(su,(function(su){return au[su]}))}function s(au,su){var fu=xu(au)||function h(au){return function d(au){return E(au)&&p(au)}(au)&&mu.call(au,"callee")&&(!wu.call(au,"callee")||Su.call(au)==hu)}(au)?function o(au,su){for(var fu=-1,cu=Array(au);++fu<au;)cu[fu]=su(fu);return cu}(au.length,String):[],cu=fu.length,Du=!!cu;for(var lu in au)!su&&!mu.call(au,lu)||Du&&("length"==lu||c(lu,cu))||fu.push(lu);return fu}function f(au){if(!function D(au){var su=au&&au.constructor;return au===("function"==typeof su&&su.prototype||gu)}(au))return bu(au);var su=[];for(var fu in Object(au))mu.call(au,fu)&&"constructor"!=fu&&su.push(fu);return su}function c(au,su){return!!(su=null==su?cu:su)&&("number"==typeof au||yu.test(au))&&au>-1&&au%1==0&&au<su}function p(au){return null!=au&&function v(au){return"number"==typeof au&&au>-1&&au%1==0&&au<=cu}(au.length)&&!function _(au){var su=F(au)?Su.call(au):"";return su==pu||su==du}(au)}function F(au){var su=typeof au;return!!au&&("object"==su||"function"==su)}function E(au){return!!au&&"object"==typeof au}var fu=1/0,cu=9007199254740991,Du=17976931348623157e292,lu=NaN,hu="[object Arguments]",pu="[object Function]",du="[object GeneratorFunction]",_u="[object String]",vu="[object Symbol]",Fu=/^\s+|\s+$/g,Eu=/^[-+]0x[0-9a-f]+$/i,Cu=/^0b[01]+$/i,Au=/^0o[0-7]+$/i,yu=/^(?:0|[1-9]\d*)$/,Bu=parseInt,gu=Object.prototype,mu=gu.hasOwnProperty,Su=gu.toString,wu=gu.propertyIsEnumerable,bu=function(au,su){return function(fu){return au(su(fu))}}(Object.keys,Object),Iu=Math.max,xu=Array.isArray;au.exports=function l(au,su,cu,hu){au=p(au)?au:function S(au){return au?a(au,function m(au){return p(au)?s(au):f(au)}(au)):[]}(au),cu=cu&&!hu?function B(au){var su=function y(au){if(!au)return 0===au?au:0;if((au=function g(au){if("number"==typeof au)return au;if(function A(au){return"symbol"==typeof au||E(au)&&Su.call(au)==vu}(au))return lu;if(F(au)){var su="function"==typeof au.valueOf?au.valueOf():au;au=F(su)?su+"":su}if("string"!=typeof au)return 0===au?au:+au;au=au.replace(Fu,"");var fu=Cu.test(au);return fu||Au.test(au)?Bu(au.slice(2),fu?2:8):Eu.test(au)?lu:+au}(au))===fu||au===-fu)return(au<0?-1:1)*Du;return au==au?au:0}(au),cu=su%1;return su==su?cu?su-cu:su:0}(cu):0;var pu=au.length;return cu<0&&(cu=Iu(pu+cu,0)),function C(au){return"string"==typeof au||!xu(au)&&E(au)&&Su.call(au)==_u}(au)?cu<=pu&&au.indexOf(su,cu)>-1:!!pu&&n(au,su,cu)>-1}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0}),su.Sequence=su.Run=su.Pairing=su.EmbeddingLevelState=su.DirectionalStatusStackEntry=su.BracketPairState=su.BracketPairStackEntry=su.decrease=su.increase=void 0;var cu=fu(1),Du=(0,cu.Record)({isolate:!1,level:0,override:"neutral"}),lu=(0,cu.Record)({directionalStatusStack:cu.Stack.of(new Du),bidiTypes:cu.List.of(),embeddingLevels:cu.List.of(),overflowEmbeddingCount:0,overflowIsolateCount:0,validIsolateCount:0}),hu=(0,cu.Record)({level:-1,from:0,to:0},"Run"),pu=(0,cu.Record)({runs:cu.List.of(),eos:"",sos:""},"Sequence"),du=(0,cu.Record)({point:0,position:0}),_u=(0,cu.Record)({open:0,close:0}),vu=(0,cu.Record)({stack:cu.Stack.of(),pairings:cu.List.of(),stackoverflow:!1});su.increase=function(au){return au+1},su.decrease=function(au){return au-1},su.BracketPairStackEntry=du,su.BracketPairState=vu,su.DirectionalStatusStackEntry=Du,su.EmbeddingLevelState=lu,su.Pairing=_u,su.Run=hu,su.Sequence=pu},function(au,su,fu){(function(su){function u(au,su,fu){switch(fu.length){case 0:return au.call(su);case 1:return au.call(su,fu[0]);case 2:return au.call(su,fu[0],fu[1]);case 3:return au.call(su,fu[0],fu[1],fu[2])}return au.apply(su,fu)}function r(au,su){for(var fu=-1,cu=su.length,Du=au.length;++fu<cu;)au[Du+fu]=su[fu];return au}function n(au,su,fu,cu,Du){var lu=-1,hu=au.length;for(fu||(fu=o),Du||(Du=[]);++lu<hu;){var pu=au[lu];su>0&&fu(pu)?su>1?n(pu,su-1,fu,cu,Du):r(Du,pu):cu||(Du[Du.length]=pu)}return Du}function o(au){return Bu(au)||function a(au){return function f(au){return function h(au){return!!au&&"object"==typeof au}(au)&&function s(au){return null!=au&&function D(au){return"number"==typeof au&&au>-1&&au%1==0&&au<=fu}(au.length)&&!function c(au){var su=function l(au){var su=typeof au;return!!au&&("object"==su||"function"==su)}(au)?Fu.call(au):"";return su==Du||su==lu}(au)}(au)}(au)&&vu.call(au,"callee")&&(!Cu.call(au,"callee")||Fu.call(au)==cu)}(au)||!!(Au&&au&&au[Au])}var fu=9007199254740991,cu="[object Arguments]",Du="[object Function]",lu="[object GeneratorFunction]",hu="object"==typeof su&&su&&su.Object===Object&&su,pu="object"==typeof self&&self&&self.Object===Object&&self,du=hu||pu||Function("return this")(),_u=Object.prototype,vu=_u.hasOwnProperty,Fu=_u.toString,Eu=du.Symbol,Cu=_u.propertyIsEnumerable,Au=Eu?Eu.isConcatSpreadable:void 0,yu=Math.max,Bu=Array.isArray,gu=function i(au,su){return su=yu(void 0===su?au.length-1:su,0),function(){for(var fu=arguments,cu=-1,Du=yu(fu.length-su,0),lu=Array(Du);++cu<Du;)lu[cu]=fu[su+cu];cu=-1;for(var hu=Array(su+1);++cu<su;)hu[cu]=fu[cu];return hu[su]=lu,u(au,this,hu)}}((function(au){for(var su=(au=n(au,1)).length,fu=su;fu--;)if("function"!=typeof au[fu])throw new TypeError("Expected a function");return function(){for(var fu=0,cu=su?au[fu].apply(this,arguments):arguments[0];++fu<su;)cu=au[fu].call(this,cu);return cu}}));au.exports=gu}).call(su,fu(5))},function(au,su){var fu;fu=function(){return this}();try{fu=fu||Function("return this")()||(0,eval)("this")}catch(au){"object"==typeof window&&(fu=window)}au.exports=fu},function(au,su){au.exports=function u(au){return void 0===au}},function(au,su,fu){"use strict";function r(au){return au&&au.__esModule?au:{default:au}}Object.defineProperty(su,"__esModule",{value:!0});var i=function(au,su){if(Array.isArray(au))return au;if(Symbol.iterator in Object(au))return function t(au,su){var fu=[],cu=!0,Du=!1,lu=void 0;try{for(var hu,pu=au[Symbol.iterator]();!(cu=(hu=pu.next()).done)&&(fu.push(hu.value),!su||fu.length!==su);cu=!0);}catch(au){Du=!0,lu=au}finally{try{!cu&&pu.return&&pu.return()}finally{if(Du)throw lu}}return fu}(au,su);throw new TypeError("Invalid attempt to destructure non-iterable instance")},cu=r(fu(2)),Du=fu(1),lu=r(fu(19)),hu=r(fu(30)),pu=r(fu(11)),du=r(fu(31)),_u=fu(0),vu=fu(3);su.default=function n(au,su){function u(au){var su=au.last().get("to")-1,fu=bu.get(su,-1);if(fu>-1){var cu=(0,du.default)(Eu,fu);return u(au.push(cu))}return au}var fu=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,Fu=(0,lu.default)(au,su,fu),Eu=Fu.runs,Cu=Fu.bidiTypes,Au=Fu.levels,yu=(0,hu.default)(au.zip(Cu,su).filter((function(au){var su=i(au,3),fu=(su[0],su[1]);return su[2],!1===(0,_u.isX9ControlCharacter)(fu)}))),Bu=i(yu,3),gu=Bu[0],mu=Bu[1],Su=Bu[2],wu=(0,pu.default)(gu),bu=wu.initiatorToPDI,Iu=wu.initiatorFromPDI;return{sequences:function(au){return au.map((function(au,su){var lu=gu.size,hu=au.get("runs").first().get("from"),pu=au.get("runs").last().get("to"),f=function(au){return(0,Du.Range)(0,lu).contains(au)?(0,du.default)(Eu,au).get("level"):fu},vu=f(hu-1),Fu=f(hu),Cu=function(au){var su=gu.get(pu-1),Du=bu.get(su,-1);return(0,cu.default)([_u.LRI,_u.RLI,_u.FSI],su)&&-1===Du?fu:f(pu)}(),Au=Math.max(vu,Fu)%2==1?"R":"L",yu=Math.max(Fu,Cu)%2==1?"R":"L";return au.set("sos",Au).set("eos",yu)}))}(Eu.filter((function(au){var su=au.get("from"),fu=gu.get(su),cu=Iu.get(su,-1);return fu!==_u.PDI||-1===cu})).reduce((function(au,su,fu){var cu=new vu.Sequence({runs:u(Du.List.of(su))});return au.push(cu)}),Du.List.of())),codepoints:gu,bidiTypes:mu,paragraphBidiTypes:Su,levels:Au}}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=function(au){return au&&au.__esModule?au:{default:au}}(fu(4)),Du=fu(0),lu=fu(3);su.default=function n(au,su,fu,hu){if(au!==Du.RLI)return hu;var pu=hu.get("directionalStatusStack").peek(),du=pu.get("level");return(0,cu.default)((function(au){return au.update("embeddingLevels",(function(au){return au.set(fu,du)}))}),(function(au){var su=pu.get("override");if("neutral"!==su){var cu="left-to-right"===su?"L":"R";return au.update("bidiTypes",(function(au){return au.set(fu,cu)}))}return au}),(function(au){var su=du+1+du%2;return su>Du.MAX_DEPTH||function r(au){var su=au.get("overflowIsolateCount"),fu=au.get("overflowEmbeddingCount");return su>0||fu>0}(au)?au.update("overflowIsolateCount",lu.increase):au.update("validIsolateCount",lu.increase).update("directionalStatusStack",(function(au){return au.push(new lu.DirectionalStatusStackEntry({isolate:!0,level:su}))}))}))(hu)}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=function(au){return au&&au.__esModule?au:{default:au}}(fu(4)),Du=fu(3),lu=fu(0);su.default=function n(au,su,fu,hu){if(au!==lu.LRI)return hu;var pu=hu.get("directionalStatusStack").peek(),du=pu.get("level");return(0,cu.default)((function(au){return au.update("embeddingLevels",(function(au){return au.set(fu,du)}))}),(function(au){var su=pu.get("override");if("neutral"!==su){var cu="left-to-right"===su?"L":"R";return au.update("bidiTypes",(function(au){return au.set(fu,cu)}))}return au}),(function(au){var su=du+1+(du+1)%2;return su>lu.MAX_DEPTH||function r(au){var su=au.get("overflowIsolateCount"),fu=au.get("overflowEmbeddingCount");return su>0||fu>0}(au)?au.update("overflowIsolateCount",Du.increase):au.update("validIsolateCount",Du.increase).update("directionalStatusStack",(function(au){return au.push(new Du.DirectionalStatusStackEntry({isolate:!0,level:su}))}))}))(hu)}},function(au,su,fu){"use strict";function r(au){return au&&au.__esModule?au:{default:au}}Object.defineProperty(su,"__esModule",{value:!0});var i=function(au,su){if(Array.isArray(au))return au;if(Symbol.iterator in Object(au))return function t(au,su){var fu=[],cu=!0,Du=!1,lu=void 0;try{for(var hu,pu=au[Symbol.iterator]();!(cu=(hu=pu.next()).done)&&(fu.push(hu.value),!su||fu.length!==su);cu=!0);}catch(au){Du=!0,lu=au}finally{try{!cu&&pu.return&&pu.return()}finally{if(Du)throw lu}}return fu}(au,su);throw new TypeError("Invalid attempt to destructure non-iterable instance")},cu=(r(fu(6)),fu(2)),Du=r(cu),lu=fu(1),hu=fu(0);su.default=function n(au,su){var fu=((0,lu.Record)({inside:!1,counter:0},"P2State"),au.reduce((function(au,su){var fu=au.get(-1,0);return au.push((0,Du.default)([hu.LRI,hu.RLI,hu.FSI],su)?fu+1:su===hu.PDI&&fu>0?fu-1:fu)}),lu.List.of()).map((function(au){return au>0}))),cu=au.zip(su,fu).filter((function(au){var su=i(au,3);return su[0],su[1],!1===su[2]})).map((function(au){var su=i(au,3),fu=(su[0],su[1]);return su[2],fu})).find((function(au){return(0,Du.default)(["L","R","AL"],au)}));return(0,Du.default)(["R","AL"],cu)?1:0}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var n=function(au,su){if(Array.isArray(au))return au;if(Symbol.iterator in Object(au))return function t(au,su){var fu=[],cu=!0,Du=!1,lu=void 0;try{for(var hu,pu=au[Symbol.iterator]();!(cu=(hu=pu.next()).done)&&(fu.push(hu.value),!su||fu.length!==su);cu=!0);}catch(au){Du=!0,lu=au}finally{try{!cu&&pu.return&&pu.return()}finally{if(Du)throw lu}}return fu}(au,su);throw new TypeError("Invalid attempt to destructure non-iterable instance")},cu=fu(1),Du=function(au){return au&&au.__esModule?au:{default:au}}(fu(26));su.default=function r(au){var su=au.size,fu=(0,cu.Range)().zip((0,cu.Range)(0,su).map((function(su){return(0,Du.default)(au,su)}))).filter((function(au){var su=n(au,2);return su[0],-1!==su[1]})),lu=fu.map((function(au){var su=n(au,2),fu=su[0];return[su[1],fu]}));return{initiatorToPDI:(0,cu.Map)(fu),initiatorFromPDI:(0,cu.Map)(lu)}}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var n=function(au,su){if(Array.isArray(au))return au;if(Symbol.iterator in Object(au))return function t(au,su){var fu=[],cu=!0,Du=!1,lu=void 0;try{for(var hu,pu=au[Symbol.iterator]();!(cu=(hu=pu.next()).done)&&(fu.push(hu.value),!su||fu.length!==su);cu=!0);}catch(au){Du=!0,lu=au}finally{try{!cu&&pu.return&&pu.return()}finally{if(Du)throw lu}}return fu}(au,su);throw new TypeError("Invalid attempt to destructure non-iterable instance")},cu=fu(1);su.default=function r(au){var su=au.reduce((function(au,su){var fu=n(su,2),cu=fu[0],Du=fu[1];return au.update(0,(function(au){return au.push(cu)})).update(1,(function(au){return au.push(Du)}))}),cu.List.of(cu.List.of(),cu.List.of()));return[su.get(0),su.get(1)]}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=new Set([40,91,123,3898,3900,5787,8261,8317,8333,8968,8970,9001,10088,10090,10092,10094,10096,10098,10100,10181,10214,10216,10218,10220,10222,10627,10629,10631,10633,10635,10637,10639,10641,10643,10645,10647,10712,10714,10748,11810,11812,11814,11816,12296,12298,12300,12302,12304,12308,12310,12312,12314,65113,65115,65117,65288,65339,65371,65375,65378]);su.default=cu},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=new Set([41,93,125,3899,3901,5788,8262,8318,8334,8969,8971,9002,10089,10091,10093,10095,10097,10099,10101,10182,10215,10217,10219,10221,10223,10628,10630,10632,10634,10636,10638,10640,10642,10644,10646,10648,10713,10715,10749,11811,11813,11815,11817,12297,12299,12301,12303,12305,12309,12311,12313,12315,65114,65116,65118,65289,65341,65373,65376,65379]);su.default=cu},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=new Map([[40,41],[41,40],[91,93],[93,91],[123,125],[125,123],[3898,3899],[3899,3898],[3900,3901],[3901,3900],[5787,5788],[5788,5787],[8261,8262],[8262,8261],[8317,8318],[8318,8317],[8333,8334],[8334,8333],[8968,8969],[8969,8968],[8970,8971],[8971,8970],[9001,9002],[9002,9001],[10088,10089],[10089,10088],[10090,10091],[10091,10090],[10092,10093],[10093,10092],[10094,10095],[10095,10094],[10096,10097],[10097,10096],[10098,10099],[10099,10098],[10100,10101],[10101,10100],[10181,10182],[10182,10181],[10214,10215],[10215,10214],[10216,10217],[10217,10216],[10218,10219],[10219,10218],[10220,10221],[10221,10220],[10222,10223],[10223,10222],[10627,10628],[10628,10627],[10629,10630],[10630,10629],[10631,10632],[10632,10631],[10633,10634],[10634,10633],[10635,10636],[10636,10635],[10637,10640],[10638,10639],[10639,10638],[10640,10637],[10641,10642],[10642,10641],[10643,10644],[10644,10643],[10645,10646],[10646,10645],[10647,10648],[10648,10647],[10712,10713],[10713,10712],[10714,10715],[10715,10714],[10748,10749],[10749,10748],[11810,11811],[11811,11810],[11812,11813],[11813,11812],[11814,11815],[11815,11814],[11816,11817],[11817,11816],[12296,12297],[12297,12296],[12298,12299],[12299,12298],[12300,12301],[12301,12300],[12302,12303],[12303,12302],[12304,12305],[12305,12304],[12308,12309],[12309,12308],[12310,12311],[12311,12310],[12312,12313],[12313,12312],[12314,12315],[12315,12314],[65113,65114],[65114,65113],[65115,65116],[65116,65115],[65117,65118],[65118,65117],[65288,65289],[65289,65288],[65339,65341],[65341,65339],[65371,65373],[65373,65371],[65375,65376],[65376,65375],[65378,65379],[65379,65378]]);su.default=cu},function(au,su){au.exports=new Map([[40,")"],[41,"("],[60,">"],[62,"<"],[91,"]"],[93,"["],[123,"}"],[125,"{"],[171,"»"],[187,"«"],[3898,"༻"],[3899,"༺"],[3900,"༽"],[3901,"༼"],[5787,"᚜"],[5788,"᚛"],[8249,"›"],[8250,"‹"],[8261,"⁆"],[8262,"⁅"],[8317,"⁾"],[8318,"⁽"],[8333,"₎"],[8334,"₍"],[8712,"∋"],[8713,"∌"],[8714,"∍"],[8715,"∈"],[8716,"∉"],[8717,"∊"],[8725,"⧵"],[8764,"∽"],[8765,"∼"],[8771,"⋍"],[8786,"≓"],[8787,"≒"],[8788,"≕"],[8789,"≔"],[8804,"≥"],[8805,"≤"],[8806,"≧"],[8807,"≦"],[8808,"≩"],[8809,"≨"],[8810,"≫"],[8811,"≪"],[8814,"≯"],[8815,"≮"],[8816,"≱"],[8817,"≰"],[8818,"≳"],[8819,"≲"],[8820,"≵"],[8821,"≴"],[8822,"≷"],[8823,"≶"],[8824,"≹"],[8825,"≸"],[8826,"≻"],[8827,"≺"],[8828,"≽"],[8829,"≼"],[8830,"≿"],[8831,"≾"],[8832,"⊁"],[8833,"⊀"],[8834,"⊃"],[8835,"⊂"],[8836,"⊅"],[8837,"⊄"],[8838,"⊇"],[8839,"⊆"],[8840,"⊉"],[8841,"⊈"],[8842,"⊋"],[8843,"⊊"],[8847,"⊐"],[8848,"⊏"],[8849,"⊒"],[8850,"⊑"],[8856,"⦸"],[8866,"⊣"],[8867,"⊢"],[8870,"⫞"],[8872,"⫤"],[8873,"⫣"],[8875,"⫥"],[8880,"⊱"],[8881,"⊰"],[8882,"⊳"],[8883,"⊲"],[8884,"⊵"],[8885,"⊴"],[8886,"⊷"],[8887,"⊶"],[8905,"⋊"],[8906,"⋉"],[8907,"⋌"],[8908,"⋋"],[8909,"≃"],[8912,"⋑"],[8913,"⋐"],[8918,"⋗"],[8919,"⋖"],[8920,"⋙"],[8921,"⋘"],[8922,"⋛"],[8923,"⋚"],[8924,"⋝"],[8925,"⋜"],[8926,"⋟"],[8927,"⋞"],[8928,"⋡"],[8929,"⋠"],[8930,"⋣"],[8931,"⋢"],[8932,"⋥"],[8933,"⋤"],[8934,"⋧"],[8935,"⋦"],[8936,"⋩"],[8937,"⋨"],[8938,"⋫"],[8939,"⋪"],[8940,"⋭"],[8941,"⋬"],[8944,"⋱"],[8945,"⋰"],[8946,"⋺"],[8947,"⋻"],[8948,"⋼"],[8950,"⋽"],[8951,"⋾"],[8954,"⋲"],[8955,"⋳"],[8956,"⋴"],[8957,"⋶"],[8958,"⋷"],[8968,"⌉"],[8969,"⌈"],[8970,"⌋"],[8971,"⌊"],[9001,"〉"],[9002,"〈"],[10088,"❩"],[10089,"❨"],[10090,"❫"],[10091,"❪"],[10092,"❭"],[10093,"❬"],[10094,"❯"],[10095,"❮"],[10096,"❱"],[10097,"❰"],[10098,"❳"],[10099,"❲"],[10100,"❵"],[10101,"❴"],[10179,"⟄"],[10180,"⟃"],[10181,"⟆"],[10182,"⟅"],[10184,"⟉"],[10185,"⟈"],[10187,"⟍"],[10189,"⟋"],[10197,"⟖"],[10198,"⟕"],[10205,"⟞"],[10206,"⟝"],[10210,"⟣"],[10211,"⟢"],[10212,"⟥"],[10213,"⟤"],[10214,"⟧"],[10215,"⟦"],[10216,"⟩"],[10217,"⟨"],[10218,"⟫"],[10219,"⟪"],[10220,"⟭"],[10221,"⟬"],[10222,"⟯"],[10223,"⟮"],[10627,"⦄"],[10628,"⦃"],[10629,"⦆"],[10630,"⦅"],[10631,"⦈"],[10632,"⦇"],[10633,"⦊"],[10634,"⦉"],[10635,"⦌"],[10636,"⦋"],[10637,"⦐"],[10638,"⦏"],[10639,"⦎"],[10640,"⦍"],[10641,"⦒"],[10642,"⦑"],[10643,"⦔"],[10644,"⦓"],[10645,"⦖"],[10646,"⦕"],[10647,"⦘"],[10648,"⦗"],[10680,"⊘"],[10688,"⧁"],[10689,"⧀"],[10692,"⧅"],[10693,"⧄"],[10703,"⧐"],[10704,"⧏"],[10705,"⧒"],[10706,"⧑"],[10708,"⧕"],[10709,"⧔"],[10712,"⧙"],[10713,"⧘"],[10714,"⧛"],[10715,"⧚"],[10741,"∕"],[10744,"⧹"],[10745,"⧸"],[10748,"⧽"],[10749,"⧼"],[10795,"⨬"],[10796,"⨫"],[10797,"⨮"],[10798,"⨭"],[10804,"⨵"],[10805,"⨴"],[10812,"⨽"],[10813,"⨼"],[10852,"⩥"],[10853,"⩤"],[10873,"⩺"],[10874,"⩹"],[10877,"⩾"],[10878,"⩽"],[10879,"⪀"],[10880,"⩿"],[10881,"⪂"],[10882,"⪁"],[10883,"⪄"],[10884,"⪃"],[10891,"⪌"],[10892,"⪋"],[10897,"⪒"],[10898,"⪑"],[10899,"⪔"],[10900,"⪓"],[10901,"⪖"],[10902,"⪕"],[10903,"⪘"],[10904,"⪗"],[10905,"⪚"],[10906,"⪙"],[10907,"⪜"],[10908,"⪛"],[10913,"⪢"],[10914,"⪡"],[10918,"⪧"],[10919,"⪦"],[10920,"⪩"],[10921,"⪨"],[10922,"⪫"],[10923,"⪪"],[10924,"⪭"],[10925,"⪬"],[10927,"⪰"],[10928,"⪯"],[10931,"⪴"],[10932,"⪳"],[10939,"⪼"],[10940,"⪻"],[10941,"⪾"],[10942,"⪽"],[10943,"⫀"],[10944,"⪿"],[10945,"⫂"],[10946,"⫁"],[10947,"⫄"],[10948,"⫃"],[10949,"⫆"],[10950,"⫅"],[10957,"⫎"],[10958,"⫍"],[10959,"⫐"],[10960,"⫏"],[10961,"⫒"],[10962,"⫑"],[10963,"⫔"],[10964,"⫓"],[10965,"⫖"],[10966,"⫕"],[10974,"⊦"],[10979,"⊩"],[10980,"⊨"],[10981,"⊫"],[10988,"⫭"],[10989,"⫬"],[10999,"⫸"],[11e3,"⫷"],[11001,"⫺"],[11002,"⫹"],[11778,"⸃"],[11779,"⸂"],[11780,"⸅"],[11781,"⸄"],[11785,"⸊"],[11786,"⸉"],[11788,"⸍"],[11789,"⸌"],[11804,"⸝"],[11805,"⸜"],[11808,"⸡"],[11809,"⸠"],[11810,"⸣"],[11811,"⸢"],[11812,"⸥"],[11813,"⸤"],[11814,"⸧"],[11815,"⸦"],[11816,"⸩"],[11817,"⸨"],[12296,"〉"],[12297,"〈"],[12298,"》"],[12299,"《"],[12300,"」"],[12301,"「"],[12302,"』"],[12303,"『"],[12304,"】"],[12305,"【"],[12308,"〕"],[12309,"〔"],[12310,"〗"],[12311,"〖"],[12312,"〙"],[12313,"〘"],[12314,"〛"],[12315,"〚"],[65113,"﹚"],[65114,"﹙"],[65115,"﹜"],[65116,"﹛"],[65117,"﹞"],[65118,"﹝"],[65124,"﹥"],[65125,"﹤"],[65288,"）"],[65289,"（"],[65308,"＞"],[65310,"＜"],[65339,"］"],[65341,"［"],[65371,"｝"],[65373,"｛"],[65375,"｠"],[65376,"｟"],[65378,"｣"],[65379,"｢"]])},function(au,su,fu){"use strict";function r(au){return au&&au.__esModule?au:{default:au}}Object.defineProperty(su,"__esModule",{value:!0}),su.constants=su.mirror=su.reorderPermutation=su.reorder=su.resolve=void 0;var cu=fu(18),Du=fu(48),lu=r(Du),hu=r(fu(50)),pu=r(fu(51)),du=fu(1),_u=r(fu(13)),vu=r(fu(14)),Fu=r(fu(15)),Eu=r(fu(16)),Cu=r(fu(53)),Au={mirrorMap:Eu.default,oppositeBracket:Fu.default,openingBrackets:_u.default,closingBrackets:vu.default};su.resolve=function n(au,su){var fu=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Du=pu.default.ucs2.encode(au),lu=Du.normalize("NFC"),_u=pu.default.ucs2.decode(lu),vu=(0,du.fromJS)(_u),Fu=vu.map(hu.default);return(0,cu.resolvedLevelsWithInvisibles)(vu,Fu,su,fu).toJS()},su.reorder=function i(au,su){var fu=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,lu.default)((0,du.fromJS)(au),(0,du.fromJS)(su),fu).toJS()},su.reorderPermutation=function o(au){return(0,Du.reorderPermutation)((0,du.fromJS)(au)).toJS()},su.mirror=function a(au,su){return(0,Cu.default)((0,du.fromJS)(au),(0,du.fromJS)(su)).toJS()},su.constants=Au},function(au,su,fu){"use strict";function r(au){return au&&au.__esModule?au:{default:au}}function i(au,su,fu){var lu=arguments.length>3&&void 0!==arguments[3]&&arguments[3],hu=!0===lu?(0,du.default)(au,su):fu,pu=(0,Du.default)(au,su,hu),Fu=pu.sequences,Cu=pu.codepoints,Au=pu.bidiTypes,yu=pu.paragraphBidiTypes,Bu=(pu.levels,(0,vu.default)(Cu,Au,Fu)),gu=Au.size,mu=Fu.reduce(o,(0,cu.List)((0,cu.Range)(0,gu)).map((function(au){return 0}))),Su=(0,_u.default)(Bu,mu);return(0,Eu.default)(yu,Su,hu)}function o(au,su){return su.get("runs").reduce((function(au,su){var fu=su.toJS(),Du=fu.from,lu=fu.to,hu=lu-Du,pu=su.get("level"),du=(0,cu.List)((0,cu.Range)(0,hu)).map((function(au){return pu}));return au.slice(0,Du).concat(du).concat(au.slice(lu))}),au)}Object.defineProperty(su,"__esModule",{value:!0}),su.resolvedLevelsWithInvisibles=void 0;var cu=fu(1),Du=r(fu(7)),lu=fu(0),hu=(r(fu(12)),fu(32)),pu=(r(hu),fu(10)),du=r(pu),_u=r(fu(33)),vu=r(fu(34)),Fu=(r(fu(2)),fu(47)),Eu=r(Fu);su.resolvedLevelsWithInvisibles=function n(au,su,fu){function r(au,su,fu){return 0===au.size?fu:(0,lu.isX9ControlCharacter)(au.first())?r(au.rest(),su,fu.push("x")):r(au.rest(),su.rest(),fu.push(su.first()))}return r(su,i(au,su,fu,arguments.length>3&&void 0!==arguments[3]&&arguments[3]),cu.List.of())},su.default=i},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var n=function(au,su){if(Array.isArray(au))return au;if(Symbol.iterator in Object(au))return function t(au,su){var fu=[],cu=!0,Du=!1,lu=void 0;try{for(var hu,pu=au[Symbol.iterator]();!(cu=(hu=pu.next()).done)&&(fu.push(hu.value),!su||fu.length!==su);cu=!0);}catch(au){Du=!0,lu=au}finally{try{!cu&&pu.return&&pu.return()}finally{if(Du)throw lu}}return fu}(au,su);throw new TypeError("Invalid attempt to destructure non-iterable instance")},cu=(function(au){au&&au.__esModule}(fu(2)),fu(1)),Du=fu(0),lu=fu(3),hu=fu(20);su.default=function r(au,su){var fu=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,pu=[hu.rle,hu.lre,hu.rlo,hu.lro,hu.rli,hu.lri,hu.fsi,hu.other,hu.pdi,hu.pdf],du=cu.Stack.of(new lu.DirectionalStatusStackEntry({level:fu})),_u=new lu.EmbeddingLevelState({directionalStatusStack:du}).set("bidiTypes",su).set("embeddingLevels",au.map((function(au){return fu}))),vu=au.zip(su).reduce((function(fu,cu,Du){var lu=n(cu,2),hu=lu[0],du=lu[1];return pu.reduce((function(fu,cu){return cu(hu,du,Du,fu,au,su)}),fu)}),_u);return{runs:au.zip(su,vu.get("embeddingLevels")).filter((function(au){var su=n(au,3),fu=(su[0],su[1]);return su[2],!1===(0,Du.isX9ControlCharacter)(fu)})).reduce((function(au,su,fu){var cu=n(su,3),Du=(cu[0],cu[1],cu[2]),hu=au.size-1;return au.getIn([hu,"level"],-1)===Du?au.updateIn([hu,"to"],lu.increase):au.push(new lu.Run({level:Du,from:fu,to:fu+1}))}),cu.List.of()),bidiTypes:vu.get("bidiTypes"),levels:vu.get("embeddingLevels")}}},function(au,su,fu){"use strict";function r(au){return au&&au.__esModule?au:{default:au}}Object.defineProperty(su,"__esModule",{value:!0}),su.pdf=su.pdi=su.other=su.fsi=su.lri=su.rli=su.lro=su.rlo=su.lre=su.rle=void 0;var cu=fu(21),Du=r(fu(22)),lu=r(fu(23)),hu=r(fu(24)),pu=r(fu(8)),du=r(fu(9)),_u=r(fu(25)),vu=r(fu(27)),Fu=fu(28),Eu=fu(29);su.rle=cu.rle,su.lre=Du.default,su.rlo=lu.default,su.lro=hu.default,su.rli=pu.default,su.lri=du.default,su.fsi=_u.default,su.other=vu.default,su.pdi=Fu.pdi,su.pdf=Eu.pdf},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0}),su.rle=void 0;var cu=fu(0),Du=fu(3),lu=function(au){return au&&au.__esModule?au:{default:au}}(fu(4));su.rle=function r(au,su,fu,hu){if(au!==cu.RLE)return hu;var pu=hu.get("directionalStatusStack").peek().get("level");return(0,lu.default)((function(au){return au.setIn(["embeddingLevels","levels",fu],pu)}),(function(au){var su=pu+1+pu%2,fu=su>cu.MAX_DEPTH,lu=au.get("overflowIsolateCount"),hu=au.get("overflowEmbeddingCount");if(fu||(lu>0||hu>0))return 0===lu?au.update("overflowEmbeddingCount",Du.increase):au;var du=new Du.DirectionalStatusStackEntry({level:su});return au.update("directionalStatusStack",(function(au){return au.push(du)}))}))(hu)}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=function(au){return au&&au.__esModule?au:{default:au}}(fu(4)),Du=fu(0),lu=fu(3);su.default=function r(au,su,fu,hu){if(au!==Du.LRE)return hu;var pu=hu.get("directionalStatusStack").peek().get("level");return(0,cu.default)((function(au){return au.setIn(["embeddingLevels","levels",fu],pu)}),(function(au){var su=pu+1+(pu+1)%2,fu=su>Du.MAX_DEPTH,cu=au.get("overflowIsolateCount"),hu=au.get("overflowEmbeddingCount");if(fu||(cu>0||hu>0))return 0===cu?au.update("overflowEmbeddingCount",lu.increase):au;var du=new lu.DirectionalStatusStackEntry({level:su});return au.update("directionalStatusStack",(function(au){return au.push(du)}))}))(hu)}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=fu(0),Du=fu(3);su.default=function r(au,su,fu,lu){if(au!==cu.RLO)return lu;var hu=lu.get("directionalStatusStack").peek().get("level"),pu=lu.get("overflowIsolateCount"),du=lu.get("overflowEmbeddingCount"),_u=hu+1+hu%2;return _u>cu.MAX_DEPTH||(pu>0||du>0)?0===pu?lu.update("overflowEmbeddingCount",Du.increase):lu:lu.update("directionalStatusStack",(function(au){return au.push(new Du.DirectionalStatusStackEntry({level:_u,override:"right-to-left"}))}))}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=fu(0),Du=fu(3);su.default=function r(au,su,fu,lu){if(au!==cu.LRO)return lu;var hu=lu.get("directionalStatusStack").peek().get("level"),pu=lu.get("overflowIsolateCount"),du=lu.get("overflowEmbeddingCount"),_u=hu+1+(hu+1)%2;return _u>cu.MAX_DEPTH||(pu>0||du>0)?0===pu?lu.update("overflowEmbeddingCount",Du.increase):lu:lu.update("directionalStatusStack",(function(au){return au.push(new Du.DirectionalStatusStackEntry({level:_u,override:"left-to-right"}))}))}},function(au,su,fu){"use strict";function r(au){return au&&au.__esModule?au:{default:au}}Object.defineProperty(su,"__esModule",{value:!0});var cu=r(fu(8)),Du=r(fu(9)),lu=r(fu(10)),hu=r(fu(11)),pu=fu(0);su.default=function n(au,su,fu,du,_u,vu){if(au!==pu.FSI)return du;var Fu=(0,hu.default)(_u).initiatorToPDI.get(fu,-1),Eu=fu+1,Cu=Fu>-1?Fu:_u.size,Au=_u.slice(Eu,Cu),yu=vu.slice(Eu,Cu);return 1===(0,lu.default)(Au,yu)?(0,cu.default)(pu.RLI,su,fu,du,_u):(0,Du.default)(pu.LRI,su,fu,du,_u)}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=function(au){return au&&au.__esModule?au:{default:au}}(fu(2)),Du=fu(0),lu=fu(1);su.default=function r(au,su){if(su>=au.size)return-1;if(!(0,cu.default)([Du.LRI,Du.RLI,Du.FSI],au.get(su)))return-1;var fu=au.slice(su+1),hu=(0,lu.Record)({counter:1,index:-1},"BD9State");return fu.reduce((function(au,fu,lu){if(au.get("index")>-1)return au;var pu=function(){var su=au.get("counter");return(0,cu.default)([Du.LRI,Du.RLI,Du.FSI],fu)?su+1:fu===Du.PDI?su-1:su}();return fu===Du.PDI&&0===pu?new hu({counter:pu,index:su+(lu+1)}):au.set("counter",pu)}),new hu).get("index")}},function(au,su,fu){"use strict";function r(au){return au&&au.__esModule?au:{default:au}}Object.defineProperty(su,"__esModule",{value:!0});var cu=r(fu(4)),Du=(r(fu(2)),fu(0));su.default=function n(au,su,fu,lu){if((0,Du.isNonFormatting)(su))return lu;var hu=lu.get("directionalStatusStack").peek(),pu=hu.get("level");return(0,cu.default)((function(au){return au.update("embeddingLevels",(function(au){return au.set(fu,pu)}))}),(function(au){var su=hu.get("override");if("neutral"!==su){var cu="left-to-right"===su?"L":"R";return au.update("bidiTypes",(function(au){return au.set(fu,cu)}))}return au}))(lu)}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0}),su.pdi=void 0;var cu=function(au){return au&&au.__esModule?au:{default:au}}(fu(4)),Du=fu(0),lu=fu(3);su.pdi=function r(au,su,fu,hu){if(au!==Du.PDI)return hu;var pu=hu.get("overflowIsolateCount"),du=hu.get("validIsolateCount");return(0,cu.default)((function(au){return pu>0?au.update("overflowIsolateCount",lu.decrease):0===du?au:au.set("overflowEmbeddingCount",0).update("directionalStatusStack",(function(au){return au.skipWhile((function(au){return!1===au.get("isolate")}))})).update("directionalStatusStack",(function(au){return au.pop()})).update("validIsolateCount",lu.decrease)}),(function(au){var su=au.get("directionalStatusStack").peek().get("level");return au.update("embeddingLevels",(function(au){return au.set(fu,su)}))}),(function(au){var su=au.get("directionalStatusStack").peek().get("override");if("neutral"!==su){var cu="left-to-right"===su?"L":"R";return au.setIn(["bidiTypes",fu],cu)}return au}))(hu)}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0}),su.pdf=void 0;var cu=fu(0),Du=fu(3),lu=function(au){return au&&au.__esModule?au:{default:au}}(fu(4));su.pdf=function r(au,su,fu,hu){return au!==cu.PDF?hu:(0,lu.default)((function(au){var su=au.get("directionalStatusStack").peek().get("level");return au.setIn(["embeddingLevels","levels",fu],su)}),(function(au){var su=au.get("overflowIsolateCount"),fu=au.get("overflowEmbeddingCount"),cu=au.get("directionalStatusStack"),lu=cu.peek().get("isolate");return su>0?au:fu>0?au.update("overflowEmbeddingCount",Du.decrease):!1===lu&&cu.size>=2?au.set("directionalStatusStack",cu.pop()):au}))(hu)}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var n=function(au,su){if(Array.isArray(au))return au;if(Symbol.iterator in Object(au))return function t(au,su){var fu=[],cu=!0,Du=!1,lu=void 0;try{for(var hu,pu=au[Symbol.iterator]();!(cu=(hu=pu.next()).done)&&(fu.push(hu.value),!su||fu.length!==su);cu=!0);}catch(au){Du=!0,lu=au}finally{try{!cu&&pu.return&&pu.return()}finally{if(Du)throw lu}}return fu}(au,su);throw new TypeError("Invalid attempt to destructure non-iterable instance")},cu=fu(1);su.default=function r(au){var su=au.reduce((function(au,su){var fu=n(su,3),cu=fu[0],Du=fu[1],lu=fu[2];return au.update(0,(function(au){return au.push(cu)})).update(1,(function(au){return au.push(Du)})).update(2,(function(au){return au.push(lu)}))}),cu.List.of(cu.List.of(),cu.List.of(),cu.List.of()));return[su.get(0),su.get(1),su.get(2)]}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=fu(3);su.default=function r(au,su){var fu=au.filter((function(au){return su>=au.get("from")&&su<au.get("to")}));return fu.size>0?fu.last():new cu.Run}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=fu(1);su.default=function r(au){return au.butLast().reduce((function(au,su){var fu=su.toJS(),cu=fu.from,Du=fu.to-cu,lu=au.get(-1);return au.push(Du+lu)}),cu.List.of(0))}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0}),su.default=function r(au,su){return au.zipWith((function(au,su){return"L"===au?su+su%2:"R"===au?su+(su+1)%2:"AN"===au||"EN"===au?su+1+(su+1)%2:void 0}),su)}},function(au,su,fu){"use strict";function r(au){return au&&au.__esModule?au:{default:au}}Object.defineProperty(su,"__esModule",{value:!0});var o=function(au,su){if(Array.isArray(au))return au;if(Symbol.iterator in Object(au))return function t(au,su){var fu=[],cu=!0,Du=!1,lu=void 0;try{for(var hu,pu=au[Symbol.iterator]();!(cu=(hu=pu.next()).done)&&(fu.push(hu.value),!su||fu.length!==su);cu=!0);}catch(au){Du=!0,lu=au}finally{try{!cu&&pu.return&&pu.return()}finally{if(Du)throw lu}}return fu}(au,su);throw new TypeError("Invalid attempt to destructure non-iterable instance")},cu=fu(1),Du=fu(35),lu=(r(fu(7)),fu(0),fu(12)),hu=r(lu),pu=r(fu(43)),du=r(fu(44)),_u=r(fu(46));su.default=function n(au,su,fu){return fu.reduce((function(su,fu){return function i(au,su,fu){var lu=au.zip(su),vu=(0,hu.default)(fu.get("runs").map((function(au){var su=au.toJS(),fu=su.from,cu=su.to;return lu.slice(fu,cu)})).flatten()),Fu=o(vu,2),Eu=Fu[0],Cu=Fu[1],Au=[Du.nsm,Du.en,Du.al,Du.es,Du.et,Du.on,Du.enToL,du.default,pu.default,_u.default].reduce((function(au,su){var cu=fu.get("runs").first().get("level");return su(au,Eu,fu.get("sos"),fu.get("eos"),cu,Cu)}),Cu),yu=fu.get("runs").butLast().reduce((function(au,su){var fu=su.toJS(),cu=fu.from,Du=fu.to-cu,lu=au.get(-1);return au.push(Du+lu)}),cu.List.of(0)),Bu=fu.get("runs").zip(yu).map((function(au){var su=o(au,2),fu=su[0],cu=su[1],Du=fu.toJS(),lu=Du.from,hu=Du.to-lu;return Au.slice(cu,cu+hu)}));return fu.get("runs").zip(Bu).reduce((function(au,su){var fu=o(su,2),cu=fu[0],Du=fu[1],lu=cu.toJS(),hu=lu.from,pu=lu.to;return au.slice(0,hu).concat(Du).concat(au.slice(pu))}),su)}(au,su,fu)}),su)}},function(au,su,fu){"use strict";function r(au){return au&&au.__esModule?au:{default:au}}Object.defineProperty(su,"__esModule",{value:!0}),su.enToL=su.on=su.et=su.es=su.al=su.en=su.nsm=void 0;var cu=r(fu(36)),Du=r(fu(37)),lu=r(fu(38)),hu=r(fu(39)),pu=r(fu(40)),du=r(fu(41)),_u=r(fu(42));su.nsm=cu.default,su.en=Du.default,su.al=lu.default,su.es=hu.default,su.et=pu.default,su.on=du.default,su.enToL=_u.default},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=fu(1),Du=fu(0);su.default=function r(au,su,fu,lu){return au.reduce((function(au,cu,lu){if("NSM"!==cu)return au.push(cu);if(lu<=0)return au.push(fu);var hu=au.get(lu-1),pu=su.get(lu-1);return(0,Du.isIsolateInitiator)(hu)||(0,Du.isPDI)(pu)?au.push("ON"):au.push(hu)}),cu.List.of())}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=fu(0);su.default=function r(au,su,fu,Du,lu){return au.map((function(su,Du){return"EN"!==su?su:"AL"===au.slice(0,Du).reverse().push(fu).find((function(au){return(0,cu.isStrong)(au)}))?"AN":su}))}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0}),su.default=function r(au){return au.map((function(au){return"AL"===au?"R":au}))}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=function(au){return au&&au.__esModule?au:{default:au}}(fu(2));su.default=function r(au){if(au.size<3)return au;var su=au.take(1),fu=au.skip(2).zipWith((function(au,su,fu){return"EN"===au&&au===fu&&"ES"===su?"EN":"CS"===su&&function(au){return(0,cu.default)(["AN","EN"],au)}(au)&&au===fu?au:su}),au.skip(1),au),Du=au.last();return su.concat(fu).push(Du)}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=fu(0);su.default=function r(au){return au.map((function(su,fu){if("ET"!==su)return su;var Du=au.slice(0,fu).reverse(),lu=au.slice(fu),hu="EN"===Du.skipWhile(cu.isET).first(),pu="EN"===lu.skipWhile(cu.isET).first();return hu||pu?"EN":su}))}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=function(au){return au&&au.__esModule?au:{default:au}}(fu(2));su.default=function r(au,su){return au.map((function(au,su){return(0,cu.default)(["ET","ES","CS","B","S"],au)?"ON":au}))}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=fu(0);su.default=function r(au,su,fu,Du,lu){return au.map((function(su,Du){return"EN"!==su?su:"L"===au.slice(0,Du).reverse().push(fu).find((function(au){return(0,cu.isStrong)(au)}))?"L":su}))}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=fu(0);su.default=function r(au,su,fu,Du,lu){return au.map((function(su,lu){if(!(0,cu.isNI)(su))return su;var hu=au.slice(0,lu).reverse().push(fu),pu=au.slice(lu).push(Du),du=hu.skipWhile(cu.isNI).first(),_u=pu.skipWhile(cu.isNI).first();return"L"===du&&"L"===_u?"L":(0,cu.isR)(du)&&(0,cu.isR)(_u)?"R":su}))}},function(au,su,fu){"use strict";function r(au){return au&&au.__esModule?au:{default:au}}Object.defineProperty(su,"__esModule",{value:!0});var cu=(r(fu(6)),fu(45)),Du=r(cu),lu=r(fu(4)),hu=r(fu(2));su.default=function n(au,su,fu,cu,pu,du){var _u=(0,Du.default)(su);return(0,lu.default)((function(){return _u.reduce((function(au,su){var cu=su.get("open"),Du=su.get("close");if(au.get(cu)!==au.get(Du))return au;var lu=au.slice(cu,Du+1).map((function(au){return(0,hu.default)(["EN","AN"],au)?"R":au})),du=pu%2==0?"L":"R",_u=pu%2==0?"R":"L",vu=lu.find((function(au){return au===du})),Fu=lu.find((function(au){return au===_u}));return vu?au.set(cu,du).set(Du,du):Fu?au.slice(0,cu).map((function(au){return(0,hu.default)(["EN","AN"],au)?"R":au})).reverse().push(fu).find((function(au){return(0,hu.default)(["L","R"],au)}))===_u?au.set(cu,_u).set(Du,_u):au.set(cu,du).set(Du,du):au}),au)}),(function(au){return _u.reduce((function(au,su){var fu=su.get("open"),cu=su.get("close"),Du=(0,hu.default)(["L","R"],au.get(fu)),pu=(0,hu.default)(["L","R"],au.get(cu));return(0,lu.default)((function(au){return"NSM"===du.get(fu+1)&&Du?au.set(fu+1,au.get(fu)):au}),(function(au){return"NSM"===du.get(cu+1)&&pu?au.set(cu+1,au.get(cu)):au}))(au)}),au)}))()}},function(au,su,fu){"use strict";function r(au){return au&&au.__esModule?au:{default:au}}Object.defineProperty(su,"__esModule",{value:!0});var cu=r(fu(6)),Du=(r(fu(2)),fu(3)),lu=r((fu(0),fu(13))),hu=r(fu(14)),pu=r(fu(15));su.default=function n(au,su){var fu=new Du.BracketPairState;return au.reduce((function(au,su,fu){if(!0===au.get("stackoverflow"))return au;var du=au.get("stack");if(lu.default.has(su))return 63==du.size?au.set("stackoverflow",!0):au.set("stack",du.push(new Du.BracketPairStackEntry({point:pu.default.get(su),position:fu})));if(hu.default.has(su)&&du.size>0){var _u=du.findKey((function(au){return au.get("point")===su}));if((0,cu.default)(_u))return au;var vu=du.getIn([_u,"position"]);return au.set("stack",du.slice(_u+1)).update("pairings",(function(au){return au.push(new Du.Pairing({open:vu,close:fu}))}))}return au}),fu).get("pairings").sort((function(au,su){return au.get("open")-su.get("open")}))}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=fu(0);su.default=function r(au,su,fu,Du,lu){var hu=lu%2==0?"L":"R";return au.map((function(au,su){return(0,cu.isNI)(au)?hu:au}))}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var n=function(au,su){if(Array.isArray(au))return au;if(Symbol.iterator in Object(au))return function t(au,su){var fu=[],cu=!0,Du=!1,lu=void 0;try{for(var hu,pu=au[Symbol.iterator]();!(cu=(hu=pu.next()).done)&&(fu.push(hu.value),!su||fu.length!==su);cu=!0);}catch(au){Du=!0,lu=au}finally{try{!cu&&pu.return&&pu.return()}finally{if(Du)throw lu}}return fu}(au,su);throw new TypeError("Invalid attempt to destructure non-iterable instance")},cu=function(au){return au&&au.__esModule?au:{default:au}}(fu(2)),a=function(au){return(0,cu.default)(["WS","FSI","LRI","RLI","PDI"],au)};su.default=function r(au,su,fu){return au.zip(su).map((function(su,Du){var lu=n(su,2),hu=lu[0],pu=lu[1];if((0,cu.default)(["S","B"],hu))return fu;if(!a(hu))return pu;var du=au.slice(Du).push("<EOL>").skipWhile(a).first();return(0,cu.default)(["<EOL>","S","B"],du)?fu:pu}))}},function(au,su,fu){"use strict";function n(au,su){var fu=i(su,0).groupBy((function(au){return au.get("level")})),lu=fu.keySeq().max();if(!(0,Du.default)(lu)||lu<0)return au;if(0===lu)return au;var hu=fu.get(lu);return n(hu.reduce((function(au,su){var fu=su.toJS(),cu=fu.from,Du=fu.to,lu=au.slice(cu,Du).reverse();return c(au,cu,Du,lu)}),au),hu.reduce((function(au,su){var fu=su.toJS(),Du=fu.from,hu=fu.to,pu=(0,cu.List)((0,cu.Range)(0,hu-Du)).map((function(au){return lu-1}));return c(au,Du,hu,pu)}),su))}function i(au,su){var fu=au.size;if(0===fu)return cu.List.of();var Du=au.first(),hu=au.findKey((function(au){return au!=Du})),pu=void 0===hu?fu:hu,du=new lu({level:Du,from:su,to:su+pu});return cu.List.of(du).concat(i(au.slice(pu),su+pu))}Object.defineProperty(su,"__esModule",{value:!0}),su.reorderPermutation=void 0;var cu=fu(1),Du=function(au){return au&&au.__esModule?au:{default:au}}(fu(49)),lu=(0,cu.Record)({level:-1,from:0,to:0},"ReorderPair"),c=function(au,su,fu,cu){var Du=au.slice(0,su),lu=au.slice(fu);return Du.concat(cu).concat(lu)};su.reorderPermutation=function r(au){var su=arguments.length>1&&void 0!==arguments[1]&&arguments[1],fu=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",Du=(0,cu.List)((0,cu.Range)(0,au.size)).map((function(su){return(0,cu.Map)({strip:au.get(su)===fu,index:su})})).filter((function(au){return!1===au.get("strip")})).map((function(au){return au.get("index")})),lu=au.filter((function(au){return au!=fu})),hu=n(Du,lu),pu=(0,cu.Record)({remaining:(0,cu.List)(),result:(0,cu.List)()},"Reduction"),du=new pu({remaining:hu,result:(0,cu.List)()}),_u=(0,cu.List)((0,cu.Range)(0,au.size)).reduce((function(su,cu){if(au.get(cu)==fu){var Du=su.get("result").size;return su.setIn(["result",cu],Du)}var lu=su.get("remaining");return su.setIn(["result",cu],lu.first()).set("remaining",lu.shift())}),du).get("result");return su?hu:_u},su.default=n},function(au,su){var fu="[object Number]",cu=Object.prototype.toString;au.exports=function r(au){return"number"==typeof au||function u(au){return!!au&&"object"==typeof au}(au)&&cu.call(au)==fu}},function(au,su,fu){(function(su){!function(su){au.exports=su()}((function(){return function t(au,su,fu){function i(Du,lu){if(!su[Du]){if(!au[Du]){if(cu)return cu(Du,!0);var hu=new Error("Cannot find module '"+Du+"'");throw hu.code="MODULE_NOT_FOUND",hu}var pu=su[Du]={exports:{}};au[Du][0].call(pu.exports,(function(su){return i(au[Du][1][su]||su)}),pu,pu.exports,t,au,su,fu)}return su[Du].exports}for(var cu=!1,Du=0;Du<fu.length;Du++)i(fu[Du]);return i}({1:[function(au,fu,cu){(function(au){!function(su){function i(au){throw new RangeError(bu[au])}function o(au,su){for(var fu=au.length,cu=[];fu--;)cu[fu]=su(au[fu]);return cu}function a(au,su){var fu=au.split("@"),cu="";return fu.length>1&&(cu=fu[0]+"@",au=fu[1]),cu+o((au=au.replace(wu,".")).split("."),su).join(".")}function s(au){for(var su,fu,cu=[],Du=0,lu=au.length;Du<lu;)(su=au.charCodeAt(Du++))>=55296&&su<=56319&&Du<lu?56320==(64512&(fu=au.charCodeAt(Du++)))?cu.push(((1023&su)<<10)+(1023&fu)+65536):(cu.push(su),Du--):cu.push(su);return cu}function f(au){return o(au,(function(au){var su="";return au>65535&&(su+=Lu((au-=65536)>>>10&1023|55296),au=56320|1023&au),su+Lu(au)})).join("")}function c(au){return au-48<10?au-22:au-65<26?au-65:au-97<26?au-97:vu}function D(au,su){return au+22+75*(au<26)-((0!=su)<<5)}function l(au,su,fu){var cu=0;for(au=fu?xu(au/Au):au>>1,au+=xu(au/su);au>Iu*Eu>>1;cu+=vu)au=xu(au/Iu);return xu(cu+(Iu+1)*au/(au+Cu))}function h(au){var su,fu,cu,Du,lu,hu,pu,du,Cu,Au,mu=[],Su=au.length,wu=0,bu=Bu,Iu=yu;for((fu=au.lastIndexOf(gu))<0&&(fu=0),cu=0;cu<fu;++cu)au.charCodeAt(cu)>=128&&i("not-basic"),mu.push(au.charCodeAt(cu));for(Du=fu>0?fu+1:0;Du<Su;){for(lu=wu,hu=1,pu=vu;Du>=Su&&i("invalid-input"),((du=c(au.charCodeAt(Du++)))>=vu||du>xu((_u-wu)/hu))&&i("overflow"),wu+=du*hu,!(du<(Cu=pu<=Iu?Fu:pu>=Iu+Eu?Eu:pu-Iu));pu+=vu)hu>xu(_u/(Au=vu-Cu))&&i("overflow"),hu*=Au;Iu=l(wu-lu,su=mu.length+1,0==lu),xu(wu/su)>_u-bu&&i("overflow"),bu+=xu(wu/su),wu%=su,mu.splice(wu++,0,bu)}return f(mu)}function p(au){var su,fu,cu,Du,lu,hu,pu,du,Cu,Au,mu,Su,wu,bu,Iu,Mu=[];for(Su=(au=s(au)).length,su=Bu,fu=0,lu=yu,hu=0;hu<Su;++hu)(mu=au[hu])<128&&Mu.push(Lu(mu));for(cu=Du=Mu.length,Du&&Mu.push(gu);cu<Su;){for(pu=_u,hu=0;hu<Su;++hu)(mu=au[hu])>=su&&mu<pu&&(pu=mu);for(pu-su>xu((_u-fu)/(wu=cu+1))&&i("overflow"),fu+=(pu-su)*wu,su=pu,hu=0;hu<Su;++hu)if((mu=au[hu])<su&&++fu>_u&&i("overflow"),mu==su){for(du=fu,Cu=vu;!(du<(Au=Cu<=lu?Fu:Cu>=lu+Eu?Eu:Cu-lu));Cu+=vu)Iu=du-Au,bu=vu-Au,Mu.push(Lu(D(Au+Iu%bu,0))),du=xu(Iu/bu);Mu.push(Lu(D(du,0))),lu=l(fu,wu,cu==Du),fu=0,++cu}++fu,++su}return Mu.join("")}var Du="object"==typeof cu&&cu&&!cu.nodeType&&cu,lu="object"==typeof fu&&fu&&!fu.nodeType&&fu,hu="object"==typeof au&&au;hu.global!==hu&&hu.window!==hu&&hu.self!==hu||(su=hu);var pu,du,_u=2147483647,vu=36,Fu=1,Eu=26,Cu=38,Au=700,yu=72,Bu=128,gu="-",mu=/^xn--/,Su=/[^\x20-\x7E]/,wu=/[\x2E\u3002\uFF0E\uFF61]/g,bu={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Iu=vu-Fu,xu=Math.floor,Lu=String.fromCharCode;if(pu={version:"1.4.1",ucs2:{decode:s,encode:f},decode:h,encode:p,toASCII:function _(au){return a(au,(function(au){return Su.test(au)?"xn--"+p(au):au}))},toUnicode:function d(au){return a(au,(function(au){return mu.test(au)?h(au.slice(4).toLowerCase()):au}))}},Du&&lu)if(fu.exports==Du)lu.exports=pu;else for(du in pu)pu.hasOwnProperty(du)&&(Du[du]=pu[du]);else su.punycode=pu}(this)}).call(this,void 0!==su?su:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(au,su,fu){su.exports=/[\u0608\u060B\u060D\u061B\u061C\u061E-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u08A0-\u08B4\u08B6-\u08BD\uFB50-\uFBC1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]/},{}],3:[function(au,su,fu){su.exports=/[\u0600-\u0605\u0660-\u0669\u066B\u066C\u06DD\u08E2]|\uD803[\uDE60-\uDE7E]/},{}],4:[function(au,su,fu){su.exports=/[\0-\x08\x0E-\x1B\x7F-\x84\x86-\x9F\xAD\u180E\u200B-\u200D\u2060-\u2064\u206A-\u206F\uFEFF]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},{}],5:[function(au,su,fu){su.exports=/[,\.\/:\xA0\u060C\u202F\u2044\uFE50\uFE52\uFE55\uFF0C\uFF0E\uFF0F\uFF1A]/},{}],6:[function(au,su,fu){su.exports=/[0-9\xB2\xB3\xB9\u06F0-\u06F9\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFF10-\uFF19]|\uD800[\uDEE1-\uDEFB]|\uD835[\uDFCE-\uDFFF]|\uD83C[\uDD00-\uDD0A]/},{}],7:[function(au,su,fu){su.exports=/[\+\-\u207A\u207B\u208A\u208B\u2212\uFB29\uFE62\uFE63\uFF0B\uFF0D]/},{}],8:[function(au,su,fu){su.exports=/[#-%\xA2-\xA5\xB0\xB1\u058F\u0609\u060A\u066A\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u2030-\u2034\u20A0-\u20BE\u212E\u2213\uA838\uA839\uFE5F\uFE69\uFE6A\uFF03-\uFF05\uFFE0\uFFE1\uFFE5\uFFE6]/},{}],9:[function(au,su,fu){su.exports=/\u2068/},{}],10:[function(au,su,fu){su.exports=/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u055F\u0561-\u0587\u0589\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C7F\u0C80\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1735\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4B\u1B50-\u1B6A\u1B74-\u1B7C\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1CC0-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u32FE\u3300-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FD\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BD-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB65\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uE000-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD00\uDD02\uDD07-\uDD33\uDD37-\uDD3F\uDD8D\uDD8E\uDDD0-\uDDFC\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF23\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDF9F-\uDFC3\uDFC8-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD6F\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD804[\uDC00\uDC02-\uDC37\uDC47-\uDC4D\uDC66-\uDC6F\uDC82-\uDCB2\uDCB7\uDCB8\uDCBB-\uDCC1\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD2C\uDD36-\uDD43\uDD50-\uDD72\uDD74-\uDD76\uDD82-\uDDB5\uDDBF-\uDDC9\uDDCD\uDDD0-\uDDDF\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2E\uDE32\uDE33\uDE35\uDE38-\uDE3D\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA9\uDEB0-\uDEDE\uDEE0-\uDEE2\uDEF0-\uDEF9\uDF02\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC37\uDC40\uDC41\uDC45\uDC47-\uDC59\uDC5B\uDC5D\uDC80-\uDCB2\uDCB9\uDCBB-\uDCBE\uDCC1\uDCC4-\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB1\uDDB8-\uDDBB\uDDBE\uDDC1-\uDDDB\uDE00-\uDE32\uDE3B\uDE3C\uDE3E\uDE41-\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEAC\uDEAE\uDEAF\uDEB6\uDEC0-\uDEC9\uDF00-\uDF19\uDF20\uDF21\uDF26\uDF30-\uDF3F]|\uD806[\uDCA0-\uDCF2\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2F\uDC3E-\uDC45\uDC50-\uDC6C\uDC70-\uDC8F\uDCA9\uDCB1\uDCB4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC70-\uDC74\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE6E\uDE6F\uDED0-\uDEED\uDEF5\uDF00-\uDF2F\uDF37-\uDF45\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9C\uDC9F]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD66\uDD6A-\uDD72\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDE8\uDF60-\uDF71]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEDA\uDEDC-\uDF14\uDF16-\uDF4E\uDF50-\uDF88\uDF8A-\uDFC2\uDFC4-\uDFCB]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE8B]|\uD83C[\uDD10-\uDD2E\uDD30-\uDD69\uDD70-\uDDAC\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|[\uDBBF\uDBFF][\uDC00-\uDFFD]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},{}],11:[function(au,su,fu){su.exports=/\u202A/},{}],12:[function(au,su,fu){su.exports=/\u2066/},{}],13:[function(au,su,fu){su.exports=/\u202D/},{}],14:[function(au,su,fu){su.exports=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDCA-\uDDCC\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]/},{}],15:[function(au,su,fu){su.exports=/[!"&-\*;-@\[-`\{-~\xA1\xA6-\xA9\xAB\xAC\xAE\xAF\xB4\xB6-\xB8\xBB-\xBF\xD7\xF7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u02FF\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u058A\u058D\u058E\u0606\u0607\u060E\u060F\u06DE\u06E9\u07F6-\u07F9\u0BF3-\u0BF8\u0BFA\u0C78-\u0C7E\u0F3A-\u0F3D\u1390-\u1399\u1400\u169B\u169C\u17F0-\u17F9\u1800-\u180A\u1940\u1944\u1945\u19DE-\u19FF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2010-\u2027\u2035-\u2043\u2045-\u205E\u207C-\u207E\u208C-\u208E\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189-\u218B\u2190-\u2211\u2214-\u2335\u237B-\u2394\u2396-\u23FE\u2400-\u2426\u2440-\u244A\u2460-\u2487\u24EA-\u26AB\u26AD-\u27FF\u2900-\u2B73\u2B76-\u2B95\u2B98-\u2BB9\u2BBD-\u2BC8\u2BCA-\u2BD1\u2BEC-\u2BEF\u2CE5-\u2CEA\u2CF9-\u2CFF\u2E00-\u2E44\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u303F\u309B\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA673\uA67E\uA67F\uA700-\uA721\uA788\uA828-\uA82B\uA874-\uA877\uFD3E\uFD3F\uFDFD\uFE10-\uFE19\uFE30-\uFE4F\uFE51\uFE54\uFE56-\uFE5E\uFE60\uFE61\uFE64-\uFE66\uFE68\uFE6B\uFF01\uFF02\uFF06-\uFF0A\uFF1B-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE2-\uFFE4\uFFE8-\uFFEE\uFFF9-\uFFFD]|\uD800[\uDD01\uDD40-\uDD8C\uDD90-\uDD9B\uDDA0]|\uD802[\uDD1F\uDF39-\uDF3F]|\uD804[\uDC52-\uDC65]|\uD805[\uDE60-\uDE6C]|\uD834[\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEDB\uDF15\uDF4F\uDF89\uDFC3]|\uD83B[\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0B\uDD0C\uDD6A\uDD6B\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED2\uDEE0-\uDEEC\uDEF0-\uDEF6\uDF00-\uDF73\uDF80-\uDFD4]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDD10-\uDD1E\uDD20-\uDD27\uDD30\uDD33-\uDD3E\uDD40-\uDD4B\uDD50-\uDD5E\uDD80-\uDD91\uDDC0]/},{}],16:[function(au,su,fu){su.exports=/[\n\r\x1C-\x1E\x85\u2029]/},{}],17:[function(au,su,fu){su.exports=/\u202C/},{}],18:[function(au,su,fu){su.exports=/\u2069/},{}],19:[function(au,su,fu){su.exports=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05F0-\u05F4\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFB4F]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC57-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD3F\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE40-\uDE47\uDE50-\uDE58\uDE60-\uDE9F\uDEC0-\uDEE4\uDEEB-\uDEF6\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDF99-\uDF9C\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDCFF]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD50-\uDD59\uDD5E\uDD5F]/},{}],20:[function(au,su,fu){su.exports=/\u202B/},{}],21:[function(au,su,fu){su.exports=/\u2067/},{}],22:[function(au,su,fu){su.exports=/\u202E/},{}],23:[function(au,su,fu){su.exports=/[\t\x0B\x1F]/},{}],24:[function(au,su,fu){su.exports=/[\f \u1680\u2000-\u200A\u2028\u205F\u3000]/},{}],25:[function(au,su,fu){"use strict";var cu=au("unicode-9.0.0/Bidi_Class/Arabic_Letter/regex"),Du=au("unicode-9.0.0/Bidi_Class/Arabic_Number/regex"),lu=au("unicode-9.0.0/Bidi_Class/Boundary_Neutral/regex"),hu=au("unicode-9.0.0/Bidi_Class/Common_Separator/regex"),pu=au("unicode-9.0.0/Bidi_Class/European_Number/regex"),du=au("unicode-9.0.0/Bidi_Class/European_Separator/regex"),_u=au("unicode-9.0.0/Bidi_Class/European_Terminator/regex"),vu=au("unicode-9.0.0/Bidi_Class/First_Strong_Isolate/regex"),Fu=au("unicode-9.0.0/Bidi_Class/Left_To_Right/regex"),Eu=au("unicode-9.0.0/Bidi_Class/Left_To_Right_Embedding/regex"),Cu=au("unicode-9.0.0/Bidi_Class/Left_To_Right_Isolate/regex"),Au=au("unicode-9.0.0/Bidi_Class/Left_To_Right_Override/regex"),yu=au("unicode-9.0.0/Bidi_Class/Nonspacing_Mark/regex"),Bu=au("unicode-9.0.0/Bidi_Class/Other_Neutral/regex"),gu=au("unicode-9.0.0/Bidi_Class/Paragraph_Separator/regex"),mu=au("unicode-9.0.0/Bidi_Class/Pop_Directional_Format/regex"),Su=au("unicode-9.0.0/Bidi_Class/Pop_Directional_Isolate/regex"),wu=au("unicode-9.0.0/Bidi_Class/Right_To_Left/regex"),bu=au("unicode-9.0.0/Bidi_Class/Right_To_Left_Embedding/regex"),Iu=au("unicode-9.0.0/Bidi_Class/Right_To_Left_Isolate/regex"),xu=au("unicode-9.0.0/Bidi_Class/Right_To_Left_Override/regex"),Lu=au("unicode-9.0.0/Bidi_Class/Segment_Separator/regex"),Mu=au("unicode-9.0.0/Bidi_Class/White_Space/regex"),zu=au("punycode"),Ou={AL:cu,AN:Du,BN:lu,CS:hu,EN:pu,ES:du,ET:_u,FSI:vu,L:Fu,LRE:Eu,LRI:Cu,LRO:Au,NSM:yu,ON:Bu,B:gu,PDF:mu,PDI:Su,R:wu,RLE:bu,RLI:Iu,RLO:xu,S:Lu,WS:Mu};su.exports=function r(au){var su,fu=zu.ucs2.encode([au]);for(su in Ou)if(!0===Ou[su].test(fu))return su}},{punycode:1,"unicode-9.0.0/Bidi_Class/Arabic_Letter/regex":2,"unicode-9.0.0/Bidi_Class/Arabic_Number/regex":3,"unicode-9.0.0/Bidi_Class/Boundary_Neutral/regex":4,"unicode-9.0.0/Bidi_Class/Common_Separator/regex":5,"unicode-9.0.0/Bidi_Class/European_Number/regex":6,"unicode-9.0.0/Bidi_Class/European_Separator/regex":7,"unicode-9.0.0/Bidi_Class/European_Terminator/regex":8,"unicode-9.0.0/Bidi_Class/First_Strong_Isolate/regex":9,"unicode-9.0.0/Bidi_Class/Left_To_Right/regex":10,"unicode-9.0.0/Bidi_Class/Left_To_Right_Embedding/regex":11,"unicode-9.0.0/Bidi_Class/Left_To_Right_Isolate/regex":12,"unicode-9.0.0/Bidi_Class/Left_To_Right_Override/regex":13,"unicode-9.0.0/Bidi_Class/Nonspacing_Mark/regex":14,"unicode-9.0.0/Bidi_Class/Other_Neutral/regex":15,"unicode-9.0.0/Bidi_Class/Paragraph_Separator/regex":16,"unicode-9.0.0/Bidi_Class/Pop_Directional_Format/regex":17,"unicode-9.0.0/Bidi_Class/Pop_Directional_Isolate/regex":18,"unicode-9.0.0/Bidi_Class/Right_To_Left/regex":19,"unicode-9.0.0/Bidi_Class/Right_To_Left_Embedding/regex":20,"unicode-9.0.0/Bidi_Class/Right_To_Left_Isolate/regex":21,"unicode-9.0.0/Bidi_Class/Right_To_Left_Override/regex":22,"unicode-9.0.0/Bidi_Class/Segment_Separator/regex":23,"unicode-9.0.0/Bidi_Class/White_Space/regex":24}]},{},[25])(25)}))}).call(su,fu(5))},function(au,su,fu){(function(au,cu){var Du;!function(cu){function o(au){throw new RangeError(mu[au])}function a(au,su){for(var fu=au.length,cu=[];fu--;)cu[fu]=su(au[fu]);return cu}function s(au,su){var fu=au.split("@"),cu="";return fu.length>1&&(cu=fu[0]+"@",au=fu[1]),cu+a((au=au.replace(gu,".")).split("."),su).join(".")}function f(au){for(var su,fu,cu=[],Du=0,lu=au.length;Du<lu;)(su=au.charCodeAt(Du++))>=55296&&su<=56319&&Du<lu?56320==(64512&(fu=au.charCodeAt(Du++)))?cu.push(((1023&su)<<10)+(1023&fu)+65536):(cu.push(su),Du--):cu.push(su);return cu}function c(au){return a(au,(function(au){var su="";return au>65535&&(su+=bu((au-=65536)>>>10&1023|55296),au=56320|1023&au),su+bu(au)})).join("")}function D(au){return au-48<10?au-22:au-65<26?au-65:au-97<26?au-97:pu}function l(au,su){return au+22+75*(au<26)-((0!=su)<<5)}function h(au,su,fu){var cu=0;for(au=fu?wu(au/Fu):au>>1,au+=wu(au/su);au>Su*_u>>1;cu+=pu)au=wu(au/Su);return wu(cu+(Su+1)*au/(au+vu))}function p(au){var su,fu,cu,Du,lu,vu,Fu,yu,Bu,gu,mu=[],Su=au.length,bu=0,Iu=Cu,xu=Eu;for((fu=au.lastIndexOf(Au))<0&&(fu=0),cu=0;cu<fu;++cu)au.charCodeAt(cu)>=128&&o("not-basic"),mu.push(au.charCodeAt(cu));for(Du=fu>0?fu+1:0;Du<Su;){for(lu=bu,vu=1,Fu=pu;Du>=Su&&o("invalid-input"),((yu=D(au.charCodeAt(Du++)))>=pu||yu>wu((hu-bu)/vu))&&o("overflow"),bu+=yu*vu,!(yu<(Bu=Fu<=xu?du:Fu>=xu+_u?_u:Fu-xu));Fu+=pu)vu>wu(hu/(gu=pu-Bu))&&o("overflow"),vu*=gu;xu=h(bu-lu,su=mu.length+1,0==lu),wu(bu/su)>hu-Iu&&o("overflow"),Iu+=wu(bu/su),bu%=su,mu.splice(bu++,0,Iu)}return c(mu)}function d(au){var su,fu,cu,Du,lu,vu,Fu,yu,Bu,gu,mu,Su,Iu,xu,Lu,Mu=[];for(Su=(au=f(au)).length,su=Cu,fu=0,lu=Eu,vu=0;vu<Su;++vu)(mu=au[vu])<128&&Mu.push(bu(mu));for(cu=Du=Mu.length,Du&&Mu.push(Au);cu<Su;){for(Fu=hu,vu=0;vu<Su;++vu)(mu=au[vu])>=su&&mu<Fu&&(Fu=mu);for(Fu-su>wu((hu-fu)/(Iu=cu+1))&&o("overflow"),fu+=(Fu-su)*Iu,su=Fu,vu=0;vu<Su;++vu)if((mu=au[vu])<su&&++fu>hu&&o("overflow"),mu==su){for(yu=fu,Bu=pu;!(yu<(gu=Bu<=lu?du:Bu>=lu+_u?_u:Bu-lu));Bu+=pu)Lu=yu-gu,xu=pu-gu,Mu.push(bu(l(gu+Lu%xu,0))),yu=wu(Lu/xu);Mu.push(bu(l(yu,0))),lu=h(fu,Iu,cu==Du),fu=0,++cu}++fu,++su}return Mu.join("")}"object"==typeof su&&su&&su.nodeType,"object"==typeof au&&au&&au.nodeType;var lu,hu=2147483647,pu=36,du=1,_u=26,vu=38,Fu=700,Eu=72,Cu=128,Au="-",yu=/^xn--/,Bu=/[^\x20-\x7E]/,gu=/[\x2E\u3002\uFF0E\uFF61]/g,mu={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Su=pu-du,wu=Math.floor,bu=String.fromCharCode;lu={version:"1.4.1",ucs2:{decode:f,encode:c},decode:p,encode:d,toASCII:function v(au){return s(au,(function(au){return Bu.test(au)?"xn--"+d(au):au}))},toUnicode:function _(au){return s(au,(function(au){return yu.test(au)?p(au.slice(4).toLowerCase()):au}))}},void 0!==(Du=function(){return lu}.call(su,fu,su,au))&&(au.exports=Du)}()}).call(su,fu(52)(au),fu(5))},function(au,su){au.exports=function(au){return au.webpackPolyfill||(au.deprecate=function(){},au.paths=[],au.children||(au.children=[]),Object.defineProperty(au,"loaded",{enumerable:!0,get:function(){return au.l}}),Object.defineProperty(au,"id",{enumerable:!0,get:function(){return au.i}}),au.webpackPolyfill=1),au}},function(au,su,fu){"use strict";Object.defineProperty(su,"__esModule",{value:!0});var cu=function(au){return au&&au.__esModule?au:{default:au}}(fu(16));su.default=function r(au,su){return au.map((function(au,fu){var Du=cu.default.get(au),lu=void 0!==Du,hu=su.get(fu)%2==1;return lu&&hu?Du.charCodeAt(0):au}))}}])}));!function(r,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():r.arabicConverter=e()}(this,(function(){"use strict";var r=[[1569,65152,0,0,0],[1570,65153,0,0,65154],[1571,65155,0,0,65156],[1572,65157,0,0,65158],[1573,65159,0,0,65160],[1574,65161,65163,65164,65162],[1575,65165,0,0,65166],[1576,65167,65169,65170,65168],[1577,65171,0,0,65172],[1578,65173,65175,65176,65174],[1579,65177,65179,65180,65178],[1580,65181,65183,65184,65182],[1581,65185,65187,65188,65186],[1582,65189,65191,65192,65190],[1583,65193,0,0,65194],[1584,65195,0,0,65196],[1585,65197,0,0,65198],[1586,65199,0,0,65200],[1587,65201,65203,65204,65202],[1588,65205,65207,65208,65206],[1589,65209,65211,65212,65210],[1590,65213,65215,65216,65214],[1591,65217,65219,65220,65218],[1592,65221,65223,65224,65222],[1593,65225,65227,65228,65226],[1594,65229,65231,65232,65230],[1600,1600,0,0,0],[1601,65233,65235,65236,65234],[1602,65237,65239,65240,65238],[1603,65241,65243,65244,65242],[1604,65245,65247,65248,65246],[1605,65249,65251,65252,65250],[1606,65253,65255,65256,65254],[1607,65257,65259,65260,65258],[1608,65261,0,0,65262],[1609,65263,0,0,65264],[1610,65265,65267,65268,65266]],e=[[[1604,1570],65269,0,0,65270],[[1604,1571],65271,0,0,65272],[[1604,1573],65273,0,0,65274],[[1604,1575],65275,0,0,65276]],t=[1552,1554,1555,1556,1557,1611,1612,1613,1614,1615,1616,1617,1618,1619,1620,1621,1622,1623,1624,1648,1750,1751,1752,1753,1754,1755,1756,1759,1760,1761,1762,1763,1764,1767,1768,1770,1771,1772,1773];function characterMapContains(e){for(var t=0;t<37;t++)if(r[t][0]===e)return!0;return!1}function getCharRep(e){for(var t=0;t<37;t++)if(r[t][0]===e)return r[t];return[0,0,0,0]}function getCombCharRep(r,t){for(var n=0;n<4;n++)if(e[n][0][0]===r&&e[n][0][1]===t)return e[n];return[[0,0],0,0,0]}function isTransparent(r){for(var e=0;e<39;e++)if(t[e]===r)return!0;return!1}return{convertArabic:function convertArabic(r){if(!r)return"";for(var e,t,n=r.length,a=[],o=0,i=0;i<n;i++){var c=r.charCodeAt(i);if(characterMapContains(c)){for(var f=0,u=0,C=i-1,h=i+1;C>=0&&isTransparent(r.charCodeAt(C));C--);for((C<0||!characterMapContains(f=r.charCodeAt(C))||0===(e=getCharRep(f))[2]&&0===e[3])&&(f=0);h<n&&isTransparent(r.charCodeAt(h));h++);if((h>=n||!characterMapContains(u=r.charCodeAt(h))||0===(e=getCharRep(u))[3]&&0===(e=getCharRep(u))[4]&&1600!==u)&&(u=0),1604===c&&0!==u&&(1570===u||1571===u||1573===u||1575===u)){t=getCombCharRep(c,u),a[o++]=0!==f?t[4]:t[1],i++;continue}if(e=getCharRep(c),0!==f&&0!==u&&0!==e[3]){a[o++]=e[3];continue}if(0!==f&&0!==e[4]){a[o++]=e[4];continue}if(0!==u&&0!==e[2]){a[o++]=e[2];continue}a[o++]=e[1]}else a[o++]=c}a[o]=0;for(var s="",p=0;p<o;p++)void 0!==a[p]&&(s+=String.fromCharCode(a[p]));return s},convertArabicBack:function convertArabicBack(t){if(!t)return"";for(var n,a,o="",i=0;i<t.length;i++)if(n=null,(a=t.charCodeAt(i))>=65136&&a<=65279){for(var c=0;c<37;c++)r[c][4]!==a&&r[c][2]!==a&&r[c][1]!==a&&r[c][3]!==a||(n=r[c][0]);if(!n)for(var f=0;f<4;f++)e[f][1]!==a&&e[f][4]!==a||(n=a);o+=n?String.fromCharCode(n):""}else o+=t[i];return o}}}));var rtlReorder=function(e){var r=e.map((function(e){return e.codePointAt(0)})),t=UnicodeBidirectional.resolve(r,0,!0),i=UnicodeBidirectional.reorderPermutation(t),n=1===t[0];return{rtl:n,mapping:n?i.reverse():i}},app=pc.Application.getApplication();app.systems.element.registerUnicodeConverter(arabicConverter.convertArabic),app.systems.element.registerRtlReorder(rtlReorder);var SwapLocale=pc.createScript("swapLocale");SwapLocale.attributes.add("languagesBtn",{type:"json",schema:[{name:"languageBtn",type:"entity"}],array:!0}),SwapLocale.attributes.add("langQuery",{type:"json",schema:[{name:"langQuery",type:"string"}],array:!0}),SwapLocale.prototype.initialize=function(){this._showEnglish=!0;for(let a=0;a<this.languagesBtn.length;a++)this.languagesBtn[a].languageBtn.button.on("click",this.changeLanugae,this)},SwapLocale.prototype.changeLanugae=function(a){console.log(a)},SwapLocale.prototype.update=function(a){this.app.keyboard.wasPressed(pc.KEY_SPACE)&&(this._showEnglish=!this._showEnglish,this._showEnglish?this.app.i18n.locale="en-US":this.app.i18n.locale="ar-EG")};var RtlElement=pc.createScript("rtlElement");RtlElement.prototype.initialize=function(){this.entity.element&&(this.entity.element.rtlReorder=!0,this.entity.element.unicodeConverter=!0)};var LocaliseImageTexts=pc.createScript("localiseImageTexts");LocaliseImageTexts.attributes.add("english",{type:"entity"}),LocaliseImageTexts.attributes.add("turkish",{type:"entity"}),LocaliseImageTexts.attributes.add("dutch",{type:"entity"}),LocaliseImageTexts.attributes.add("filipino",{type:"entity"}),LocaliseImageTexts.attributes.add("french",{type:"entity"}),LocaliseImageTexts.attributes.add("german",{type:"entity"}),LocaliseImageTexts.attributes.add("greek",{type:"entity"}),LocaliseImageTexts.attributes.add("hungarian",{type:"entity"}),LocaliseImageTexts.attributes.add("indonesian",{type:"entity"}),LocaliseImageTexts.attributes.add("italian",{type:"entity"}),LocaliseImageTexts.attributes.add("malay",{type:"entity"}),LocaliseImageTexts.attributes.add("polish",{type:"entity"}),LocaliseImageTexts.attributes.add("portugueseBrazil",{type:"entity"}),LocaliseImageTexts.attributes.add("romanian",{type:"entity"}),LocaliseImageTexts.attributes.add("serbian",{type:"entity"}),LocaliseImageTexts.attributes.add("spanish",{type:"entity"}),LocaliseImageTexts.attributes.add("vietnamese",{type:"entity"}),LocaliseImageTexts.attributes.add("russian",{type:"entity"}),LocaliseImageTexts.attributes.add("arabic",{type:"entity"}),LocaliseImageTexts.attributes.add("hebrew",{type:"entity"}),LocaliseImageTexts.attributes.add("hindi",{type:"entity"}),LocaliseImageTexts.attributes.add("japanese",{type:"entity"}),LocaliseImageTexts.attributes.add("korean",{type:"entity"}),LocaliseImageTexts.attributes.add("taiwanese",{type:"entity"}),LocaliseImageTexts.attributes.add("thai",{type:"entity"}),LocaliseImageTexts.attributes.add("urdu",{type:"entity"}),LocaliseImageTexts.prototype.initialize=function(){LocaliseImageTexts.Instance=this,this.setTxt()},LocaliseImageTexts.prototype.setTxt=function(){var e="";try{e=SettingsMenuEventListener.Instance.language}catch{e="russian"}console.log("Cutrrreennnnttt Language = "+e);var a=-1;switch(e){case"english":a=0;break;case"turkish":a=1;break;case"dutch":a=2;break;case"filipino":a=3;break;case"french":a=4;break;case"german":a=5;break;case"greek":a=6;break;case"hungarian":a=7;break;case"indonesian":a=8;break;case"italian":a=9;break;case"malay":a=10;break;case"polish":a=11;break;case"portugueseBrazil":a=12;break;case"romanian":a=13;break;case"serbian":a=14;break;case"spanish":a=15;break;case"vietnamese":a=16;break;case"russian":a=17;break;case"arabic":a=18;break;case"hebrew":a=19;break;case"hindi":a=20;break;case"japanese":a=21;break;case"korean":a=22;break;case"taiwanese":a=23;break;case"thai":a=24;break;case"urdu":a=25}-1!=a&&(console.log("Cutrrreennnnttt Language = "+a),this.english.enabled=0==a,this.turkish.enabled=1==a,this.dutch.enabled=2==a,this.filipino.enabled=3==a,this.french.enabled=4==a,this.german.enabled=5==a,this.greek.enabled=6==a,this.hungarian.enabled=7==a,this.indonesian.enabled=8==a,this.italian.enabled=9==a,this.malay.enabled=10==a,this.polish.enabled=11==a,this.portugueseBrazil.enabled=12==a,this.romanian.enabled=13==a,this.serbian.enabled=14==a,this.spanish.enabled=15==a,this.vietnamese.enabled=16==a,this.russian.enabled=17==a,this.arabic.enabled=18==a,this.hebrew.enabled=19==a,this.hindi.enabled=20==a,this.japanese.enabled=21==a,this.korean.enabled=22==a,this.taiwanese.enabled=23==a,this.thai.enabled=24==a,this.urdu.enabled=25==a)};var FontChanger=pc.createScript("fontChanger");FontChanger.attributes.add("comicBD",{type:"asset",assetType:"font"}),FontChanger.attributes.add("aRURHE",{type:"asset",assetType:"font"}),FontChanger.attributes.add("hindi",{type:"asset",assetType:"font"}),FontChanger.attributes.add("japanees",{type:"asset",assetType:"font"}),FontChanger.attributes.add("korean",{type:"asset",assetType:"font"}),FontChanger.attributes.add("taiwanese",{type:"asset",assetType:"font"}),FontChanger.attributes.add("thai",{type:"asset",assetType:"font"}),FontChanger.attributes.add("vietnamese",{type:"asset",assetType:"font"}),FontChanger.prototype.initialize=function(){FontChanger.Instance=this};var Vkmanager=pc.createScript("vkmanager");Vkmanager.attributes.add("isVKPlatform",{type:"boolean"}),Vkmanager.prototype.initialize=function(){Vkmanager.Instance=this,this.isVKPlatform&&(vkBridge.send("VKWebAppInit",{}),console.log("Initialisation should be complete"))};var AdsManager=pc.createScript("adsManager");AdsManager.attributes.add("bannerID",{title:"Banner ID",type:"string"}),AdsManager.attributes.add("interstitialID",{title:"Interstitial ID",type:"string"}),AdsManager.attributes.add("rewardedID",{title:"Video ID",type:"string"}),AdsManager.attributes.add("nonRewardedAds",{type:"entity"}),AdsManager.Type={Interstitial:0,Rewarded:1},AdsManager.prototype.initialize=function(){this.cooldownTimer=0,this.app.on(this.app.events.facebook.ads.show,this.showAd,this),this.app.on(this.app.events.facebook.ads.manageBanner,this.manageBanner,this)},AdsManager.prototype.update=function(e){this.cooldownTimer<=0||(this.cooldownTimer-=e)},AdsManager.prototype.showAd=function(e,a,t){switch(e){case AdsManager.Type.Interstitial:this.manageInterstitialRequest(a);break;case AdsManager.Type.Rewarded:this.manageRewardedRequest(a)}},AdsManager.prototype.manageInterstitialRequest=function(e){if(LevelsManager.Instance.getUnlockedLevels()<=this.app.adsSettings.noAdsLevel||this.cooldownTimer>0)return;if(this.cooldownTimer=this.app.adsSettings.cooldownTime,!Vkmanager.Instance.isVKPlatform)return void(e&&e(null));let a=EconomyManager.Instance.noAds;"string"==typeof a&&(a="true"===a),a||(SoundManager.Instance.musicCheck(!0),this.showAdHelper(AdsManager.Type.Interstitial,e))},AdsManager.prototype.manageRewardedRequest=function(e){Vkmanager.Instance.isVKPlatform?this.showAdHelper(AdsManager.Type.Rewarded,e):e&&e(null)},AdsManager.prototype.showAdHelper=function(e,a){if(Vkmanager.Instance.isVKPlatform||null!=e)switch(e){case AdsManager.Type.Interstitial:vkBridge.send("VKWebAppCheckNativeAds",{ad_format:"interstitial"}).then((e=>{e.result?(console.log("Is Ad available = "+e.result),vkBridge.send("VKWebAppShowNativeAds",{ad_format:"interstitial"}).then((e=>{e.result?(console.log("Ad displayed"),SoundManager.Instance.musicCheck(!1),a&&a(null)):console.log("Ad not displayed"),SoundManager.Instance.musicCheck(!1)})).catch((e=>{console.log(e),a&&a(e)}))):console.log("No ad materials found.")})).catch((e=>{console.log(e)}));break;case AdsManager.Type.Rewarded:vkBridge.send("VKWebAppCheckNativeAds",{ad_format:"reward"}).then((e=>{e.result?(console.log("Is Ad available = "+e.result),vkBridge.send("VKWebAppShowNativeAds",{ad_format:"reward"}).then((e=>{e.result?(console.log("Ad displayed"),SoundManager.Instance.musicCheck(!1),a&&a(null)):console.log("Ad not displayed"),SoundManager.Instance.musicCheck(!1)})).catch((e=>{console.log(e),a&&a(errorerror)}))):(console.log("No ad materials found."),null!==this.nonRewardedAds&&(this.nonRewardedAds.enabled=!0))})).catch((e=>{console.log(e)}))}else a&&a(null)};pc.script.createLoadingScreen((function(e){var t,a;t=["body {","    background-color: #283538;","}","","#application-splash-wrapper {","    position: absolute;","    top: 0;","    left: 0;","    height: 100%;","    width: 100%;","    background-color: #283538;","}","","#application-splash {","    position: absolute;","    top: calc(50% - 28px);","    width: 264px;","    left: calc(50% - 132px);","}","","#application-splash img {","    width: 100%;","}","","#progress-bar-container {","    margin: 20px auto 0 auto;","    height: 2px;","    width: 100%;","    background-color: #1d292c;","}","","#progress-bar {","    width: 0%;","    height: 100%;","    background-color: #f60;","}","","@media (max-width: 480px) {","    #application-splash {","        width: 170px;","        left: calc(50% - 85px);","    }","}"].join("\n"),(a=document.createElement("style")).type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t)),document.head.appendChild(a),function(){var e=document.createElement("div");e.id="application-splash-wrapper",document.body.appendChild(e);var t=document.createElement("div");t.id="application-splash",e.appendChild(t),t.style.display="none";var a=document.createElement("img");a.src="https://playcanvas.com/static-assets/images/play_text_252_white.png",t.appendChild(a),a.onload=function(){t.style.display="block"};var o=document.createElement("div");o.id="progress-bar-container",t.appendChild(o);var p=document.createElement("div");p.id="progress-bar",o.appendChild(p)}(),e.on("preload:end",(function(){e.off("preload:progress")})),e.on("preload:progress",(function(e){var t=document.getElementById("progress-bar");t&&(e=Math.min(1,Math.max(0,e)),t.style.width=100*e+"%")})),e.on("start",(function(){var e=document.getElementById("application-splash-wrapper");e.parentElement.removeChild(e)}))}));var LocalStorage=pc.createScript("localStorage");function storageAvailable(e){try{var t=window[e],o="__storage_test__";return t.setItem(o,o),t.removeItem(o),!0}catch(e){return!1}}LocalStorage.prototype.initialize=function(){LocalStorage.Instance=this,this.brainPoints=0,this.levelsCompleted=0,this.dummyadsRemoved=0,this.adsRemoved=0,console.log("storageAvailable = "+storageAvailable("localStorage")),storageAvailable("localStorage")&&(this.brainPoints=localStorage.getItem("brainPoints"),this.levelsCompleted=localStorage.getItem("levelsCompleted"),this.dummyadsRemoved=localStorage.getItem("dummyadsRemoved"),null===this.brainPoints&&(this.brainPoints=0),null===this.levelsCompleted&&(this.levelsCompleted=0),null===this.dummyadsRemoved&&(this.dummyadsRemoved=0),console.log("brainPoints = "+this.brainPoints),console.log("levelsCompleted = "+this.levelsCompleted),console.log("dummyadsRemoved = "+this.dummyadsRemoved))};var IapsManager=pc.createScript("iapsManager");IapsManager.attributes.add("isSupportedPlatform",{type:"boolean"}),IapsManager.attributes.add("iaps",{type:"json",title:"IAPs",schema:[{title:"Product ID",name:"id",type:"string"}],array:!0}),IapsManager.prototype.initialize=function(){IapsManager.Instance=this,this.catalog=void 0,this.checkSupport(),this.app.on(this.app.events.facebook.iaps.purchase,this.purchaseProduct,this),this.app.on(this.app.events.facebook.iaps.consume,this.consumeProduct,this),this.app.on(this.app.events.facebook.iaps.getCatalog,this.getProductsCatalog,this)},IapsManager.prototype.checkSupport=function(){this.isSupported=!1,this.isMobile=!!this.app.touch,this.isSupported=this.isMobile,this.isSupportedPlatform=this.isSupported},IapsManager.prototype.purchaseProduct=function(t,a){Vkmanager.Instance.isVKPlatform&&(console.log("Trying to purchase = "+this.iaps[t].id),vkBridge.send("VKWebAppShowOrderBox",{type:"item",item:this.iaps[t].id}).then((t=>{console.log("The purchase took place.",t),a&&a(t)})).catch((t=>{console.log("Error!",t),a&&a(null,t)})))};